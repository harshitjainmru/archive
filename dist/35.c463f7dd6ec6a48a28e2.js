(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"+qE3":function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,c,r,s,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var p=new Error('Uncaught, unspecified "error" event. ('+e+")");throw p.context=e,p}if(a(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(o(n))for(r=Array.prototype.slice.call(arguments,1),c=(l=n.slice()).length,s=0;s<c;s++)l[s].apply(this,r);return!0},n.prototype.on=n.prototype.addListener=function(t,e){var c;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(c=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[t].length>c&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(t,o),n||(n=!0,e.apply(this,arguments))}return o.listener=e,this.on(t,o),this},n.prototype.removeListener=function(t,e){var n,a,c,r;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(c=(n=this._events[t]).length,a=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(r=c;r-- >0;)if(n[r]===e||n[r].listener&&n[r].listener===e){a=r;break}if(a<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},"/0p2":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("RliZ");const o=(t,e)=>{switch(e){case"LOWER":return t.toLocaleLowerCase();case"UPPER":return t.toLocaleUpperCase();case"TITLE":return Object(i.g)(t);case"SENTENCE":return a(t);default:return t}},a=t=>t.toLowerCase().replace(/(^\s*\w|[\.\!\?]\s*\w)/g,(function(t){return t.toUpperCase()}))},"0pyP":function(t,e,n){"use strict";n.r(e),n.d(e,"TimesheetListModule",(function(){return Ve}));var i=n("ofXK"),o=n("bSwM"),a=n("tyNb"),c=n("mrSG"),r=n("0IaG"),s=n("/9RH"),l=n("7O6Y"),p=n("fXoL"),d=n("3rT5"),h=n("A1CT");const g=["cleanSelectionRef"],u=["improperSelectionRef"],m=function(t){return{vis_check:t}};let f=(()=>{class t{constructor(t,e,n,i){this.data=t,this.dialogRef=e,this.timesheetService=n,this.utilityService=i,this.recordsType=l.C,this.recordsTypeEnum=s.c,this.links=l.c,this.recordsData={},this.recordDataIds={},this.timeSheetStatus=s.H}ngOnInit(){const t=this.data.timesheetList;for(let e of this.recordsType)this.recordsData[e.type]=0,this.recordDataIds[e.type]=[];for(let e=0;e<t.length;e++){const n=t[e];n.shift.isLateIn?(this.recordDataIds[this.recordsTypeEnum.LATEIN].push(Object.assign({},n)),this.recordsData[this.recordsTypeEnum.LATEIN]=this.recordsData[this.recordsTypeEnum.LATEIN]?this.recordsData[this.recordsTypeEnum.LATEIN]+1:1):n.shift.isEarlyOut?(this.recordDataIds[this.recordsTypeEnum.EARLYOUT].push(Object.assign({},n)),this.recordsData[this.recordsTypeEnum.EARLYOUT]=this.recordsData[this.recordsTypeEnum.EARLYOUT]?this.recordsData[this.recordsTypeEnum.EARLYOUT]+1:1):n.shift.clockIn&&n.shift.clockOut?(this.recordDataIds[this.recordsTypeEnum.CLEAN].push(Object.assign({},n)),this.recordsData[this.recordsTypeEnum.CLEAN]=this.recordsData[this.recordsTypeEnum.CLEAN]?this.recordsData[this.recordsTypeEnum.CLEAN]+1:1):(this.recordDataIds[this.recordsTypeEnum.MISSED].push(Object.assign({},n)),this.recordsData[this.recordsTypeEnum.MISSED]=this.recordsData[this.recordsTypeEnum.MISSED]?this.recordsData[this.recordsTypeEnum.MISSED]+1:1)}}cancel(){this.dialogRef.close()}changeSelection(){}confirm(){return Object(c.a)(this,void 0,void 0,(function*(){try{if(!this.cleanSelectionRef.checked&&!this.improperSelectionRef.checked)return void this.utilityService.showAlert("Please chose any selection to perform action !");let t;t=this.cleanSelectionRef.checked&&this.improperSelectionRef.checked?this.data.timesheetList.map(t=>t.shift._id).join(","):this.cleanSelectionRef.checked?this.recordDataIds[this.recordsTypeEnum.CLEAN].map(t=>t.shift._id).join(","):[...this.recordDataIds[this.recordsTypeEnum.MISSED],...this.recordDataIds[this.recordsTypeEnum.EARLYOUT],...this.recordDataIds[this.recordsTypeEnum.LATEIN]].map(t=>t.shift._id).join(",");const e={type:this.data.type,shiftIds:t};(yield this.timesheetService.bulkSelectionTimesheet(Object.assign({},e)).toPromise()).data&&this.dialogRef.close(s.n.APPLY)}catch(t){}}))}}return t.\u0275fac=function(e){return new(e||t)(p.bc(r.a),p.bc(r.g),p.bc(d.a),p.bc(h.a))},t.\u0275cmp=p.Vb({type:t,selectors:[["app-approve-popup"]],viewQuery:function(t,e){var n;1&t&&(p.hd(g,!0),p.hd(u,!0)),2&t&&(p.Mc(n=p.pc())&&(e.cleanSelectionRef=n.first),p.Mc(n=p.pc())&&(e.improperSelectionRef=n.first))},decls:57,vars:9,consts:[[1,"popup-wrapper"],[1,"popup-inner"],[1,"header"],["src","assets/icons/Warning_icon.svg","alt","Warning Icon"],[1,"main-popup"],[1,"grey-bg"],[1,"grey-bg-inner"],[1,"left-content"],[1,"check-box-wrap"],[1,"example-margin",3,"change"],["cleanSelectionRef",""],[1,"red-bg"],[1,"red-bg-inner"],[1,"check-box-wrap",3,"ngClass"],["improperSelectionRef",""],[1,"description"],["target","_blank",3,"href"],[1,"footer"],[1,"btn-wrap"],["type","button",1,"outline-btn",3,"click"],["type","button",1,"btn-primary",3,"click"]],template:function(t,e){1&t&&(p.hc(0,"div",0),p.hc(1,"div",1),p.hc(2,"div",2),p.hc(3,"h3"),p.cc(4,"img",3),p.hc(5,"span"),p.cd(6,"Are you sure?"),p.gc(),p.gc(),p.gc(),p.hc(7,"div",4),p.hc(8,"h3"),p.cd(9,"We need your consent on selected records before approval."),p.gc(),p.hc(10,"p"),p.cd(11,"Kindly click on check box to give your consent."),p.gc(),p.hc(12,"div",5),p.hc(13,"div",6),p.hc(14,"div",7),p.hc(15,"p"),p.cd(16,"Records that don\u2019t have any issue"),p.gc(),p.hc(17,"strong"),p.cd(18),p.gc(),p.gc(),p.hc(19,"div",8),p.hc(20,"mat-checkbox",9,10),p.oc("change",(function(){return e.changeSelection()})),p.gc(),p.gc(),p.gc(),p.gc(),p.hc(22,"div",11),p.hc(23,"div",12),p.hc(24,"div",7),p.hc(25,"p"),p.cd(26,"Records that have issues"),p.gc(),p.hc(27,"ul"),p.hc(28,"li"),p.cd(29,"Late in:"),p.hc(30,"strong"),p.cd(31),p.gc(),p.gc(),p.hc(32,"li"),p.cd(33,"Early out:"),p.hc(34,"strong"),p.cd(35),p.gc(),p.gc(),p.hc(36,"li"),p.cd(37,"Missed:"),p.hc(38,"strong"),p.cd(39),p.gc(),p.gc(),p.gc(),p.gc(),p.hc(40,"div",13),p.hc(41,"mat-checkbox",9,14),p.oc("change",(function(){return e.changeSelection()})),p.gc(),p.gc(),p.gc(),p.gc(),p.hc(43,"div",15),p.hc(44,"p"),p.cd(45," By pressing on confirm button, above mentioned timesheet records will consider as approved and wouldn\u2019t able to edit in future "),p.gc(),p.hc(46,"p"),p.cd(47,"Read "),p.hc(48,"a",16),p.cd(49,"terms & conditions"),p.gc(),p.cd(50," to know more."),p.gc(),p.gc(),p.gc(),p.hc(51,"div",17),p.hc(52,"div",18),p.hc(53,"button",19),p.oc("click",(function(){return e.cancel()})),p.cd(54,"Cancel"),p.gc(),p.hc(55,"button",20),p.oc("click",(function(){return e.confirm()})),p.cd(56),p.gc(),p.gc(),p.gc(),p.gc(),p.gc()),2&t&&(p.Pb(18),p.dd(e.recordsData[e.recordsTypeEnum.CLEAN]),p.Pb(13),p.ed(" ",e.recordsData[e.recordsTypeEnum.LATEIN],""),p.Pb(4),p.ed(" ",e.recordsData[e.recordsTypeEnum.EARLYOUT],""),p.Pb(4),p.ed(" ",e.recordsData[e.recordsTypeEnum.MISSED],""),p.Pb(1),p.zc("ngClass",p.Ec(7,m,!(e.recordsData[e.recordsTypeEnum.LATEIN]||e.recordsData[e.recordsTypeEnum.EARLYOUT]||e.recordsData[e.recordsTypeEnum.MISSED]))),p.Pb(8),p.Ac("href",e.links.TERMSANDCONDITIONSURL,p.Tc),p.Pb(8),p.ed("Confirm & ",e.data.type==e.timeSheetStatus.REJECTED?"reject":"approve"," timesheet"))},directives:[o.a,i.n],styles:['.popup-wrapper[_ngcontent-%COMP%]{margin:-24px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:64px;padding:0 24px;display:flex;flex-direction:row;align-items:center;background-color:hsla(0,0%,95.3%,.5)}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:0 15px;padding:0 10px}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:1.8;color:#14b1bd;margin:0;display:flex;align-items:center}@media (max-width:1024px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]{padding:24px}@media (max-width:1024px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]{padding:15px}}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]{padding:15px 10px}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.57;color:#555265;margin-bottom:0}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px;line-height:1.3}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#96a5b8}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.43;color:#231e1e}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;line-height:1.3}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#14b1bd;text-decoration:underline}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]{height:70px;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:8px 16px;border:1px solid rgba(36,116,255,.3);background-color:#f4f8ff;margin-bottom:12px}@media (max-width:1024px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]{padding:15px}}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]{padding:10px}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.57;color:#231e1e;margin-bottom:10px}@media (max-width:1024px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px}}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;line-height:1.3;margin-bottom:5px}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:16px;font-weight:800;line-height:1.75;color:#231e1e}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px;line-height:1.3}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]   .grey-bg-inner[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]   .grey-bg-inner[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]{width:calc(100% - 50px)}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .grey-bg[_ngcontent-%COMP%]   .grey-bg-inner[_ngcontent-%COMP%]   .checkbox-wrap[_ngcontent-%COMP%]{width:50px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]{height:74px;display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;padding:8px 16px;border:1px solid rgba(244,67,54,.3);background-color:#fff2f1;margin-bottom:25px}@media (max-width:1024px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]{padding:15px}}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]{height:auto;padding:10px;margin-bottom:15px}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.57;color:#231e1e;margin-bottom:10px}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;line-height:1.3;margin-bottom:5px}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-start;justify-content:space-between}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]{width:calc(100% - 50px)}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 -5px}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-wrap:wrap}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#6e6b6b;padding:0 8px;position:relative}@media (max-width:1024px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:15px}}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:0 0 50%;width:50%;padding-left:14px}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{position:absolute;content:"";left:-3px;top:50%;transform:translateY(-50%);width:6px;height:6px;opacity:.2;border-radius:50%;background-color:#231e1e}@media (max-width:1024px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{left:4px}}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{left:4px}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]   .left-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px;font-weight:800;color:#231e1e}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .main-popup[_ngcontent-%COMP%]   .red-bg[_ngcontent-%COMP%]   .red-bg-inner[_ngcontent-%COMP%]   .checkbox-wrap[_ngcontent-%COMP%]{width:50px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:24px;border-top:1px solid #f3f3f3}@media (max-width:1024px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:15px}}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:15px 10px}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]{justify-content:center}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .outline-btn[_ngcontent-%COMP%]{height:42px;flex-grow:0;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0 32px;border-radius:6px;border:1.5px solid #14b1bd;font-size:14px;font-weight:500;text-align:center;color:#14b1bd;margin-right:15px}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .outline-btn[_ngcontent-%COMP%]{padding:0 10px;margin-right:10px}}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:246px;height:42px;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0 32px;border-radius:6px;background-color:#14b1bd;font-size:14px;font-weight:500;color:#fff}@media (max-width:767px){.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .btn-wrap[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{white-space:nowrap;padding:0 10px}}.vis_check[_ngcontent-%COMP%]{visibility:hidden}']}),t})();var b=n("SqtC"),_=n("oVVD"),O=n("dsVT"),C=n("+xuN");function P(t,e){if(1&t&&(p.fc(0),p.hc(1,"div",16),p.hc(2,"h3"),p.cd(3),p.tc(4,"checkNull"),p.gc(),p.hc(5,"p"),p.cd(6),p.tc(7,"checkNull"),p.gc(),p.gc(),p.ec()),2&t){const t=p.sc();p.Pb(3),p.dd(p.uc(4,2,null==t.candidateData||null==t.candidateData.jobData[0]||null==t.candidateData.jobData[0].userData?null:t.candidateData.jobData[0].userData.fullName)),p.Pb(3),p.ed("Job id: ",p.uc(7,4,null==t.candidateData?null:t.candidateData.jobId),"")}}function M(t,e){1&t&&(p.hc(0,"h3"),p.cd(1,"User Deleted"),p.gc())}function x(t,e){if(1&t){const t=p.ic();p.fc(0),p.hc(1,"button",17),p.oc("click",(function(){return p.Qc(t),p.sc().viewProfile()})),p.cd(2,"View profile"),p.gc(),p.hc(3,"button",18),p.oc("click",(function(){return p.Qc(t),p.sc().viewTimesheet()})),p.cd(4,"View timesheet"),p.gc(),p.ec()}}let y=(()=>{class t{constructor(t,e,n,i){this.data=t,this.dialogRef=e,this.router=n,this.utility=i,this.customDateFormat=s.j}ngOnInit(){this.candidateData=this.data.itemData}close(){this.dialogRef.close()}viewProfile(){this.router.navigate([b.APPLICANT_DETAILS.fullUrl(this.candidateData.jobData[0].jobId)],{queryParams:{applicantId:this.candidateData.jobData[0].userData._id,applyId:this.candidateData.applyJobId}}),this.dialogRef.close()}viewTimesheet(){this.dialogRef.close(s.n.APPLY)}}return t.\u0275fac=function(e){return new(e||t)(p.bc(r.a),p.bc(r.g),p.bc(a.f),p.bc(h.a))},t.\u0275cmp=p.Vb({type:t,selectors:[["app-candidate-popup"]],decls:40,vars:18,consts:[[1,"candidate-popup-content"],[1,"candidate-popup-header"],[1,"image-area"],["appImageFallback","","alt","",3,"src"],[4,"ngIf","ngIfElse"],["deletedUser",""],[1,"close-icon",3,"click"],["href","javascript:void(0)"],["src","assets/icons/close.svg","alt","Icon"],[1,"candidate-popup-body"],["src","assets/icons/ic_time.svg","alt","",1,"filter_icon"],[1,"event-text"],["src","assets/icons/ic_job.svg","alt","",1,"filter_icon"],["src","assets/icons/ic_shift.svg","alt","",1,"filter_icon"],[1,"candidate-popup-footer"],[4,"ngIf"],[1,"candidate-popup-header-content"],["type","button",1,"view-profile-btn",3,"click"],["type","button",1,"view-timesheet-btn",3,"click"]],template:function(t,e){if(1&t&&(p.hc(0,"div",0),p.hc(1,"div",1),p.hc(2,"div",2),p.cc(3,"img",3),p.gc(),p.ad(4,P,8,6,"ng-container",4),p.ad(5,M,2,0,"ng-template",null,5,p.bd),p.hc(7,"div",6),p.oc("click",(function(){return e.close()})),p.hc(8,"a",7),p.cc(9,"img",8),p.gc(),p.gc(),p.gc(),p.hc(10,"div",9),p.hc(11,"ul"),p.hc(12,"li"),p.cc(13,"img",10),p.hc(14,"label"),p.cd(15,"Job name"),p.gc(),p.gc(),p.hc(16,"li",11),p.hc(17,"a",7),p.cd(18),p.tc(19,"checkNull"),p.gc(),p.gc(),p.hc(20,"li"),p.cc(21,"img",12),p.hc(22,"label"),p.cd(23,"Job role"),p.gc(),p.gc(),p.hc(24,"li",11),p.hc(25,"strong"),p.cd(26),p.gc(),p.hc(27,"span"),p.cd(28),p.gc(),p.gc(),p.hc(29,"li"),p.cc(30,"img",13),p.hc(31,"label"),p.cd(32,"Shift name & time"),p.gc(),p.gc(),p.hc(33,"li",11),p.hc(34,"span"),p.cd(35),p.tc(36,"customDate"),p.tc(37,"customDate"),p.gc(),p.gc(),p.gc(),p.gc(),p.hc(38,"div",14),p.ad(39,x,5,0,"ng-container",15),p.gc(),p.gc()),2&t){const t=p.Nc(6);p.Pb(3),p.zc("src",null==e.candidateData||null==e.candidateData.userData?null:e.candidateData.userData.profilePic,p.Tc),p.Pb(1),p.zc("ngIf","deleted"!=(null==e.candidateData?null:e.candidateData.status))("ngIfElse",t),p.Pb(14),p.dd(p.uc(19,10,null==e.candidateData||null==e.candidateData.jobData[0]?null:e.candidateData.jobData[0].title)),p.Pb(8),p.ed(" ",null==e.candidateData||null==e.candidateData.jobData[0].jobRole||null==e.candidateData.jobData[0].jobRole.jobCategory?null:e.candidateData.jobData[0].jobRole.jobCategory.name,""),p.Pb(2),p.ed("\xa0- ",null==e.candidateData||null==e.candidateData.jobData[0]||null==e.candidateData.jobData[0].jobRole?null:e.candidateData.jobData[0].jobRole.name,""),p.Pb(7),p.gd("",null==e.candidateData||null==e.candidateData.shift?null:e.candidateData.shift.title," (",p.vc(36,12,null==e.candidateData||null==e.candidateData.shift?null:e.candidateData.shift.startTime,e.customDateFormat.shortTime)," to ",p.vc(37,15,null==e.candidateData||null==e.candidateData.shift?null:e.candidateData.shift.endTime,e.customDateFormat.shortTime),")"),p.Pb(4),p.zc("ngIf","deleted"!=(null==e.candidateData?null:e.candidateData.status))}},directives:[_.a,i.p],pipes:[O.a,C.a],styles:[".candidate-popup-content[_ngcontent-%COMP%]{margin:-24px}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]{background-color:#f4f8ff;padding:16px;border-radius:10px 10px 0 0;display:flex;align-items:center;position:relative}@media (max-width:1024px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]{padding:15px}}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]{padding:15px}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]   .image-area[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;overflow:hidden;margin:0 16px 0 0}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]   .image-area[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:15px;width:55px;height:55px;margin-right:10px}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]   .image-area[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center center}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]   .candidate-popup-header-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#000;line-height:1.4;margin:0 0 4px}@media (max-width:1024px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]   .candidate-popup-header-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]   .candidate-popup-header-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;line-height:1.3}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]   .candidate-popup-header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.57;color:#6e6b6b;margin:0}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]   .candidate-popup-header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;line-height:1.3}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:16px;height:16px;background-color:#96a5b8;border-radius:50%;overflow:hidden}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-header[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center center}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]{padding:0 16px}@media (max-width:1024px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]{padding:0 15px}}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]{padding:0 15px}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:24px 0 0}@media (max-width:1024px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:15px 0 0}}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:15px 0 0}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:4px;font-size:14px;font-weight:500;color:#96a5b8}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:16px;color:#231e1e}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.event-text[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:24px}@media (max-width:1024px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.event-text[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px}}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.event-text[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:15px}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.event-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px;line-height:1.5;text-decoration:underline;color:#14b1bd}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.event-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;line-height:1.3}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-footer[_ngcontent-%COMP%]{padding:16px;border-top:2px solid rgba(110,107,107,.1);display:flex;justify-content:flex-end}@media (max-width:1024px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-footer[_ngcontent-%COMP%]{padding:15px}}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-footer[_ngcontent-%COMP%]{padding:15px}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:6px;border:1px solid #14b1bd;font-size:13px;font-weight:500;height:36px}@media (max-width:767px){.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px}}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-footer[_ngcontent-%COMP%]   button.view-profile-btn[_ngcontent-%COMP%]{width:101px;margin-right:8px;color:#14b1bd;background-color:initial}.candidate-popup-content[_ngcontent-%COMP%]   .candidate-popup-footer[_ngcontent-%COMP%]   button.view-timesheet-btn[_ngcontent-%COMP%]{width:122px;background-color:#14b1bd;color:#fff}"]}),t})();var w=n("AzuR"),v=n("3Pt+"),D=n("fvtg"),S=n("md+p"),j=n("Q+Hy"),k=n("kmnG"),T=n("dZWe"),E=n("zV8b"),I=n("05e2"),L=n("AgBJ");const R=function(){return["jobIds"]};let A=(()=>{class t{constructor(t,e,n,i,o,a,c){this.formService=t,this.fb=e,this.dialogRef=n,this.data=i,this.utilityService=o,this.timeSheetService=a,this.userProfileService=c,this.jobRoleSearchConfig={url:w.F,isPagination:!0,viewKey:"name",valueKey:"_id",selectedValue:[],selectedViewValue:[],placeholder:"Search & select job role",localSave:!0,limit:5,localSaveKey:"JOB_ROLE_FILTER"},this.jobType=s.p.JOBNAME,this.jobSearchUrl=w.C,this.attendanceStatusConfig={},this.timesheetFilterForm=this.getFilterForm()}ngOnInit(){var t,e,n,i,o,a,c,r;if(this.data){const c={jobRole:this.data&&(null===(t=this.data)||void 0===t?void 0:t.jobRole)?null===(e=this.data)||void 0===e?void 0:e.jobRole.split(","):[],jobSite:this.data&&(null===(n=this.data)||void 0===n?void 0:n.jobSite)?null===(i=this.data)||void 0===i?void 0:i.jobSite.split(","):[],attendanceStatus:this.data&&(null===(o=this.data)||void 0===o?void 0:o.attendanceStatus)?null===(a=this.data)||void 0===a?void 0:a.attendanceStatus.split(","):[],jobIds:this.data&&this.data.jobIds?this.data.jobIds:""};this.timesheetFilterForm.patchValue(Object.assign({},c))}let s,p;this.data.jobRole&&(s=null===(c=this.utilityService.getSessionStorage(l.z.JOB_ROLE_FILTER))||void 0===c?void 0:c.selectedValue,p=null===(r=this.utilityService.getSessionStorage(l.z.JOB_ROLE_FILTER))||void 0===r?void 0:r.selectedViewValue),this.userDetails=this.userProfileService.profileData,this.jobRoleSearchConfig=Object.assign(Object.assign({},this.jobRoleSearchConfig),{selectedControl:this.timesheetFilterForm.get("jobRole"),control:new v.f(""),selectedValue:s&&s.length?s:[],selectedViewValue:p&&p.length?p:[]}),this.attendanceStatusConfig={list:l.b,control:this.timesheetFilterForm.get("attendanceStatus"),label:"Attendance  status",viewKey:"name",valueKey:"value"}}getFilterForm(){return this.fb.group({jobSite:this.formService.getControl("dropdown"),jobRole:this.formService.getControl("dropdown"),attendanceStatus:this.formService.getControl("dropdown"),jobIds:this.formService.getControl("dropdown")})}applyFilter(){try{let t=this.utilityService.formatData(this.timesheetFilterForm.value);t=Object.assign(Object.assign({},t),{jobIds:t.jobIds._id}),this.dialogRef.close({data:D.a.parse(t),type:s.n.APPLY})}catch(t){}console.log("finalala",this.timesheetFilterForm)}closeDialog(){try{this.dialogRef.close({type:s.n.DISMISS})}catch(t){}}reset(){try{this.timesheetFilterForm.reset(),this.utilityService.clearSessionStorage(l.z.JOB_FILTER_JOB_AREA),this.utilityService.clearSessionStorage(l.z.JOB_ROLE_FILTER);const t=this.utilityService.formatData(this.timesheetFilterForm.value);console.log("datata",D.a.parse(t)),this.dialogRef.close({data:D.a.parse(t),type:s.n.CANCEL})}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(p.bc(S.a),p.bc(v.e),p.bc(r.g),p.bc(r.a),p.bc(h.a),p.bc(d.a),p.bc(j.a))},t.\u0275cmp=p.Vb({type:t,selectors:[["app-timesheet-filter"]],decls:27,vars:13,consts:[[1,"timesheet-filter-content"],[1,"timesheet-filter-heading"],[1,"close_btn",3,"click"],["src","assets/images/filter_close.svg","alt","Image"],[1,"timesheet-filter-body"],[1,"row"],[1,"col-12"],[1,"app-chip-search-form",3,"searchObject","parant"],[3,"controls","searchUrl","selectPlaceholder","placeholder","validateKey","type"],[3,"checkBoxConfigect"],[1,"status-box"],[1,"timesheet-filter-footer"],[1,"primary-btn",3,"click"],[1,"btn_secondry",3,"click"]],template:function(t,e){1&t&&(p.hc(0,"div",0),p.hc(1,"div",1),p.hc(2,"h3"),p.cd(3,"FILTER BY"),p.gc(),p.hc(4,"span",2),p.oc("click",(function(){return e.closeDialog()})),p.cc(5,"img",3),p.gc(),p.gc(),p.hc(6,"div",4),p.hc(7,"div",5),p.hc(8,"div",6),p.hc(9,"mat-label"),p.cd(10,"Job role"),p.gc(),p.cc(11,"app-chip-search-form",7),p.gc(),p.gc(),p.hc(12,"div",5),p.hc(13,"div",6),p.hc(14,"mat-label"),p.cd(15,"Job title"),p.gc(),p.cc(16,"app-select-jobarea",8),p.tc(17,"getControl"),p.gc(),p.gc(),p.hc(18,"div",5),p.hc(19,"div",6),p.cc(20,"app-custom-checkbox",9),p.gc(),p.gc(),p.cc(21,"div",10),p.gc(),p.hc(22,"div",11),p.hc(23,"button",12),p.oc("click",(function(){return e.applyFilter()})),p.cd(24,"Apply filter"),p.gc(),p.hc(25,"button",13),p.oc("click",(function(){return e.reset()})),p.cd(26,"Reset"),p.gc(),p.gc(),p.gc()),2&t&&(p.Pb(11),p.zc("searchObject",e.jobRoleSearchConfig)("parant","job"),p.Pb(5),p.zc("controls",p.vc(17,9,e.timesheetFilterForm,p.Dc(12,R)))("searchUrl",e.jobSearchUrl)("selectPlaceholder","Select job name")("placeholder","Select job title")("validateKey","JOB_TITLE")("type",e.jobType),p.Pb(4),p.zc("checkBoxConfigect",e.attendanceStatusConfig))},directives:[k.g,T.a,E.a,I.a],pipes:[L.a],styles:[".timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-heading[_ngcontent-%COMP%]{background-color:#f3f3f3;padding:11px 16px;display:flex;align-items:center;justify-content:space-between}@media (max-width:1024px){.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-heading[_ngcontent-%COMP%]{padding:10px 15px}}@media (max-width:767px){.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-heading[_ngcontent-%COMP%]{padding:10px 15px}}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0;font-weight:500;line-height:1.57;color:#333}@media (max-width:767px){.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:13px;line-height:1.3}}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-heading[_ngcontent-%COMP%]   .close_btn[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]{padding:16px 24px;overflow-y:auto;height:calc(100vh - 127px)}@media (max-width:1024px){.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]{padding:15px}}@media (max-width:767px){.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]{height:calc(100vh - 124px);padding:15px}}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]   .job-role[_ngcontent-%COMP%]{padding-bottom:30px;border-bottom:1px solid rgba(219,226,234,.21)}@media (max-width:1024px){.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]   .job-role[_ngcontent-%COMP%]{padding-bottom:15px}}@media (max-width:767px){.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]   .job-role[_ngcontent-%COMP%]{padding-bottom:15px}}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]   .job-role[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;font-size:12px;font-weight:500;line-height:1.5;color:#14b1bd}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]   .job-role[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{display:flex;position:relative;margin-bottom:15px}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]   .job-role[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:5px;font-size:13px;font-weight:600;font-family:Lato,sans-serif;color:#27303f;padding:0 10px;background:transparent;height:43px;width:100%;outline:none;border:0;box-shadow:0 0 3px rgba(0,0,0,.21)}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]   .job-role[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f3f3f3;width:43px;height:43px;transform:rotate(90deg);position:absolute;right:0;overflow:hidden}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]   .status-box[_ngcontent-%COMP%]:first-child{margin-bottom:30px}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-body[_ngcontent-%COMP%]   .status-box[_ngcontent-%COMP%]   .expansion-panel-content[_ngcontent-%COMP%]:first-child{border-bottom:1px solid rgba(219,226,234,.21)}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-footer[_ngcontent-%COMP%]{height:84px;border-top:2px solid rgba(219,226,234,.21);padding:18px 24px;display:flex;justify-content:space-between}@media (max-width:1024px){.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-footer[_ngcontent-%COMP%]{padding:15px}}@media (max-width:767px){.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-footer[_ngcontent-%COMP%]{padding:15px}}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px;height:48px;font-size:14px;font-weight:500;display:flex;justify-content:center;align-items:center;border-radius:5px}@media (max-width:767px){.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:124px;font-size:13px}}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-footer[_ngcontent-%COMP%]   .apply-filter-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;background-color:#14b1bd}.timesheet-filter-content[_ngcontent-%COMP%]   .timesheet-filter-footer[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid rgba(150,165,184,.5);color:#14b1bd;background-color:initial}[_nghost-%COMP%]     .app-chip-search-form .add_skill_wrapper{width:100%}[_nghost-%COMP%]     .timesheet-filter-body mat-label{margin-bottom:20px;display:block;width:100%;font-size:16px;line-height:1.5;color:#231e1e}@media (max-width:1024px){[_nghost-%COMP%]     .timesheet-filter-body mat-label{margin-bottom:5px}}@media (max-width:767px){[_nghost-%COMP%]     .timesheet-filter-body mat-label{font-size:15px;margin-bottom:5px}}[_nghost-%COMP%]     .timesheet-filter-body mat-label.shift-name{padding:30px 0 0}@media (max-width:1024px){[_nghost-%COMP%]     .timesheet-filter-body mat-label.shift-name{padding:15px 0 0}}@media (max-width:767px){[_nghost-%COMP%]     .timesheet-filter-body mat-label.shift-name{padding:15px 0 0}}[_nghost-%COMP%]     .timesheet-filter-body .mat-checkbox{margin-bottom:20px;display:block}@media (max-width:1024px){[_nghost-%COMP%]     .timesheet-filter-body .mat-checkbox{margin-bottom:10px}}@media (max-width:767px){[_nghost-%COMP%]     .timesheet-filter-body .mat-checkbox{margin-bottom:10px}}[_nghost-%COMP%]     .timesheet-filter-body .mat-checkbox label{font-size:14px;color:#231e1e}@media (max-width:767px){[_nghost-%COMP%]     .timesheet-filter-body .mat-checkbox label{font-size:13px}}@media (max-width:1024px){[_nghost-%COMP%]     .timesheet-filter-body .mat-radio-group .mat-radio-btn{margin-bottom:10px}}@media (max-width:767px){[_nghost-%COMP%]     .timesheet-filter-body .mat-radio-group .mat-radio-btn{margin-bottom:10px}}[_nghost-%COMP%]     .timesheet-filter-body .mat-radio-group label{font-size:14px;color:#231e1e}@media (max-width:767px){[_nghost-%COMP%]     .timesheet-filter-body .mat-radio-group label{font-size:13px}}[_nghost-%COMP%]     .timesheet-filter-body mat-accordion, [_nghost-%COMP%]     .timesheet-filter-body mat-accordion mat-expansion-panel{margin-bottom:20px}[_nghost-%COMP%]     .timesheet-filter-body mat-accordion mat-expansion-panel:first-child{margin-top:20px}@media (max-width:1024px){[_nghost-%COMP%]     .timesheet-filter-body mat-accordion mat-expansion-panel:first-child{margin-top:10px}}@media (max-width:767px){[_nghost-%COMP%]     .timesheet-filter-body mat-accordion mat-expansion-panel:first-child{margin-top:10px}}@media (max-width:1024px){[_nghost-%COMP%]     .timesheet-filter-body mat-accordion mat-expansion-panel{margin-bottom:10px}}@media (max-width:767px){[_nghost-%COMP%]     .timesheet-filter-body mat-accordion mat-expansion-panel{margin-bottom:10px}}[_nghost-%COMP%]     .timesheet-filter-body mat-accordion mat-expansion-panel:last-child{margin-bottom:0}@media (max-width:1024px){[_nghost-%COMP%]     .timesheet-filter-body mat-accordion .mat-expansion-panel-header{padding:0 5px}}@media (max-width:767px){[_nghost-%COMP%]     .timesheet-filter-body mat-accordion .mat-expansion-panel-header{padding:0 5px}}[_nghost-%COMP%]     .timesheet-filter-body mat-accordion .mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:none}[_nghost-%COMP%]     .timesheet-filter-body mat-accordion mat-label{margin-bottom:0!important}[_nghost-%COMP%]     .timesheet-filter-body mat-accordion .mat-checkbox{margin-bottom:20px;display:block}@media (max-width:1024px){[_nghost-%COMP%]     .timesheet-filter-body mat-accordion .mat-checkbox{margin-bottom:10px}}@media (max-width:767px){[_nghost-%COMP%]     .timesheet-filter-body mat-accordion .mat-checkbox{margin-bottom:10px}}[_nghost-%COMP%]     .timesheet-filter-body mat-accordion .mat-checkbox label{font-size:14px;color:#231e1e}@media (max-width:767px){[_nghost-%COMP%]     .timesheet-filter-body mat-accordion .mat-checkbox label{font-size:13px}}[_nghost-%COMP%]     .timesheet-filter-body mat-accordion .mat-checkbox label span{color:#96a5b8}[_nghost-%COMP%]     .timesheet-filter-body .mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background:transparent}"]}),t})();var z=n("quSY"),F=n("HDdC"),N=n("+0xr"),V=n("eIep"),Y=n("YDUv"),$=n("xHNR"),H=n("wd/R"),U=n("z17N"),q=n("qFsG");let K=(()=>{class t{constructor(){}ngOnInit(){this.owlDateTimeConfig&&this.owlDateTimeConfig.startTime.value&&(this.owlDateTimeConfig.startAt=this.owlDateTimeConfig.startTime.value)}startTimeChange(t){console.log("kookoko",t)}endTimeChange(t){console.log("kokook",t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Vb({type:t,selectors:[["app-owl-time"]],inputs:{owlDateTimeConfig:"owlDateTimeConfig"},decls:17,vars:21,consts:[[1,"flex"],[1,"col-6"],["appearance","outline",1,"time-picker",3,"owlDateTimeTrigger"],["matInput","","readonly","",3,"formControl","min","owlDateTime","placeholder"],[3,"pickerType","stepMinute","hour12Timer","startAt"],["startTime",""],["matSuffix","","src","./assets/icons/ic_clock.svg","alt","",1,"watch"],["matInput","","readonly","",3,"min","max","formControl","placeholder","owlDateTime"],[3,"pickerType","startAt","stepMinute","hour12Timer"],["endTime",""]],template:function(t,e){if(1&t&&(p.hc(0,"div",0),p.hc(1,"div",1),p.hc(2,"mat-label"),p.cd(3),p.gc(),p.hc(4,"mat-form-field",2),p.cc(5,"input",3),p.cc(6,"owl-date-time",4,5),p.cc(8,"img",6),p.gc(),p.gc(),p.hc(9,"div",1),p.hc(10,"mat-label"),p.cd(11),p.gc(),p.hc(12,"mat-form-field",2),p.cc(13,"input",7),p.cc(14,"owl-date-time",8,9),p.cc(16,"img",6),p.gc(),p.gc(),p.gc()),2&t){const t=p.Nc(7),n=p.Nc(15);p.Pb(3),p.dd(null==e.owlDateTimeConfig?null:e.owlDateTimeConfig.label.startTime),p.Pb(1),p.zc("owlDateTimeTrigger",t),p.Pb(1),p.zc("formControl",e.owlDateTimeConfig.startTime)("min",e.owlDateTimeConfig.minLimitTime?e.owlDateTimeConfig.minLimitTime:"")("owlDateTime",t)("placeholder",e.owlDateTimeConfig.placeholder.startTime),p.Pb(1),p.zc("pickerType","timer")("stepMinute",e.owlDateTimeConfig.stepMinute)("hour12Timer",!0)("startAt",e.owlDateTimeConfig.startAt),p.Pb(5),p.dd(null==e.owlDateTimeConfig?null:e.owlDateTimeConfig.label.endTime),p.Pb(1),p.zc("owlDateTimeTrigger",n),p.Pb(1),p.zc("min",e.owlDateTimeConfig.startTime.value)("max",e.owlDateTimeConfig.maxLimtTime?e.owlDateTimeConfig.maxLimtTime:"")("formControl",e.owlDateTimeConfig.endTime)("placeholder",e.owlDateTimeConfig.placeholder.endTime)("owlDateTime",n),p.Pb(1),p.zc("pickerType","timer")("startAt",e.owlDateTimeConfig.startAt?e.owlDateTimeConfig.startAt:"")("stepMinute",e.owlDateTimeConfig.stepMinute)("hour12Timer",!0)}},directives:[k.g,k.c,U.d,q.b,v.c,U.b,v.r,v.g,U.a,k.i],styles:["[_nghost-%COMP%]     .flex .watch{position:relative;top:5px;right:5px}"]}),t})();const J=function(t){return{"disable-btn":t}};let B=(()=>{class t{constructor(t,e,n){this.data=t,this.dialogRef=e,this.timesheetService=n}ngOnInit(){console.log("ahhahhaa",this.data),this.timesheetConfig={label:{startTime:"Clock in time",endTime:"Clock out time"},labelKeys:{startTime:"CLOCKINTIME",endTime:"CLOCKOUTTIME"},startTime:this.data.controls.startTime?this.data.controls.startTime:"",endTime:this.data.controls.endTime?this.data.controls.endTime:"",placeholder:{startTime:"Enter clock in time",endTime:"Enter clock out time"},maxLimtTime:H(this.data.controls.startTime.value).endOf("day").toDate(),minLimitTime:H(this.data.controls.startTime.value).startOf("day").toDate(),stepMinute:1}}cancel(){this.dialogRef.close()}saveTimeSheet(){return Object(c.a)(this,void 0,void 0,(function*(){try{if(this.timesheetConfig.startTime.invalid||this.timesheetConfig.endTime.invalid)return this.timesheetConfig.startTime.markAsTouched(),void this.timesheetConfig.endTime.markAsTouched();const t=this.data.itemData.shift.shiftDate;let e,n;H(t).format("MM/DD/YYYY")!=H(this.timesheetConfig.startTime.value).format("MM/DD/YYYY")?(e=H(t).startOf("day").add(H(this.timesheetConfig.startTime.value).hours(),"hours").add(H(this.timesheetConfig.startTime.value).minutes(),"minutes"),n=H(t).startOf("day").add(H(this.timesheetConfig.endTime.value).hours(),"hours").add(H(this.timesheetConfig.endTime.value).minutes(),"minutes")):(e=this.timesheetConfig.startTime.value,n=this.timesheetConfig.endTime.value);const i=H.duration(H(n).diff(H(e))),o={shiftId:this.data.shiftId,clockIn:e,clockOut:n,totalWorkingHours:parseFloat(i.asHours().toFixed(2))};(yield this.timesheetService.updateClockTime(Object.assign({},o)).toPromise()).data&&this.dialogRef.close(s.n.APPLY)}catch(t){}}))}}return t.\u0275fac=function(e){return new(e||t)(p.bc(r.a),p.bc(r.g),p.bc(d.a))},t.\u0275cmp=p.Vb({type:t,selectors:[["app-edit-timesheet"]],decls:14,vars:5,consts:[[1,"popup-wrapper"],[1,"popup-inner"],[1,"popup-header"],["src","assets/images/Timesheet.svg","alt","Icon"],[1,"popup-main"],[3,"owlDateTimeConfig"],[1,"btn-wrap"],["type","button",1,"cancel-btn",3,"click"],["type","button",1,"primary-btn",3,"ngClass","disabled","click"]],template:function(t,e){1&t&&(p.hc(0,"div",0),p.hc(1,"div",1),p.hc(2,"div",2),p.hc(3,"h3"),p.cc(4,"img",3),p.hc(5,"span"),p.cd(6,"Edit timesheet"),p.gc(),p.gc(),p.gc(),p.hc(7,"div",4),p.cc(8,"app-owl-time",5),p.gc(),p.hc(9,"div",6),p.hc(10,"button",7),p.oc("click",(function(){return e.cancel()})),p.cd(11,"Cancel"),p.gc(),p.hc(12,"button",8),p.oc("click",(function(){return e.saveTimeSheet()})),p.cd(13,"Save"),p.gc(),p.gc(),p.gc(),p.gc()),2&t&&(p.Pb(8),p.zc("owlDateTimeConfig",e.timesheetConfig),p.Pb(4),p.zc("ngClass",p.Ec(3,J,!e.timesheetConfig.startTime.valid||!e.timesheetConfig.endTime.valid))("disabled",!e.timesheetConfig.startTime.valid||!e.timesheetConfig.endTime.valid))},directives:[K,i.n],styles:[".btn-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;padding:15px 23px;border-top:2px solid #f0f0f0}.btn-wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}.btn-wrap[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]{background:#fff}.popup-wrapper[_ngcontent-%COMP%]{margin:-24px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]{height:64px;padding:15px 20px;background:#f3f3f3;display:flex;align-items:center;border-top-left-radius:4px;border-top-right-radius:4px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:0}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .popup-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:36px;color:#14b1bd}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]{padding:35px 23px 20px}.disable-btn[_ngcontent-%COMP%]{background:#eee!important;cursor:no-drop!important}"]}),t})();var Q=n("RliZ"),W=n("FKr1"),G=n("1yaQ"),X=n("Kj3r"),Z=n("iadO"),tt=n("U6Lj");const et={parse:{dateInput:"LL"},display:{dateInput:"DD MMM",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let nt=(()=>{class t{constructor(t,e,n){this.utilityService=t,this.formBuilder=e,this.timesheetService=n,this._emitdateRangechanged=new p.r}ngOnInit(){if(this.dateRangeConfig)this.dateRangeConfig.startDate.setValue(H(this.dateRangeConfig.startDate.value).toDate()),this.dateRangeConfig.endDate.setValue(H(this.dateRangeConfig.endDate.value).toDate());else{this.dateRangeConfig={startDate:new v.f(""),endDate:new v.f("")};const{fromDate:t,toDate:e}=this.utilityService.getStartAndToday();this.dateRangeConfig.startDate.setValue(t),this.dateRangeConfig.endDate.setValue(e)}this.dateRangeform=this.formBuilder.group({startDate:this.dateRangeConfig.startDate,endDate:this.dateRangeConfig.endDate})}updateDateRangeSelection(t){this.dateRangeConfig.startDate.setValue(H(t.startDate).toDate()),this.dateRangeConfig.endDate.setValue(H(t.endDate).toDate())}ngAfterViewInit(){this.dateRangeform.valueChanges.pipe(Object(X.a)(200)).subscribe(t=>{if(t.startDate&&t.endDate){const{fromDate:t,toDate:e,employeeId:n}=this.searchSortFilter.value;this.timesheetService.updateAttendanceStatus(this.utilityService.formatMomentData({fromDate:t,toDate:e,employeeId:n})),this._emitdateRangechanged.emit(!0)}})}}return t.\u0275fac=function(e){return new(e||t)(p.bc(h.a),p.bc(v.e),p.bc(d.a))},t.\u0275cmp=p.Vb({type:t,selectors:[["app-timesheet-date-range"]],inputs:{dateRangeConfig:"dateRangeConfig",searchSortFilter:"searchSortFilter"},outputs:{_emitdateRangechanged:"_emitdateRangechanged"},features:[p.Ob([{provide:W.a,useClass:G.b,deps:[W.d,G.a]},{provide:W.c,useValue:et}])],decls:7,vars:5,consts:[["appearance","none"],[3,"max","rangePicker"],["readonly","","matStartDate","","placeholder","Start date",3,"formControl"],["readonly","","matEndDate","","placeholder","End date",3,"formControl"],["matSuffix","",3,"for"],["appCalendarMaxRange","31"],["picker",""]],template:function(t,e){if(1&t&&(p.hc(0,"mat-form-field",0),p.hc(1,"mat-date-range-input",1),p.cc(2,"input",2),p.cc(3,"input",3),p.gc(),p.cc(4,"mat-datepicker-toggle",4),p.cc(5,"mat-date-range-picker",5,6),p.gc()),2&t){const t=p.Nc(6);p.Pb(1),p.zc("max",null==e.dateRangeConfig?null:e.dateRangeConfig.maxDateRange)("rangePicker",t),p.Pb(1),p.zc("formControl",e.dateRangeConfig.startDate),p.Pb(1),p.zc("formControl",e.dateRangeConfig.endDate),p.Pb(1),p.zc("for",t)}},directives:[k.c,Z.c,Z.k,v.c,v.r,v.g,Z.j,Z.h,k.i,Z.d,tt.a],styles:[".mat-calendar-body-preview-end[_ngcontent-%COMP%] > .mat-calendar-body-cell-content[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.04)!important}"]}),t})();function it(t,e){if(1&t&&(p.hc(0,"ul"),p.hc(1,"li"),p.cc(2,"em",2),p.hc(3,"div",3),p.hc(4,"span"),p.cd(5,"On Time"),p.gc(),p.hc(6,"strong"),p.cd(7),p.gc(),p.gc(),p.gc(),p.hc(8,"li"),p.cc(9,"em",4),p.hc(10,"div",3),p.hc(11,"span"),p.cd(12,"On Leave"),p.gc(),p.hc(13,"strong"),p.cd(14),p.gc(),p.gc(),p.gc(),p.hc(15,"li"),p.cc(16,"em",5),p.hc(17,"div",3),p.hc(18,"span"),p.cd(19,"Late in"),p.gc(),p.hc(20,"strong"),p.cd(21),p.gc(),p.gc(),p.gc(),p.hc(22,"li"),p.cc(23,"em",6),p.hc(24,"div",3),p.hc(25,"span"),p.cd(26,"Early out"),p.gc(),p.hc(27,"strong"),p.cd(28),p.gc(),p.gc(),p.gc(),p.gc()),2&t){const t=p.sc();p.Pb(7),p.dd(t.attendanceData[t.attendanceEnum.ONTIME]?t.attendanceData[t.attendanceEnum.ONTIME]:0),p.Pb(7),p.dd(t.attendanceData[t.attendanceEnum.LEAVE]?t.attendanceData[t.attendanceEnum.LEAVE]:0),p.Pb(7),p.dd(t.attendanceData[t.attendanceEnum.LATEIN]?t.attendanceData[t.attendanceEnum.LATEIN]:0),p.Pb(7),p.dd(t.attendanceData[t.attendanceEnum.EARLYOUT]?t.attendanceData[t.attendanceEnum.EARLYOUT]:0)}}let ot=(()=>{class t{constructor(t,e){this.timesheetService=t,this.utilityService=e,this.attendanceEnum=s.b,this.attendanceData={},this.isDateLoaded=!1}ngOnInit(){if(this.searchSortFilter){const{fromDate:t,toDate:e,employeeId:n}=this.searchSortFilter.value;this.timesheetService.updateAttendanceStatus(this.utilityService.formatMomentData({fromDate:t,toDate:e,employeeId:n}))}this.listenTimesheetFigures=this.timesheetService.timesheetAttendance$.subscribe(t=>{const e=t;if(t){for(let n in e)this.attendanceData[n]=t[n];this.isDateLoaded=!0}})}ngOnDestroy(){this.listenTimesheetFigures.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(p.bc(d.a),p.bc(h.a))},t.\u0275cmp=p.Vb({type:t,selectors:[["app-timesheet-attendance"]],inputs:{searchSortFilter:"searchSortFilter"},decls:2,vars:1,consts:[[1,"info-list"],[4,"ngIf"],[1,"one-time-icon"],[1,"count-wrap"],[1,"on-leave-icon"],[1,"late-entry-icon"],[1,"early-out-icon"]],template:function(t,e){1&t&&(p.hc(0,"div",0),p.ad(1,it,29,4,"ul",1),p.gc()),2&t&&(p.Pb(1),p.zc("ngIf",e.isDateLoaded))},directives:[i.p],styles:['.info-list[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border-radius:4px;border:1px solid #dbe2ea;background-color:#fff}@media (max-width:767px){.info-list[_ngcontent-%COMP%]{margin:10px 4px 10px 0;padding:5px 8px}}.info-list[_ngcontent-%COMP%]   .count-wrap[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 -15px}@media (max-width:767px){.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 -3px}}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 10px;position:relative}@media (max-width:767px){.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0 3px}}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .applications-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .early-out-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .hired-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .late-entry-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .on-leave-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .one-time-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]{width:18px;height:18px;display:flex;align-items:center;justify-content:center;padding:2px;border-radius:100px;margin-right:4px}@media (max-width:767px){.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .applications-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .early-out-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .hired-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .late-entry-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .on-leave-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .one-time-icon[_ngcontent-%COMP%], .info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]{width:13px;height:13px;margin-right:3px}}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .view-icon[_ngcontent-%COMP%]{background:url(view-password.5fc6d4e79983a92f7529.svg) 50% #ff7171}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .one-time-icon[_ngcontent-%COMP%]{background:url(Clock_white.76878dcd0e1c2878fc2d.svg) 50% #7fc782}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .on-leave-icon[_ngcontent-%COMP%]{background:url(On_Leave.69ecf5a0e601b77c6ff8.svg) 50% #50c9d1}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .late-entry-icon[_ngcontent-%COMP%]{background:url(Late_Entry.c1775327ed9e64a81eb4.svg) 50% #ef5279}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .applications-icon[_ngcontent-%COMP%]{background:url(user_icon.aaa0e55362ecebadbf9e.svg) 50% #50c9d1}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .hired-icon[_ngcontent-%COMP%]{background:url(ic_hired.7d7b8a56412f462f9549.svg) 50% #7fc782}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .early-out-icon[_ngcontent-%COMP%]{background:url(Late_Entry.c1775327ed9e64a81eb4.svg) 50% #ff9800}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .count-wrap[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.57;color:#96a5b8;margin-right:5px;white-space:nowrap}@media (max-width:767px){.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .count-wrap[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin-right:2px}}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .count-wrap[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.57;color:#231e1e}@media (max-width:767px){.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .count-wrap[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:12px}}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{position:absolute;content:"";left:0;width:1px;height:24px;background-color:rgba(36,116,255,.2)}@media (max-width:767px){.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{height:15px}}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:before{display:none}.info-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}']}),t})();var at=n("STbY"),ct=n("TInF"),rt=n("qy2Q"),st=n("M9IT"),lt=n("eK0t"),pt=n("Qu3c"),dt=n("Pw4Z"),ht=n("BAKl");let gt=(()=>{class t{transform(t,e,n=s.J.HOURS){if(!t||!e)return"NA";const i=H.duration(H(t).diff(H(e))),o=i.asHours(),a=i.asMinutes();return n===s.J.HOURS_MINUTES?Math.floor(a)%60<=0?Math.floor(o)+"h":`${Math.floor(o)}h ${Math.floor(a)%60}m`:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=p.ac({name:"calcTimeDiff",type:t,pure:!0}),t})(),ut=(()=>{class t{transform(t,...e){var n;return(null==t?void 0:t.isEditable)||H(null===(n=null==t?void 0:t.shift)||void 0===n?void 0:n.shiftDate).format("DD-MM-YYYY")===H(new Date).format("DD-MM-YYYY")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=p.ac({name:"checkTimesheetEdit",type:t,pure:!0}),t})();var mt=n("3amt");const ft=["selectCheckElemref"],bt=["singleSelectionCheckboxRef"];function _t(t,e){if(1&t){const t=p.ic();p.hc(0,"div",56),p.hc(1,"p",57),p.cd(2," Timesheet view: "),p.hc(3,"span"),p.cd(4),p.hc(5,"span",58),p.oc("click",(function(){return p.Qc(t),p.sc().clearUserFilter()})),p.cc(6,"img",59),p.gc(),p.gc(),p.gc(),p.gc()}if(2&t){const t=p.sc();p.Pb(4),p.ed("",null==t.userDetailTimesheet?null:t.userDetailTimesheet.fullName," ")}}function Ot(t,e){if(1&t&&(p.hc(0,"span"),p.cd(1),p.gc()),2&t){const t=p.sc(2);p.Pb(1),p.dd(" ("+t.checkboxSelectionConfig.control.value.length+")")}}const Ct=function(){return["type"]};function Pt(t,e){if(1&t){const t=p.ic();p.fc(0),p.hc(1,"div",60),p.tc(2,"getControl"),p.tc(3,"getControl"),p.hc(4,"button",61),p.oc("click",(function(){p.Qc(t);const e=p.sc();return e.bulkSelection(e.timeSheetStatus.REJECTED)})),p.cd(5," Reject "),p.gc(),p.hc(6,"button",62),p.oc("click",(function(){p.Qc(t);const e=p.sc();return e.bulkSelection(e.timeSheetStatus.APPROVED)})),p.cd(7," Approve selected "),p.ad(8,Ot,2,1,"span",51),p.gc(),p.gc(),p.ec()}if(2&t){const t=p.sc();p.Pb(1),p.zc("hidden",p.vc(2,2,t.searchSortFilter,p.Dc(8,Ct)).value==t.timeSheetStatus.APPROVED||p.vc(3,5,t.searchSortFilter,p.Dc(9,Ct)).value==t.timeSheetStatus.REJECTED),p.Pb(7),p.zc("ngIf",t.checkboxSelectionConfig.control.value&&t.checkboxSelectionConfig.control.value.length)}}function Mt(t,e){if(1&t){const t=p.ic();p.hc(0,"button",63),p.cc(1,"img",64),p.hc(2,"span",65),p.cd(3),p.gc(),p.cc(4,"img",66),p.gc(),p.hc(5,"button",67),p.oc("click",(function(){return p.Qc(t),p.sc().onFilterHandler()})),p.cc(6,"img",68),p.cd(7," Filter "),p.hc(8,"span",69),p.cc(9,"img",70),p.gc(),p.gc()}if(2&t){const t=p.sc(),e=p.Nc(77);p.zc("matMenuTriggerFor",e),p.Pb(3),p.ed(" ",t.sorting," ")}}function xt(t,e){1&t&&(p.hc(0,"th",71),p.cd(1,"Staff name"),p.gc())}function yt(t,e){1&t&&(p.hc(0,"span",76),p.cd(1,"Action pending"),p.gc())}function wt(t,e){1&t&&(p.hc(0,"span",76),p.cd(1,"Off day"),p.gc())}function vt(t,e){1&t&&(p.hc(0,"span",76),p.cd(1,"Unapproved"),p.gc())}function Dt(t,e){1&t&&(p.hc(0,"span",76),p.cd(1,"Approved"),p.gc())}function St(t,e){if(1&t){const t=p.ic();p.hc(0,"td",72),p.oc("click",(function(){p.Qc(t);const n=e.$implicit;return p.sc().openStaffDetail(n)})),p.hc(1,"p",73),p.cd(2),p.tc(3,"checkNull"),p.gc(),p.hc(4,"p",74),p.cd(5),p.tc(6,"checkNull"),p.ad(7,yt,2,0,"span",75),p.ad(8,wt,2,0,"span",75),p.ad(9,vt,2,0,"span",75),p.ad(10,Dt,2,0,"span",75),p.gc(),p.gc()}if(2&t){const t=e.$implicit,n=p.sc();p.Pb(2),p.ed(" ","deleted"!=(null==t||null==t.jobData[0]||null==t.jobData[0].userData?null:t.jobData[0].userData.status)?p.uc(3,6,null==t||null==t.jobData[0]||null==t.jobData[0].userData?null:t.jobData[0].userData.fullName):"This user does not exist"," "),p.Pb(3),p.ed(" Job id: ",p.vc(6,8,null==t?null:t.jobId,"NA")," "),p.Pb(2),p.zc("ngIf",(null==t||null==t.shift?null:t.shift.clockIn)&&(null==t||null==t.shift?null:t.shift.clockOut)&&4==n.type),p.Pb(1),p.zc("ngIf",!(null!=t&&null!=t.shift&&t.shift.clockIn&&null!=t&&null!=t.shift&&t.shift.clockOut||t.shift.status!==n.jobStatus.REST||4!=n.type)),p.Pb(1),p.zc("ngIf",(!(null!=t&&null!=t.shift&&t.shift.clockIn)||!(null!=t&&null!=t.shift&&t.shift.clockOut))&&t.shift.status===n.jobStatus.WORKING&&t.shift.isApprovedByWorker&&4==n.type),p.Pb(1),p.zc("ngIf",!(null!=t&&null!=t.shift&&t.shift.clockIn&&null!=t&&null!=t.shift&&t.shift.clockOut||t.shift.status!==n.jobStatus.WORKING||t.shift.isApprovedByWorker||4!=n.type))}}function jt(t,e){1&t&&(p.hc(0,"th",77),p.cd(1,"Shift name & time"),p.gc())}function kt(t,e){if(1&t&&(p.hc(0,"td",78),p.hc(1,"p"),p.cd(2),p.gc(),p.hc(3,"p"),p.cd(4),p.tc(5,"customDate"),p.tc(6,"customDate"),p.gc(),p.gc()),2&t){const t=e.$implicit,n=p.sc();p.Pb(2),p.dd(null==t||null==t.shift?null:t.shift.title),p.Pb(2),p.fd(" ",p.vc(5,3,null==t||null==t.shift?null:t.shift.startTime,n.customDateformat.shortTime)," - ",p.vc(6,6,null==t||null==t.shift?null:t.shift.endTime,n.customDateformat.shortTime)," ")}}function Tt(t,e){1&t&&(p.hc(0,"th",79),p.cd(1,"Shift date"),p.gc())}function Et(t,e){if(1&t&&(p.hc(0,"td",78),p.hc(1,"p"),p.cd(2),p.tc(3,"customDate"),p.gc(),p.gc()),2&t){const t=e.$implicit;p.Pb(2),p.dd(p.uc(3,1,null==t||null==t.shift?null:t.shift.shiftDate))}}function It(t,e){1&t&&(p.hc(0,"th",80),p.cd(1,"Clock-in time"),p.gc())}function Lt(t,e){1&t&&(p.hc(0,"span",82),p.cd(1,"Late In"),p.gc())}function Rt(t,e){if(1&t&&(p.hc(0,"td",78),p.cd(1),p.tc(2,"customDate"),p.ad(3,Lt,2,0,"span",81),p.gc()),2&t){const t=e.$implicit,n=p.sc();p.Pb(1),p.ed(" ",p.vc(2,2,null==t||null==t.shift?null:t.shift.clockIn,n.customDateformat.shortTime)," "),p.Pb(2),p.zc("ngIf",null==t||null==t.shift?null:t.shift.isLateIn)}}function At(t,e){1&t&&(p.hc(0,"th",83),p.cd(1,"Clock-out time"),p.gc())}function zt(t,e){1&t&&(p.hc(0,"span",85),p.cd(1,"Early Out"),p.gc())}function Ft(t,e){if(1&t&&(p.hc(0,"td",78),p.cd(1),p.tc(2,"customDate"),p.ad(3,zt,2,0,"span",84),p.gc()),2&t){const t=e.$implicit,n=p.sc();p.Pb(1),p.ed(" ",p.vc(2,2,null==t||null==t.shift?null:t.shift.clockOut,n.customDateformat.shortTime)," "),p.Pb(2),p.zc("ngIf",null==t||null==t.shift?null:t.shift.isEarlyOut)}}function Nt(t,e){1&t&&(p.hc(0,"th",86),p.cd(1,"Logged Hrs"),p.gc())}function Vt(t,e){if(1&t&&(p.hc(0,"td",78),p.cd(1),p.tc(2,"calcTimeDiff"),p.gc()),2&t){const t=e.$implicit,n=p.sc();p.Pb(1),p.ed(" ",p.wc(2,1,null==t?null:t.shift.clockOut,null==t||null==t.shift?null:t.shift.clockIn,n.timeDifference.HOURS_MINUTES)," ")}}function Yt(t,e){1&t&&(p.hc(0,"th",87),p.cd(1,"Action"),p.gc())}function $t(t,e){1&t&&(p.fc(0),p.cd(1," NA "),p.ec())}function Ht(t,e){if(1&t){const t=p.ic();p.hc(0,"li",58),p.oc("click",(function(){p.Qc(t);const e=p.sc(3).$implicit,n=p.sc();return n.singleSelectionUpdatesheet(e,n.timeSheetStatus.APPROVED)})),p.hc(1,"a",92),p.cc(2,"img",93),p.gc(),p.gc()}}function Ut(t,e){if(1&t){const t=p.ic();p.hc(0,"li",58),p.oc("click",(function(){p.Qc(t);const e=p.sc(3).$implicit,n=p.sc();return n.singleSelectionUpdatesheet(e,n.timeSheetStatus.REJECTED)})),p.hc(1,"a",94),p.cc(2,"img",95),p.gc(),p.gc()}}function qt(t,e){if(1&t){const t=p.ic();p.hc(0,"li",58),p.oc("click",(function(){p.Qc(t);const e=p.sc(3).$implicit,n=p.sc();return n.singleSelectionUpdatesheet(e,n.timeSheetStatus.REJECTED)})),p.hc(1,"a",96),p.cc(2,"img",97),p.gc(),p.gc()}}function Kt(t,e){if(1&t){const t=p.ic();p.hc(0,"li",58),p.oc("click",(function(){p.Qc(t);const e=p.sc(3).$implicit;return p.sc().editTimeSheet(e)})),p.hc(1,"a",98),p.cc(2,"img",99),p.gc(),p.gc()}}function Jt(t,e){if(1&t&&(p.fc(0),p.hc(1,"ul",90),p.ad(2,Ht,3,0,"li",91),p.ad(3,Ut,3,0,"li",91),p.ad(4,qt,3,0,"li",91),p.ad(5,Kt,3,0,"li",91),p.tc(6,"checkTimesheetEdit"),p.gc(),p.ec()),2&t){const t=p.sc(2).$implicit,e=p.sc();p.Pb(2),p.zc("ngIf",(null==t||null==t.shift?null:t.shift.clockIn)&&(null==t||null==t.shift?null:t.shift.clockOut)),p.Pb(1),p.zc("ngIf",(null==t||null==t.shift?null:t.shift.clockIn)&&(null==t||null==t.shift?null:t.shift.clockOut)),p.Pb(1),p.zc("ngIf",!(null!=t&&t.shift.isApprovedByWorker&&(null!=t&&null!=t.shift&&t.shift.clockIn&&null!=t&&null!=t.shift&&t.shift.clockOut||(null==t||null==t.shift?null:t.shift.workStatus)!==e.timeSheetStatus.LEAVE&&(null==t||null==t.shift?null:t.shift.workStatus)!==e.timeSheetStatus.WORKERUNAPPROVED))),p.Pb(1),p.zc("ngIf",p.uc(6,4,t))}}function Bt(t,e){if(1&t){const t=p.ic();p.hc(0,"mat-checkbox",101,102),p.oc("change",(function(){return p.Qc(t),p.sc(4).onCheckboxChange()})),p.gc()}if(2&t){const t=p.sc(3).$implicit;p.zc("value",t)}}function Qt(t,e){1&t&&(p.hc(0,"span"),p.cd(1,"NA"),p.gc())}function Wt(t,e){if(1&t&&(p.ad(0,Bt,2,1,"mat-checkbox",100),p.ad(1,Qt,2,0,"span",51)),2&t){const t=p.sc(2).$implicit;p.zc("ngIf",(null==t||null==t.shift?null:t.shift.clockIn)&&(null==t||null==t.shift?null:t.shift.clockOut)),p.Pb(1),p.zc("ngIf",!(null!=t&&null!=t.shift&&t.shift.clockIn&&null!=t&&null!=t.shift&&t.shift.clockOut))}}function Gt(t,e){if(1&t&&(p.ad(0,Jt,7,6,"ng-container",28),p.ad(1,Wt,2,2,"ng-template",null,89,p.bd)),2&t){const t=p.Nc(2);p.sc(2);const e=p.Nc(42);p.zc("ngIf",!e.checked)("ngIfElse",t)}}function Xt(t,e){if(1&t&&(p.hc(0,"td",78),p.ad(1,$t,2,0,"ng-container",28),p.ad(2,Gt,3,2,"ng-template",null,88,p.bd),p.gc()),2&t){const t=e.$implicit,n=p.Nc(3),i=p.sc();p.Pb(1),p.zc("ngIf",t.shift.workStatus===i.timeSheetStatus.APPROVED||t.shift.workStatus===i.timeSheetStatus.REJECTED)("ngIfElse",n)}}function Zt(t,e){1&t&&p.cc(0,"tr",103)}function te(t,e){1&t&&p.cc(0,"tr",104)}function ee(t,e){if(1&t&&(p.hc(0,"div"),p.cc(1,"app-no-record",105),p.tc(2,"emptyStatePipe"),p.gc()),2&t){const t=p.sc();p.Pb(1),p.zc("message",p.vc(2,1,t.type,t.TIMESHEET_EMPTY_STATES))}}function ne(t,e){if(1&t){const t=p.ic();p.hc(0,"button",18),p.oc("click",(function(){p.Qc(t);const n=e.$implicit;return p.sc().selectMenu(n)})),p.hc(1,"span"),p.cd(2),p.gc(),p.gc()}if(2&t){const t=e.$implicit;p.Pb(2),p.dd(null==t?null:t.name)}}const ie=[{path:"",component:(()=>{class t extends Y.a{constructor(t,e,n,i,o,a){super(),this.dialog=t,this.activatedRoute=e,this.utility=n,this.router=i,this.formBuilder=o,this.timesheetService=a,this.timeSheetStatus=s.H,this.activeIndex=0,this.searchList=new v.f,this.timeSheetMatMenu=l.D,this.sorting="Sort by",this.timeDifference=s.J,this.TIMESHEET_EMPTY_STATES=Q.f,this.filterObject={page:1,limit:5},this.sub=new z.a,this.dataSource=new N.k([]),this.timesheetList=[],this.firstTimeLoading=!0,this.filterCount=0,this.navLinks=[{link:`${b.TIMESHEET_LIST.fullUrl}/${s.H.UNAPPROVED}`,label:"Unapproved timesheet",count:0,type:s.H.UNAPPROVED},{link:`${b.TIMESHEET_LIST.fullUrl}/${s.H.APPROVED}`,label:"Approved timesheet",count:0,type:s.H.APPROVED},{link:`${b.TIMESHEET_LIST.fullUrl}/${s.H.REJECTED}`,label:"Rejected timesheet",count:0,type:s.H.REJECTED},{link:`${b.TIMESHEET_LIST.fullUrl}/${s.H.LEAVE}`,label:"Pending/Leaves",count:0,type:s.H.LEAVE}],this.timeSheetType=s.I.NONEVENT,this.displayedColumns=["userData","jobData","shiftDate","clockIn","clockOut","totalShiftHours","action"],this.jobStatus=s.E,this.customDateformat=s.j,this.routeSbscription=new z.a,this.createSchema(),this.createSearchSortFilter(),this.routeSbscription.add(e.queryParams.subscribe(t=>{this.type=null==t?void 0:t.type,this.currentQueryParams=t,this.timeSheetType=this.currentQueryParams.timeSheetType,this.searchSortFilter.patchValue(this.currentQueryParams),this.listenQueryParamChanges(),console.log(t)}))}ngOnInit(){this.checkboxSelectionConfig={list:[],viewKey:"label",valueKey:"_id",selectedList:[],type:s.G.TIMESHEET_SELECTION,control:new v.f(""),label:"timesheet"}}createSearchSortFilter(){return this.searchSortFilter=this.formBuilder.group({search:[""],type:[""],jobRole:[""],maxSalary:[""],[l.u]:[""],[l.q]:[""],sortKey:[""],sortOrder:[""],fromDate:[""],toDate:[""],employeeId:[""],attendanceStatus:[""],jobIds:[""]})}createSchema(){this.filterSchema=$.object({search:$.optional(),type:$.required(),jobRole:$.optional(),[l.u]:$.number().min(1).required(),[l.q]:$.number(),sortKey:$.optional(),sortOrder:$.optional(),fromDate:$.required(),toDate:$.required(),employeeId:$.optional(),attendanceStatus:$.optional(),jobIds:$.optional()})}listenQueryParamChanges(){this.sub.add(this.activatedRoute.queryParams.pipe(Object(V.a)(t=>this.validateFilters(Object.assign({},t)))).subscribe(t=>Object(c.a)(this,void 0,void 0,(function*(){if(t){if(this.pageConfig={total:t.data.workerShiftListing.total,currentPage:t.data.workerShiftListing.page,pageSize:10,isNext:t.data.workerShiftListing.next},this.sorting=""!=this.searchSortFilter.value.sortKey&&l.D.find(t=>t.sortKey==this.searchSortFilter.value.sortKey)?l.D.find(t=>t.sortKey==this.searchSortFilter.value.sortKey).name:"Sort By",this.timesheetList=[...t.data.workerShiftListing.result],this.total=t.data.workerShiftListing.total,this.dataSource=new N.k(this.timesheetList),this.searchSortFilter.get("employeeId").value&&""!=this.searchSortFilter.get("employeeId").value){const t={applyId:this.utility.getSessionStorage(l.z.APPLYJOBID),applicantId:this.searchSortFilter.get("employeeId").value},e=yield this.timesheetService.applicationDetails(t);e.data&&(this.userDetailTimesheet=e.data[0])}this.checkboxSelectionConfig=Object.assign(Object.assign({},this.checkboxSelectionConfig),{list:this.timesheetList.map(t=>({_id:t.shift._id,label:t.jobId,itemData:Object.assign({},t)}))})}}))))}searchEvent(t){this.searchSortFilter.get("search").setValue(t),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utility.formatMomentData(D.a.parse(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value)))})}validateFilters(t){return this.filterObject=this.currentQueryParams,this.filterObject.type||(this.filterObject=Object.assign(Object.assign({},this.filterObject),{type:s.H.UNAPPROVED})),new F.a(e=>{try{$.validate(t,this.filterSchema,(t,n)=>{if(t)throw t;this.filterObject=Object.assign(Object.assign({},this.filterObject),n),this.dateRangeConfig={startDate:this.searchSortFilter.get("fromDate"),endDate:this.searchSortFilter.get("toDate"),iSaveAllowed:new v.f(!0),maxDateRange:H().toDate()},this.searchSortFilter.patchValue(this.filterObject),this.firstTimeLoading=!1,this.filterCount=Object.keys(this.filterObject).length-1,this.gettimesheetList().subscribe(t=>{this.firstTimeLoading=!1,e.next(t),e.complete()},t=>{this.firstTimeLoading=!1,e.error(t),e.complete()})})}catch(n){console.error("error",n),this.filterObject=Object.assign(Object.assign(Object.assign({},this.pageParams),this.filterObject),this.utility.getStartAndToday()),this.router.navigate([`${b.TIMESHEET_LIST.fullUrl}/${this.type?this.type:s.H.UNAPPROVED}`],{queryParams:this.utility.formatMomentData(D.a.parse(Object.assign({},this.filterObject)))})}})}allQueryParams(){return this.utility.formatMomentData(D.a.parse(Object.assign(Object.assign(Object.assign({},this.pageParams),this.filterObject),{fromDate:this.dateRangeConfig.startDate.value,toDate:this.dateRangeConfig.endDate.value})))}gettimesheetList(){return this.timesheetService.timeSheetListing(this.allQueryParams())}routeHandling(t){this.filterCount=0,this.type=t.type,this.filterObject=Object(l.v)(10),this.pageOptionsOnChange={pageIndex:0,pageSize:this.filterObject.limit},this.filterObject=Object.assign(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value),Object(l.v)(10));const{startDate:e,endDate:n}=this.dateRangeConfig;this.searchSortFilter.patchValue(Object.assign(Object.assign({},this.filterObject),{type:this.type,fromDate:e.value,toDate:n.value})),this.router.navigate([t.link],{relativeTo:this.activatedRoute,queryParams:this.utility.formatMomentData(D.a.parse(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value)))})}changePage(t){this.pageOptionsOnChange=t,0!==this.total&&(this.filterObject=Object.assign(Object.assign({},this.filterObject),{page:t.pageIndex+1,limit:t.pageSize}),this.searchSortFilter.patchValue(Object.assign({},this.filterObject)),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utility.formatMomentData(D.a.parse(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value))),queryParamsHandling:"merge"}))}selectMenu(t){const{sortKey:e,sortOrder:n}=t;this.sorting=t.name,this.searchSortFilter.patchValue(Object.assign(Object.assign({},this.searchSortFilter.value),{sortOrder:n,sortKey:e})),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utility.formatMomentData(D.a.parse(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value)))})}ngOnDestroy(){this.sub.unsubscribe(),this.routeSbscription.unsubscribe()}listenFormValueChanges(t){const{startDate:e,endDate:n}=this.dateRangeConfig,i=Object.assign(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value),{fromDate:e.value,toDate:n.value});this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utility.formatMomentData(D.a.parse(Object.assign({},i))),queryParamsHandling:"merge"})}onFilterHandler(){this.dialog.open(A,{width:"464px",panelClass:"custom_filter",height:"100vh",disableClose:!0,autoFocus:!1,data:this.filterObject&&Object.keys(this.filterObject).length>0?Object.assign(Object.assign({},this.filterObject),{type:this.type}):{}}).afterClosed().subscribe((t={})=>{if(t.type===s.n.DISMISS)return;const e=Object.assign({},this.searchSortFilter.value),{fromDate:n,toDate:i}=e;t&&t.type===s.n.APPLY?(this.filterCount=Object.keys(t).length,this.filterObject=Object.assign(Object.assign(Object.assign({},Object(l.v)(10)),t.data),{fromDate:n,toDate:i}),this.searchSortFilter.patchValue(Object.assign(Object.assign({},t.data),{type:this.type})),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:D.a.parse(this.utility.formatMomentData(Object.assign({type:this.type},this.filterObject)))})):(this.filterCount=0,this.searchSortFilter.reset(),this.filterObject=Object.assign(Object.assign({},Object(l.v)(10)),{type:this.type}),this.searchSortFilter.patchValue(Object.assign(Object.assign({},this.filterObject),{type:this.type,fromDate:n,toDate:i})),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:D.a.parse(this.utility.formatMomentData(Object.assign(Object.assign({},this.filterObject),{fromDate:n,toDate:i})))}))})}singleSelectionUpdatesheet(t,e){return Object(c.a)(this,void 0,void 0,(function*(){try{let n={title:Q.d.confrim,message:Q.d.timesheetStatusConfirm,cancelButtonText:Q.d.cancel,hideConfirmButton:!0};if(yield this.utility.openDialog(n).toPromise()){const n={type:e,shiftIds:t.shift._id};(yield this.timesheetService.bulkSelectionTimesheet(Object.assign({},n)).toPromise()).data&&this.fetchUpdatedList()}}catch(n){}}))}editTimeSheet(t){this.dialog.open(B,{data:{controls:{startTime:new v.f(t.shift.clockIn?new Date(t.shift.clockIn):H(t.shift.shiftDate).startOf("day").toDate()),endTime:new v.f(new Date(t.shift.clockOut))},shiftId:t.shift._id,itemData:t}}).afterClosed().subscribe(t=>{if(t===s.n.APPLY){this.fetchUpdatedList();const{fromDate:t,toDate:e,employeeId:n}=this.searchSortFilter.value;this.timesheetService.updateAttendanceStatus(this.utility.formatMomentData({fromDate:t,toDate:e,employeeId:n}))}})}loadMoreList(t){}openStaffDetail(t){this.dialog.open(y,{data:{itemData:t,fromDate:this.dateRangeConfig.startDate.value,toDate:this.dateRangeConfig.endDate.value}}).afterClosed().subscribe(e=>{e===s.n.APPLY&&(this.searchSortFilter.patchValue(Object.assign(Object.assign({},this.searchSortFilter.value),{employeeId:t.jobData[0].userData._id})),this.utility.setSessionStorage(l.z.APPLYJOBID,JSON.stringify(t.applyJobId)),this.userDetailTimesheet=t.jobData[0].userData,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utility.formatMomentData(D.a.parse(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value)))}))})}clearUserFilter(){this.searchSortFilter.patchValue(Object.assign(Object.assign({},this.searchSortFilter.value),{employeeId:""})),this.utility.clearSessionStorage(l.z.APPLYJOBID),this.userDetailTimesheet=void 0,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utility.formatMomentData(D.a.parse(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value)))})}onCheckboxChange(){setTimeout(()=>{const t=this.singleSelectionCheckboxRef.toArray().filter(t=>t.checked).map(t=>({listIds:t.value._id,listdata:t.value}));this.checkboxSelectionConfig.control.setValue(t.length?t.map(t=>t.listIds):null),this.checkboxSelectionConfig.selectedList=[...t.map(t=>t.listdata)]})}bulkSelection(t){this.checkboxSelectionConfig.control.value.length?this.dialog.open(f,{data:{type:t,timesheetList:this.checkboxSelectionConfig.selectedList,checkboxConfig:this.checkboxSelectionConfig}}).afterClosed().subscribe(t=>{t===s.n.APPLY&&this.fetchUpdatedList()}):this.utility.showAlert("Please select first to perform any action !")}fetchUpdatedList(){return Object(c.a)(this,void 0,void 0,(function*(){try{const t=this.utility.formatMomentData(D.a.parse(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value))),e=yield this.timesheetService.timeSheetListing(t).toPromise();e.data&&(this.pageConfig={total:e.data.workerShiftListing.total,currentPage:e.data.workerShiftListing.page,pageSize:10,isNext:e.data.workerShiftListing.next},this.sorting=""!=this.searchSortFilter.value.sortKey?l.D.find(t=>t.sortKey==this.searchSortFilter.value.sortKey).name:"Sort By",this.timesheetList=[...e.data.workerShiftListing.result],this.total=e.data.workerShiftListing.total,this.dataSource=new N.k(this.timesheetList),this.selectCheckElemref.checked=!1,this.checkboxSelectionConfig=Object.assign(Object.assign({},this.checkboxSelectionConfig),{list:this.timesheetList.map(t=>({_id:t.shift._id,label:t.jobId,itemData:Object.assign({},t)}))}),this.checkboxSelectionConfig.control.setValue(""))}catch(t){this.utility.showAlert("Error in fetching data ! Try reloading!")}}))}downloadTimesheet(){return Object(c.a)(this,void 0,void 0,(function*(){const t=Object.assign({},this.utility.formatMomentData(D.a.parse(Object.assign({},this.filterObject)))),e={fromDate:t.fromDate,toDate:t.toDate},n=yield this.timesheetService.downloadTimesheet(e);console.log(n);try{JSON.parse(n),this.utility.showAlert("No data available for the selected dates.")}catch(c){var i=document.createElement("a");i.setAttribute("style","display:none;"),document.body.appendChild(i);var o=new Blob([n],{type:"text/csv"}),a=window.URL.createObjectURL(o);i.href=a,i.download="timesheet.csv",i.click()}}))}}return t.\u0275fac=function(e){return new(e||t)(p.bc(r.b),p.bc(a.a),p.bc(h.a),p.bc(a.f),p.bc(v.e),p.bc(d.a))},t.\u0275cmp=p.Vb({type:t,selectors:[["app-timesheet-list"]],viewQuery:function(t,e){var n;1&t&&(p.hd(ft,!0),p.hd(bt,!0)),2&t&&(p.Mc(n=p.pc())&&(e.selectCheckElemref=n.first),p.Mc(n=p.pc())&&(e.singleSelectionCheckboxRef=n))},features:[p.Mb],decls:79,vars:31,consts:[[1,"page_main_wrapper"],[1,"breadcrumbs"],[1,"page-header"],[1,"page-title"],[1,"top-info"],[1,"left-calendar"],[1,"left-inner"],[1,"date_picker"],[1,"input-field-wrap"],[3,"searchSortFilter","dateRangeConfig","_emitdateRangechanged"],["class","assistant-field",4,"ngIf"],[1,"basic-info"],[1,"app-timesheet-attendance",3,"searchSortFilter"],[1,"action-btn"],[3,"matMenuTriggerFor"],["src","assets/icons/more-icon.svg","alt","Icon"],["yPosition","below"],["belowMenu",""],["mat-menu-item","",3,"click"],["src","assets/images/Download_ic.svg","alt","Icon"],[1,"filter_row"],[3,"tabs","tabClicked"],[1,"search-filter-wrap"],[1,"common_search_wrapper"],[1,"app-common-search",3,"placeholder","setSearch"],[1,"right_col"],[1,"sort_by_wrapper",3,"hidden"],["selectCheckElemref",""],[4,"ngIf","ngIfElse"],["singleSelectionTemplate",""],[1,"list_view_wrapper"],[1,"cstm_table_wrapper"],["mat-table","","summary","staff details",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","userData"],["mat-header-cell","","scope","staff name",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","jobData"],["mat-header-cell","","scope","shift name & time",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","shiftDate"],["mat-header-cell","","scope","shift date",4,"matHeaderCellDef"],["matColumnDef","clockIn"],["mat-header-cell","","scope","clock-in time",4,"matHeaderCellDef"],["matColumnDef","clockOut"],["mat-header-cell","","scope","clock-out time",4,"matHeaderCellDef"],["matColumnDef","totalShiftHours"],["mat-header-cell","","scope","logged hrs",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","","scope","action",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[1,"timesheet-pagination-wrap"],["appStylePagination","",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"assistant-field"],[1,"assistant-text"],[3,"click"],["src","assets/images/close.svg","alt","Clear"],[1,"reject-approve-wrap",3,"hidden"],["type","button",1,"cancel-btn",3,"click"],["type","button",1,"primary-btn",3,"click"],["mat-button","",1,"sortby_btn",3,"matMenuTriggerFor"],["src","assets/images/Sort.svg","alt",""],[1,"selected_value"],["src","assets/images/Arrow_Bottom.svg","alt",""],["type","button",1,"filter_btn",3,"click"],["src","assets/images/Filter.svg","alt",""],[1,"applied_icon"],["src","assets/images/white_check.svg","alt","",1,"filter_icon"],["mat-header-cell","","scope","staff name"],["mat-cell","",3,"click"],[1,"staff-name"],[1,"staff-id"],["class","request-status",4,"ngIf"],[1,"request-status"],["mat-header-cell","","scope","shift name & time"],["mat-cell",""],["mat-header-cell","","scope","shift date"],["mat-header-cell","","scope","clock-in time"],["class","late-in",4,"ngIf"],[1,"late-in"],["mat-header-cell","","scope","clock-out time"],["class","early-out",4,"ngIf"],[1,"early-out"],["mat-header-cell","","scope","logged hrs"],["mat-header-cell","","scope","action"],["unapprovedLeaveTemplate",""],["selectioncheckboxTemplate",""],[1,"action-list"],[3,"click",4,"ngIf"],["matTooltip","Approve timesheet","matTooltipPosition","above",1,"check-icon"],["src","assets/images/check_icon.svg","alt","Check Icon"],["matTooltip","Reject timesheet","matTooltipPosition","above",1,"remove-icon"],["src","assets/images/close_icon.svg","alt","Remove Icon"],["matTooltip","Report","matTooltipPosition","above"],["src","assets/icons/warning_ic.svg","alt","Remove Icon"],["matTooltip","Edit timesheet","matTooltipPosition","above",1,"edit-icon"],["src","assets/images/edit_icon.svg","alt","Edit Icon"],[3,"value","change",4,"ngIf"],[3,"value","change"],["singleSelectionCheckboxRef",""],["mat-header-row",""],["mat-row",""],[3,"message"]],template:function(t,e){if(1&t&&(p.hc(0,"div",0),p.hc(1,"div",1),p.hc(2,"ul"),p.hc(3,"li"),p.hc(4,"a"),p.cd(5,"Staffing"),p.gc(),p.gc(),p.hc(6,"li"),p.cd(7,"Timesheet"),p.gc(),p.gc(),p.gc(),p.hc(8,"div",2),p.hc(9,"h3",3),p.cd(10,"Timesheet"),p.gc(),p.hc(11,"div",4),p.hc(12,"div",5),p.hc(13,"div",6),p.hc(14,"span"),p.hc(15,"p"),p.cd(16),p.tc(17,"displayMonth"),p.gc(),p.gc(),p.hc(18,"div",7),p.hc(19,"div",8),p.hc(20,"app-timesheet-date-range",9),p.oc("_emitdateRangechanged",(function(t){return e.listenFormValueChanges(t)})),p.gc(),p.gc(),p.gc(),p.gc(),p.ad(21,_t,7,1,"div",10),p.gc(),p.hc(22,"div",11),p.cc(23,"app-timesheet-attendance",12),p.hc(24,"div",13),p.hc(25,"a",14),p.cc(26,"img",15),p.gc(),p.hc(27,"mat-menu",16,17),p.hc(29,"button",18),p.oc("click",(function(){return e.downloadTimesheet()})),p.cc(30,"img",19),p.cd(31,"Download timesheet "),p.gc(),p.gc(),p.gc(),p.gc(),p.gc(),p.gc(),p.hc(32,"div",20),p.hc(33,"app-tabs",21),p.oc("tabClicked",(function(t){return e.routeHandling(t)})),p.gc(),p.gc(),p.hc(34,"div",22),p.hc(35,"div",23),p.hc(36,"app-common-search",24),p.oc("setSearch",(function(t){return e.searchEvent(t)})),p.gc(),p.gc(),p.hc(37,"div",25),p.hc(38,"div",26),p.tc(39,"getControl"),p.tc(40,"getControl"),p.hc(41,"mat-checkbox",null,27),p.cd(43,"Shifts selected"),p.gc(),p.gc(),p.ad(44,Pt,9,10,"ng-container",28),p.ad(45,Mt,10,2,"ng-template",null,29,p.bd),p.gc(),p.gc(),p.hc(47,"div",30),p.hc(48,"div",31),p.hc(49,"table",32),p.fc(50,33),p.ad(51,xt,2,0,"th",34),p.ad(52,St,11,11,"td",35),p.ec(),p.fc(53,36),p.ad(54,jt,2,0,"th",37),p.ad(55,kt,7,9,"td",38),p.ec(),p.fc(56,39),p.ad(57,Tt,2,0,"th",40),p.ad(58,Et,4,3,"td",38),p.ec(),p.fc(59,41),p.ad(60,It,2,0,"th",42),p.ad(61,Rt,4,5,"td",38),p.ec(),p.fc(62,43),p.ad(63,At,2,0,"th",44),p.ad(64,Ft,4,5,"td",38),p.ec(),p.fc(65,45),p.ad(66,Nt,2,0,"th",46),p.ad(67,Vt,3,5,"td",38),p.ec(),p.fc(68,47),p.ad(69,Yt,2,0,"th",48),p.ad(70,Xt,4,2,"td",38),p.ec(),p.ad(71,Zt,1,0,"tr",49),p.ad(72,te,1,0,"tr",50),p.gc(),p.ad(73,ee,3,4,"div",51),p.gc(),p.hc(74,"div",52),p.hc(75,"mat-paginator",53),p.oc("page",(function(t){return e.changePage(t)})),p.gc(),p.gc(),p.gc(),p.gc(),p.hc(76,"mat-menu",null,54),p.ad(78,ne,3,1,"button",55),p.gc()),2&t){const t=p.Nc(28),n=p.Nc(42),i=p.Nc(46);p.Pb(16),p.ed(" ",p.uc(17,21,null==e.searchSortFilter?null:e.searchSortFilter.value)," "),p.Pb(4),p.zc("searchSortFilter",e.searchSortFilter)("dateRangeConfig",e.dateRangeConfig),p.Pb(1),p.zc("ngIf",e.userDetailTimesheet),p.Pb(2),p.zc("searchSortFilter",e.searchSortFilter),p.Pb(2),p.zc("matMenuTriggerFor",t),p.Pb(8),p.zc("tabs",e.navLinks),p.Pb(3),p.zc("placeholder","Search shift by name"),p.Pb(2),p.zc("hidden",p.vc(39,23,e.searchSortFilter,p.Dc(29,Ct)).value==e.timeSheetStatus.APPROVED||p.vc(40,26,e.searchSortFilter,p.Dc(30,Ct)).value==e.timeSheetStatus.REJECTED),p.Pb(6),p.zc("ngIf",n.checked)("ngIfElse",i),p.Pb(5),p.zc("dataSource",e.dataSource),p.Pb(22),p.zc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),p.Pb(1),p.zc("matRowDefColumns",e.displayedColumns),p.Pb(1),p.zc("ngIf",!(null!=e.timesheetList&&e.timesheetList.length)),p.Pb(2),p.zc("length",e.total)("pageIndex",e.page-1)("pageSize",e.limit)("pageSizeOptions",e.pageOptions),p.Pb(3),p.zc("ngForOf",e.timeSheetMatMenu)}},directives:[nt,i.p,ot,at.c,at.d,at.a,ct.a,rt.a,o.a,N.j,N.c,N.e,N.b,N.g,N.i,st.a,lt.a,i.o,N.d,N.a,pt.a,N.f,N.h,dt.a],pipes:[ht.a,L.a,O.a,C.a,gt,ut,mt.a],styles:['.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:22px;color:#14b1bd;display:inline-block;vertical-align:middle;margin-right:10px}@media (max-width:1024px){.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px}}@media (max-width:767px){.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;line-height:20px;margin-top:5px;margin-bottom:5px}}.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:22px;color:#969ba0;position:relative}@media (max-width:1024px){.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:13px}}@media (max-width:767px){.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px;line-height:20px}}.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{position:absolute;content:"/";font-size:18px;color:#969ba0;right:-10px;top:-2px}@media (max-width:1024px){.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{font-size:17px}}@media (max-width:767px){.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{font-size:16px;right:-9px}}.page-header[_ngcontent-%COMP%]{margin-bottom:20px}@media (max-width:767px){.page-header[_ngcontent-%COMP%]{margin-bottom:0}}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:28px;color:#000;margin-bottom:0;text-transform:capitalize}@media (max-width:1024px){.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin-bottom:10px;font-size:18px}}@media (max-width:767px){.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin-bottom:8px;font-size:16px;line-height:20px}}.search-filter-wrap[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between}@media (max-width:1280px){.search-filter-wrap[_ngcontent-%COMP%]{flex-direction:column;padding:10px 0 0}}.reject-approve-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 0 0 15px}.filter_row[_ngcontent-%COMP%]{margin-top:20px}@media (max-width:767px){.filter_row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;margin-bottom:20px}}.filter_row[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]{width:50%;display:flex}@media (max-width:767px){.filter_row[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]{width:100%}}@media (max-width:480px){.filter_row[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]{flex-direction:column}}.filter_row[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]   .app-common-search[_ngcontent-%COMP%]{width:100%}.filter_row[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]   .show_entry_wrapper[_ngcontent-%COMP%]{max-width:103px;margin-right:20px}.right_col[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width:1280px){.right_col[_ngcontent-%COMP%]{width:100%;margin-bottom:15px;justify-content:flex-end}}.right_col[_ngcontent-%COMP%]   .sortby_btn[_ngcontent-%COMP%]{height:41px;padding:7px 10px;border-radius:6px;border:1.5px solid rgba(150,165,184,.30196078431372547);display:flex;align-items:center;background:transparent;font-family:Lato,sans-serif;font-size:14px;font-weight:500;color:#231e1e}@media (max-width:1280px){.right_col[_ngcontent-%COMP%]   .sortby_btn[_ngcontent-%COMP%]{margin-right:15px}}.right_col[_ngcontent-%COMP%]   .sortby_btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.filter_btn[_ngcontent-%COMP%]{height:41px;padding:7px 16px;border-radius:6px;border:1.5px solid rgba(150,165,184,.30196078431372547);display:flex;align-items:center;background:transparent;font-family:Lato,sans-serif;font-size:14px;font-weight:500;color:#231e1e;margin-left:20px}.filter_btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}@media (max-width:767px){.filter_btn[_ngcontent-%COMP%]{margin-left:0;font-size:13px}}.top-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}@media (max-width:1280px){.top-info[_ngcontent-%COMP%]   .basic-info[_ngcontent-%COMP%]{margin-top:5px;display:flex;width:100%;justify-content:flex-end}}@media (max-width:1280px){.top-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}@media (max-width:767px){.top-info[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;align-items:flex-start}}.top-info[_ngcontent-%COMP%]   .id-wrap[_ngcontent-%COMP%]{display:flex;align-items:center}.top-info[_ngcontent-%COMP%]   .id-wrap[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.29;color:#6e6b6b;margin-right:10px}@media (max-width:767px){.top-info[_ngcontent-%COMP%]   .id-wrap[_ngcontent-%COMP%]{font-size:12px}}.top-info[_ngcontent-%COMP%]   .id-wrap[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{height:28px;flex-grow:0;flex-direction:row;justify-content:center;padding:6px 8px;border-radius:4px;background-color:#fdf5f7;font-size:12px;font-weight:500;line-height:1.5;color:#ef5279}.left-calendar[_ngcontent-%COMP%], .top-info[_ngcontent-%COMP%]   .id-wrap[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width:767px){.left-calendar[_ngcontent-%COMP%]{flex-direction:column}}.left-calendar[_ngcontent-%COMP%]   .assistant-field[_ngcontent-%COMP%]{display:flex;align-items:center;padding:6px 12px;border-radius:4px;border:1px solid #dfebff;background-color:#e9edf4;height:45px;margin:0 10px}@media (max-width:767px){.left-calendar[_ngcontent-%COMP%]   .assistant-field[_ngcontent-%COMP%]{margin:0}}.left-calendar[_ngcontent-%COMP%]   .assistant-field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:500;line-height:1.57;color:#231e1e}.left-calendar[_ngcontent-%COMP%]   .assistant-field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;margin-left:20px;cursor:pointer}.left-calendar[_ngcontent-%COMP%]   .assistant-field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";position:relative;left:-11px;top:0;width:10px;height:10px;display:inline-block;border-radius:50%;background-color:#dbe2ea}.left-calendar[_ngcontent-%COMP%]   .date_picker[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width:767px){.left-calendar[_ngcontent-%COMP%]   .date_picker[_ngcontent-%COMP%]{width:100%;justify-content:center}}.left-calendar[_ngcontent-%COMP%]   .date_picker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:45px;display:flex;align-items:center}.left-calendar[_ngcontent-%COMP%]   .date_picker[_ngcontent-%COMP%]   button.right-button[_ngcontent-%COMP%]{margin-left:5px}.left-calendar[_ngcontent-%COMP%]   .date_picker[_ngcontent-%COMP%]   button.left-button[_ngcontent-%COMP%]{margin-right:5px}.basic-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.basic-info[_ngcontent-%COMP%]   .app-timesheet-attendance[_ngcontent-%COMP%]{margin-right:15px}.basic-info[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:30px}@media (max-width:767px){.basic-info[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:25px}}[_nghost-%COMP%]     .cstm_table_wrapper{width:100%;border-radius:10px;background:#fff;overflow-x:auto;padding-bottom:20px}[_nghost-%COMP%]     .cstm_table_wrapper .table_action_btn_wrapper{display:flex}[_nghost-%COMP%]     .cstm_table_wrapper .mat-table{width:100%;border-radius:10px 10px 0 0;padding:0 20px 20px}[_nghost-%COMP%]     .cstm_table_wrapper .mat-elevation-z8{box-shadow:none}[_nghost-%COMP%]     .cstm_table_wrapper .mat-cell, [_nghost-%COMP%]     .cstm_table_wrapper .mat-footer-cell, [_nghost-%COMP%]     .cstm_table_wrapper .mat-header-cell{border-bottom:1px solid #edf2f6;text-align:left;white-space:nowrap;padding:15px 30px}[_nghost-%COMP%]     .cstm_table_wrapper .mat-header-cell:first-of-type, [_nghost-%COMP%]     .cstm_table_wrapper td.mat-cell:first-of-type, [_nghost-%COMP%]     .cstm_table_wrapper td.mat-footer-cell:first-of-type{padding-left:0}[_nghost-%COMP%]     .cstm_table_wrapper .mat-header-cell{font-size:14px;font-weight:500;font-family:Lato,sans-serif;color:#96a5b8;text-align:left;white-space:nowrap;padding:15px 30px}@media (max-width:767px){[_nghost-%COMP%]     .cstm_table_wrapper .mat-header-cell{margin-top:5px}}[_nghost-%COMP%]     .cstm_table_wrapper .mat-header-cell:last-of-type{text-align:center}[_nghost-%COMP%]     .cstm_table_wrapper .staff-name{font-size:14px;font-weight:500;line-height:1.29;color:#14b1bd}[_nghost-%COMP%]     .cstm_table_wrapper p{font-size:12px;font-weight:500;line-height:1.5;color:#6e6b6b;margin-bottom:0}[_nghost-%COMP%]     .cstm_table_wrapper .late-in{width:-webkit-max-content;width:max-content;height:28px;display:flex;justify-content:center;align-items:center;padding:6px 8px;border-radius:4px;background-color:#fdf5f7;font-size:12px;font-weight:500;line-height:1.5;color:#ef5279}@media (max-width:1024px){[_nghost-%COMP%]     .cstm_table_wrapper .late-in{margin-top:5px}}@media (max-width:767px){[_nghost-%COMP%]     .cstm_table_wrapper .late-in{margin-top:5px}}[_nghost-%COMP%]     .cstm_table_wrapper .early-out{width:-webkit-max-content;width:max-content;height:28px;display:flex;justify-content:center;align-items:center;padding:6px 8px;border-radius:4px;background-color:#fcf4ff;font-size:12px;font-weight:500;line-height:1.5;color:#c168e0}@media (max-width:1024px){[_nghost-%COMP%]     .cstm_table_wrapper .early-out{margin-top:5px}}@media (max-width:767px){[_nghost-%COMP%]     .cstm_table_wrapper .early-out{margin-top:5px}}[_nghost-%COMP%]     .cstm_table_wrapper .request-status{padding:6px 8px;height:28px;border-radius:4px;align-items:center;font-size:12px;line-height:18px;display:inline-block;vertical-align:middle;margin-left:10px;background:#fdf5f7;color:#ef5279}[_nghost-%COMP%]     .list_view_wrapper{display:flex;width:100%;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]     .list_view_wrapper .app-property-card{margin-bottom:20px;display:inline-block;width:100%}[_nghost-%COMP%]     .action-list{display:flex;align-items:center;justify-content:flex-end;margin:0 -3px}[_nghost-%COMP%]     .action-list li{padding:0 3px}[_nghost-%COMP%]     .action-list li a{width:24px;height:24px;flex-grow:0;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:4px;border-radius:100px}[_nghost-%COMP%]     .action-list li a.check-icon{background-color:#4caf50}[_nghost-%COMP%]     .action-list li a.remove-icon{background-color:#f44336}[_nghost-%COMP%]     .action-list li a.edit-icon{background-color:#14b1bd}[_nghost-%COMP%]     .job_list_paginator_wrapper{display:flex;align-items:center;justify-content:space-between;padding-left:20px}@media (max-width:576px){[_nghost-%COMP%]     .job_list_paginator_wrapper{flex-direction:column}}[_nghost-%COMP%]     .job_list_paginator_wrapper .mat-paginator-container{min-height:auto}@media (max-width:576px){[_nghost-%COMP%]     .job_list_paginator_wrapper{width:100%}}[_nghost-%COMP%]     .job_list_paginator_wrapper .mat-paginator-navigation-previous{display:block;margin-right:35px!important}[_nghost-%COMP%]     .job_list_paginator_wrapper .mat-paginator-navigation-next{display:block;margin-right:0!important}[_nghost-%COMP%]     .job_list_paginator_wrapper .mat-button-disabled{opacity:.2!important;cursor:default!important}[_nghost-%COMP%]     .show_entry_wrapper .mat-form-field .mat-form-field-wrapper .mat-form-field-flex{margin-top:0;padding:0;box-shadow:0 4px 8px 0 rgba(44,39,56,.04);background:rgba(219,226,234,.4);border-radius:4px}[_nghost-%COMP%]     .common_search_wrapper{width:350px}@media (max-width:1280px){[_nghost-%COMP%]     .common_search_wrapper{width:100%}}[_nghost-%COMP%]     .common_search_wrapper .mat-input-element{font-size:14px;font-family:lato,sans-serif}[_nghost-%COMP%]     .common_search_wrapper .mat-form-field-prefix, [_nghost-%COMP%]     .common_search_wrapper .mat-form-field-suffix{top:4px;right:-7px;color:red}[_nghost-%COMP%]     .common_search_wrapper .mat-form-field{margin-bottom:0}[_nghost-%COMP%]     .common_search_wrapper .mat-form-field-appearance-outline .mat-form-field-wrapper{margin-bottom:0;padding-bottom:0}[_nghost-%COMP%]     .common_search_wrapper .mat-form-field .mat-form-field-wrapper .mat-form-field-flex{margin-top:0;padding:0;box-shadow:0 4px 8px 0 rgba(44,39,56,.04);background:rgba(219,226,234,.4);border-radius:4px}[_nghost-%COMP%]     .common_search_wrapper .mat-form-field-suffix{white-space:nowrap;flex:none;position:absolute;top:5px;right:6px;padding:5px;border-radius:100%;color:#14b1bd;font-size:15px}[_nghost-%COMP%]     .left-calendar .mat-form-field{top:5px}[_nghost-%COMP%]     .left-calendar .mat-form-field .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .left-calendar .mat-form-field .start-date::placeholder{color:#14b1bd;font-size:14px;font-weight:500}[_nghost-%COMP%]     .left-calendar .mat-form-field .end-date::placeholder{color:#231e1e;font-size:14px;font-weight:500}[_nghost-%COMP%]     .left-calendar .mat-form-field .mat-date-range-input-end-wrapper, [_nghost-%COMP%]     .left-calendar .mat-form-field .mat-date-range-input-start-wrapper{font-family:Lato,sans-serif;font-size:14px;font-weight:500}[_nghost-%COMP%]     .left-calendar .mat-form-field .mat-date-range-input-start-wrapper .start-date{color:#14b1bd}[_nghost-%COMP%]     .left-calendar .mat-form-field .mat-date-range-input-inner .end-date{color:#231e1e}[_nghost-%COMP%]     .left-calendar .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button, [_nghost-%COMP%]     .left-calendar .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{width:32px;height:32px!important;position:relative;top:3px;right:3px}[_nghost-%COMP%]     .left-calendar .mat-form-field .mat-form-field-wrapper .mat-form-field-flex{box-shadow:none}table[_ngcontent-%COMP%]{width:100%}.left-inner[_ngcontent-%COMP%]{height:45px;border-radius:4px;padding:6px 4px;display:flex;align-items:center;border:1px solid #dfebff;background:#e9edf4}.left-inner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:10px}.left-inner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;margin-bottom:0}.sort_by_wrapper[_ngcontent-%COMP%]{margin-right:15px}@media (max-width:1280px){.sort_by_wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:15px}}[_nghost-%COMP%]     .mat-paginator-page-size-select{width:100px}[_nghost-%COMP%]     .timesheet-pagination-wrap{width:100%;display:flex;align-items:center;justify-content:flex-end}[_nghost-%COMP%]     .timesheet-pagination-wrap .mat-paginator-range-actions{width:auto}[_nghost-%COMP%]     .timesheet-pagination-wrap .mat-paginator-navigation-previous{width:100px!important;display:block;margin-right:35px!important}[_nghost-%COMP%]     .timesheet-pagination-wrap .mat-paginator-navigation-next{width:100px!important;display:block;margin-right:0!important}[_nghost-%COMP%]     .timesheet-pagination-wrap .mat-button-disabled{opacity:.2!important;cursor:default!important}']}),t})()}];let oe=(()=>{class t{}return t.\u0275mod=p.Zb({type:t}),t.\u0275inj=p.Yb({factory:function(e){return new(e||t)},imports:[[a.j.forChild(ie)],a.j]}),t})();var ae=n("NFeN"),ce=n("7EHt"),re=n("QibW"),se=n("Swpp");const le=[Z.g,k.e,W.j,v.w,q.c],pe=[se.a];let de=(()=>{class t{}return t.\u0275mod=p.Zb({type:t}),t.\u0275inj=p.Yb({factory:function(e){return new(e||t)},imports:[[i.c,...le,...pe]]}),t})();var he=n("iU0C"),ge=n("tR4V"),ue=n("FGdl"),me=n("6K5+"),fe=n("zFkK");const be=[r.f,v.l,v.w,k.e,ue.a],_e=[ge.a,me.a],Oe=[fe.a];let Ce=(()=>{class t{}return t.\u0275mod=p.Zb({type:t}),t.\u0275inj=p.Yb({factory:function(e){return new(e||t)},providers:[d.a],imports:[[i.c,...be,..._e,...Oe]]}),t})();var Pe=n("GsMG"),Me=n("MNke"),xe=n("ktbk"),ye=n("PVzN"),we=n("9sDP"),ve=n("gdGC"),De=n("+RAp"),Se=n("3V+5");const je=[U.c,U.e],ke=[v.w,v.l,k.e,q.c],Te=[Se.a,fe.a];let Ee=(()=>{class t{}return t.\u0275mod=p.Zb({type:t}),t.\u0275inj=p.Yb({factory:function(e){return new(e||t)},imports:[[i.c,...je,...ke,...Te]]}),t})(),Ie=(()=>{class t{}return t.\u0275mod=p.Zb({type:t}),t.\u0275inj=p.Yb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();var Le=n("Qc2I");let Re=(()=>{class t{}return t.\u0275mod=p.Zb({type:t}),t.\u0275inj=p.Yb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();var Ae=n("UPSR");const ze=[r.f,k.e,q.c,ae.b,at.b,N.l,pt.b,o.b,ce.b,re.c,Z.g,W.j,st.b,Le.a],Fe=[de,he.a,Ce,Pe.a,xe.a,ue.a,Ee],Ne=[ye.a,we.a,ve.a,De.a,Ie,fe.a,Re,Ae.a];let Ve=(()=>{class t{}return t.\u0275mod=p.Zb({type:t}),t.\u0275inj=p.Yb({factory:function(e){return new(e||t)},imports:[[i.c,oe,Me.b,...ze,...Fe,...Ne]]}),t})()},"1yaQ":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return p}));var i=n("fXoL"),o=n("FKr1"),a=n("wd/R");const c=n.n(a).a||a,r=new i.y("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function s(t,e){const n=Array(t);for(let i=0;i<t;i++)n[i]=e(i);return n}let l=(()=>{class t extends o.a{constructor(t,e){super(),this._options=e,this.setLocale(t||c.locale())}setLocale(t){super.setLocale(t);let e=c.localeData(t);this._localeData={firstDayOfWeek:e.firstDayOfWeek(),longMonths:e.months(),shortMonths:e.monthsShort(),dates:s(31,t=>this.createDate(2017,0,t+1).format("D")),longDaysOfWeek:e.weekdays(),shortDaysOfWeek:e.weekdaysShort(),narrowDaysOfWeek:e.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,e,n){const i=this._createMoment({year:t,month:e,date:n}).locale(this.locale);return i.isValid(),i}today(){return this._createMoment().locale(this.locale)}parse(t,e){return t&&"string"==typeof t?this._createMoment(t,e,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,e){return t=this.clone(t),this.isValid(t),t.format(e)}addCalendarYears(t,e){return this.clone(t).add({years:e})}addCalendarMonths(t,e){return this.clone(t).add({months:e})}addCalendarDays(t,e){return this.clone(t).add({days:e})}toIso8601(t){return this.clone(t).format()}deserialize(t){let e;if(t instanceof Date)e=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;e=this._createMoment(t,c.ISO_8601).locale(this.locale)}return e&&this.isValid(e)?this._createMoment(e).locale(this.locale):super.deserialize(t)}isDateInstance(t){return c.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return c.invalid()}_createMoment(t,e,n){const{strict:i,useUtc:o}=this._options||{};return o?c.utc(t,e,n,i):c(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(i.lc(o.d,8),i.lc(r,8))},t.\u0275prov=i.Xb({token:t,factory:t.\u0275fac}),t})(),p=(()=>{class t{}return t.\u0275mod=i.Zb({type:t}),t.\u0275inj=i.Yb({factory:function(e){return new(e||t)},providers:[{provide:o.a,useClass:l,deps:[o.d,r]}]}),t})()},"3V+5":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("ofXK"),o=n("3Pt+"),a=n("fXoL");let c=(()=>{class t{}return t.\u0275mod=a.Zb({type:t}),t.\u0275inj=a.Yb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,o.w]]}),t})()},"6K5+":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("ofXK"),o=n("k3SN"),a=n("d3UM"),c=n("3V+5"),r=n("NFeN"),s=n("kmnG"),l=n("ytpt"),p=n("fXoL");let d=(()=>{class t{}return t.\u0275mod=p.Zb({type:t}),t.\u0275inj=p.Yb({factory:function(e){return new(e||t)},providers:[l.a],imports:[[i.c,a.b,o.a,r.b,s.e,c.a],a.b,o.a,r.b,s.e,c.a]}),t})()},AgBJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class t{transform(t,e){return e.reduce((t,e)=>t.get(""+e),t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.ac({name:"getControl",type:t,pure:!0}),t})()},IEde:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("RVMx"),o=n("Qxun"),a=n("AytR"),c=n("KMnQ"),r=n("/0p2"),s=n("E0so"),l=n("fXoL"),p=n("A1CT");let d=(()=>{class t{constructor(t){this.utilService=t,this.formData=i.a.data.FORM,this.currentLanguage=localStorage.getItem(a.a.languageKey)}transform(t,e,n=""){return t&&t.errors?this.getValidationError(t,e,n):""}getValidationError(t,e,n){const o=new s.a(this.utilService);let a=this.currentLanguage&&this.currentLanguage!=c.a.ENGLISH.value?i.a.data[e]:Object(r.a)(i.a.data[e],"SENTENCE");if("UEN"==e&&(a=i.a.data[e]),"Salary"==a&&t.hasError("min"))return this.formData.MIN_SALARY_ERROR.replace("$control$",a).replace("$min$",o.transform(t.errors.min.min));if(t.hasError("required"))return n?this.formData[n].replace("$control$",a):this.formData.REQUIRED_ERROR.replace("$control$",a);if(t.hasError("pattern"))return this.getPatternErrors(t.errors.pattern.requiredPattern,e,a);if(t.hasError("minlength"))return this.formData.MIN_LENGTH_ERROR.replace("$control$",a).replace("$minLength$",t.errors.minlength.requiredLength);if(t.hasError("maxlength"))return this.formData.MAX_LENGTH_ERROR.replace("$control$",a).replace("$maxLength$",t.errors.maxlength.requiredLength);if(t.hasError("max"))return this.formData.MAX_ERROR.replace("$control$",a).replace("$max$",t.errors.max.max);if(t.hasError("min"))return this.formData.MIN_ERROR.replace("$control$",a).replace("$min$",t.errors.min.min);if(t.hasError("matchPassword"))return this.formData.PASSWORD_MISMATCH.replace("$control$",a).replace("$password$",i.a.data.PASSWORD);if(t.hasError("mustMatch"))return this.formData.PASSWORD_MISMATCH.replace("$control$",a).replace("$password$",i.a.data.PASSWORD);if(t.hasError("lengthMatch")){const e=t.getError("lengthMatch");return this.formData.MATCH_LENGTH.replace("$control$",a).replace("$unit$",e.unit).replace("$requiredLength$",e.requiredLength)}return t.hasError("emailExist")?(console.log(t),t.getError("emailExist"),i.a.data.INVITATION_ALREADY_SENT):t.hasError("emailAlreadyAdded")?(console.log(t),t.getError("emailAlreadyAdded"),i.a.data.EMAIL_ALREADY_ADDED):void 0}getPatternErrors(t,e,n){let a,c=i.a.data[e];return t==o.a.email?a="EMAIL":t==o.a.password?(a="PASSWORD",c=n):t==o.a.name?(a="NAME",c=n):t==o.a.phone?(a="PHONE",c=n):t==o.a.price?(a="PRICE",c=n):t==o.a.passRegex?(a="PASSWORD_RULE",c=n):t==o.a.url?(a="COMPANY_WEBSITE",c=n):t==o.a.alphaNumeric&&(a="ZIP_CODE",c=n),this.formData.PATTERN_ERRORS[a].replace("$control$",c)}}return t.\u0275fac=function(e){return new(e||t)(l.bc(p.a))},t.\u0275pipe=l.ac({name:"validate",type:t,pure:!1}),t})()},fSvR:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("fXoL"),o=n("3Pt+"),a=n("Kj3r"),c=n("/uUt"),r=n("d3UM"),s=n("qFsG"),l=n("kmnG"),p=n("ofXK"),d=n("bTqV"),h=n("NFeN");function g(t,e){if(1&t){const t=i.ic();i.hc(0,"button",5),i.oc("click",(function(){return i.Qc(t),i.sc().clearValue()})),i.hc(1,"mat-icon"),i.cd(2,"clear"),i.gc(),i.gc()}}let u=(()=>{class t{constructor(t){this.matSelect=t,this.placeholder="Search...",this.label="Data not find.",this.search=new i.r,this.searchList=new o.f,this.skilFirstLoad=!0}ngOnInit(){this.realTimeSearch();const t="mat-select-search-panel";this.matSelect.panelClass?Array.isArray(this.matSelect.panelClass)?this.matSelect.panelClass.push(t):"string"==typeof this.matSelect.panelClass?this.matSelect.panelClass=[this.matSelect.panelClass,t]:"object"==typeof this.matSelect.panelClass&&(this.matSelect.panelClass[t]=!0):this.matSelect.panelClass=t,this.searchList.setValue(this.preFilled)}ngOnDestroy(){this.searchSub&&this.searchSub.unsubscribe()}realTimeSearch(){this.searchSub=this.searchList.valueChanges.pipe(Object(a.a)(500),Object(c.a)()).subscribe(t=>{this.searchEmit(t)})}searchEmit(t){this.skilFirstLoad?this.skilFirstLoad=!1:t?(t=t.trim())&&this.search.emit(t.toLowerCase()):""!=t&&t||this.search.emit("")}_handleKeydown(t){32===t.keyCode&&t.stopPropagation()}clearValue(){this.searchList.setValue("")}}return t.\u0275fac=function(e){return new(e||t)(i.bc(r.a))},t.\u0275cmp=i.Vb({type:t,selectors:[["app-select-search"]],inputs:{placeholder:"placeholder",label:"label",preFilled:"preFilled"},outputs:{search:"search"},decls:5,vars:3,consts:[[1,"mat-select-search-inner"],["type","search","autocomplete","off","matInput","","maxlength","100",1,"mat-select-search-input",3,"formControl","placeholder","keydown"],["searchSelectInput",""],["matSuffix","",1,"searchSuffix"],["class","close","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",1,"close",3,"click"]],template:function(t,e){1&t&&(i.hc(0,"div",0),i.hc(1,"input",1,2),i.oc("keydown",(function(t){return e._handleKeydown(t)})),i.gc(),i.hc(3,"span",3),i.ad(4,g,3,0,"button",4),i.gc(),i.gc()),2&t&&(i.Pb(1),i.zc("formControl",e.searchList)("placeholder",e.placeholder),i.Pb(3),i.zc("ngIf",e.searchList.value))},directives:[s.b,o.c,o.m,o.r,o.g,l.i,p.p,d.a,h.a],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{width:calc(100% + 15px);border-bottom:1px solid #ccc;background:#fff;z-index:100;position:sticky;top:0}.mat-select-search-inner.mat-select-search-inner-multiple[_ngcontent-%COMP%]{width:calc(100% + 15px);min-width:calc(100% + 15px)}  .mat-select-search-panel{transform:none!important;max-height:350px}.mat-select-search-input[_ngcontent-%COMP%]{padding:16px 36px 16px 16px;box-sizing:border-box}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding:16px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:0;top:4px}.searchSuffix[_ngcontent-%COMP%]{position:absolute;top:5px;right:0}.searchSuffix[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-right:15px}  .cdk-overlay-pane-select-search{margin-top:-50px}"]}),t})()},k3SN:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("ofXK"),o=n("3Pt+"),a=n("qFsG"),c=n("d3UM"),r=n("NFeN"),s=n("bTqV"),l=n("fXoL");const p=[o.l,a.c,o.w,c.b,r.b,s.b];let d=(()=>{class t{}return t.\u0275mod=l.Zb({type:t}),t.\u0275inj=l.Yb({factory:function(e){return new(e||t)},imports:[[i.c,...p],o.l,a.c,o.w,c.b,r.b,s.b]}),t})()},ytpt:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("mrSG"),o=n("3Pt+"),a=n("AzuR"),c=n("pFNx"),r=n("fXoL"),s=n("N+K7"),l=n("Q+Hy"),p=n("A1CT");let d=(()=>{class t{constructor(t,e,n,i){this.httpService=t,this.fb=e,this._userProfileService=n,this.utilityService=i,this.selectedJobRole=null,this.jobId="",this.isBackClick=!1,this.jobDetails="",this.countryData={},this.isPublished=!1,this.isPublishStatus="",this.limit=c.a,this.categoryList=[],this.skillData=[],this.roleLists=[],this.addressData=[],this.selectedCategories=[],this.getProfileDetails(),this.countryData=this._userProfileService.countryInfo}createThirdStepForm(t){return this.fb.group({baseSalary:this.fb.group({salary:["",[o.x.required,o.x.min(t),o.x.max(999)]],currency:[this.utilityService.countryPayload.currency,o.x.required]}),timeline:this.fb.group({startDate:["",o.x.required],endDate:["",o.x.required]}),vacancies:["",[o.x.required,o.x.min(1)]],workingHours:this.fb.group({hours:new o.f(null,[o.x.required,o.x.min(1),o.x.max(60)]),days:new o.f(null,[o.x.required,o.x.min(1),o.x.max(7)])}),jobSite:this.fb.array([this.createJobSite()])})}creatForm(){this.firstStepForm=this.fb.group({businessCategoryId:[this.userData.businessCategories[0]._id],jobRoleId:["",[o.x.required]]}),this.secondStepForm=this.fb.group({title:["",[o.x.required,o.x.minLength(this.limit.nameMinLength),o.x.maxLength(this.limit.nameMaxLength)]],skills:["",[o.x.required]],experienceType:[""],description:["",[o.x.required,o.x.minLength(this.limit.descriptionMinLength),o.x.maxLength(this.limit.descriptionMaxLength1200)]],requirment:[""]}),this.thirdStepForm=this.fb.group({baseSalary:this.fb.group({salary:["",[o.x.required,o.x.max(9999)]],currency:[this.utilityService.countryPayload.currency,o.x.required]}),vacancies:["",[o.x.required,o.x.min(1)]],timeline:this.fb.group({startDate:["",o.x.required],endDate:["",o.x.required]}),workingHours:this.fb.group({hours:new o.f(null,[o.x.required,o.x.max(60)]),days:new o.f(null,[o.x.required,o.x.max(7)])}),jobSite:this.fb.array([this.createJobSite()])})}createJobSite(){return this.fb.group({addressId:["",[o.x.required]],address:["",[o.x.required]],noOfWorkers:["",[o.x.required]],timeSlots:this.fb.array([this.createTimeSlot()])})}createTimeSlot(){return this.fb.group({title:["",[o.x.required]],startTime:[new Date((new Date).setHours(9,0,0,0)),[o.x.required]],endTime:[new Date((new Date).setHours(14,0,0,0)),[o.x.required]],additionalAllowance:this.fb.group({salary:["0",[o.x.max(999)]],currency:[this.utilityService.countryPayload.currency]})})}setSecondStepForm(t){this.secondStepForm.patchValue(t.location)}getProfileDetails(){return Object(i.a)(this,void 0,void 0,(function*(){if(this.userData)return this.userData;{const t=yield this._userProfileService.getProfileDetail();return this.userData=t,this.userData}}))}createJob(t){return Object(i.a)(this,void 0,void 0,(function*(){if(t=Object.assign(Object.assign({},t),{countryId:this.userData.countryId}),this.jobId&&(t=Object.assign(Object.assign({},t),{jobId:this.jobId})),this.isPublished||this.jobId){const e=yield this.httpService.put(a.C,t,{showLoader:!0}).toPromise();return this.jobId=e.data._id,e}{const e=yield this.httpService.post(a.C,t,{showLoader:!0}).toPromise();return e.data._id&&(this.jobId=e.data._id),e}}))}addJob(t){return Object(i.a)(this,void 0,void 0,(function*(){return t=Object.assign(Object.assign({},t),{countryId:this.userData.countryId}),yield this.httpService.post(a.C,t,{showLoader:!0}).toPromise()}))}addressList(t={}){return this.httpService.get(a.D,t).toPromise()}addAddress(t={},e=!1){return t=Object.assign(Object.assign({},t),{countryId:this.userData.countryId}),this.httpService.post(a.D,t).toPromise()}jobAreaList(t={},e=!1){return this.httpService.get(a.E,t).toPromise()}jobSkillList(t={},e=!1){return this.httpService.get(a.G,t).toPromise()}jobRoleList(t={},e=!1){return this.httpService.get(a.F,Object.assign(Object.assign({},t),{isClient:!0})).toPromise()}jobDetail(t="",e=!1){return console.log(`${a.C}/${t}/`),this.httpService.get(`${a.C}/${t}/`,{},{showLoader:!0}).toPromise()}searchList(t,e={},n=!1){return this.httpService.get(t,e).toPromise()}jobListing(t){return this.httpService.get(a.C,t,{showLoader:!0}).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(r.lc(s.a),r.lc(o.e),r.lc(l.a),r.lc(p.a))},t.\u0275prov=r.Xb({token:t,factory:t.\u0275fac}),t})()},zFkK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("AgBJ"),o=n("fXoL");let a=(()=>{class t{}return t.\u0275mod=o.Zb({type:t}),t.\u0275inj=o.Yb({factory:function(e){return new(e||t)},providers:[i.a]}),t})()},zV8b:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var i=n("3Pt+"),o=n("+qE3"),a=n("/9RH"),c=n("fXoL"),r=n("ytpt"),s=n("0IaG"),l=n("Q+Hy"),p=n("kmnG"),d=n("d3UM"),h=n("ofXK"),g=n("fSvR"),u=n("FKr1"),m=n("IEde");const f=["selectElem"];function b(t,e){1&t&&c.cc(0,"div",7)}function _(t,e){1&t&&(c.hc(0,"mat-option",8),c.cd(1,"No Data Found"),c.gc())}function O(t,e){if(1&t&&(c.hc(0,"mat-option",9),c.cd(1),c.gc()),2&t){const t=e.$implicit;c.zc("value",t),c.Pb(1),c.dd(t.name)}}let C=(()=>{class t{constructor(t,e,n){this.addJobService=t,this.dialog=e,this.userProfileService=n,this._filterOptions={page:1,limit:20,search:""},this.selectedgetDataList=[],this.jobArea=[],this.controls=new i.f,this.selectedItem=new o,this.preSelected=null,this.validateKey="JOB_AREA",this.placeholder="Search address ...",this.selectPlaceholder="Search & select or create new",this.isLoader=!1,this.isSearch=!1,this.PIXEL_TOLERANCE=3,this.viewIndex=0,this.windowSize=10,this.nextHit=!1}ngOnInit(){this.preSelected&&(this.jobArea.push(this.preSelected),console.log(this.jobArea)),this.getDataList()}ngAfterViewInit(){this.selectElem.openedChange.subscribe(()=>this.registerPanelScrollEvent())}getDataList(){this.isLoader=!this.isLoader;let t=Object.assign({},this._filterOptions),e="name";switch(this.type){case a.p.STATE:t=Object.assign(Object.assign({},t),{countryId:this.userProfileService.profileData.countryId});break;case a.p.CITY:t=Object.assign(Object.assign({},t),{countryId:this.userProfileService.profileData.countryId}),e="cityName";break;case a.p.JOBAREA:t=Object.assign(Object.assign({},t),{countryId:this.userProfileService.profileData.countryId});break;case a.p.BUSINESS_CATEGORY:t=Object.assign({},t);break;case a.p.JOBNAME:t=Object.assign(Object.assign({},t),{status:1}),e="title";break;default:t=Object.assign({},t)}this.addJobService.searchList(this.searchUrl,t).then(({data:{result:t,next:n}})=>{this.nextHit=n,this.isLoader=!this.isLoader,this.jobArea?this.jobArea.push(...t.map(t=>Object.assign(Object.assign({},t),{name:t[e]}))):this.jobArea=t})}searchAreas(t){this.isSearch=!!t,this.jobArea=[],this._filterOptions.search=t,this._filterOptions.page=1,this.getDataList()}getNextBatch(){this.nextHit&&(++this._filterOptions.page,this.getDataList())}registerPanelScrollEvent(){setTimeout(()=>{this.selectElem&&this.selectElem.panel&&this.selectElem.panel.nativeElement.addEventListener("scroll",t=>this.loadNextOnScroll(t))},0)}loadNextOnScroll(t){this.hasScrolledToBottom(t.target)&&(this.viewIndex+=this.windowSize,this.getNextBatch())}hasScrolledToBottom(t){return Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<this.PIXEL_TOLERANCE}compareObjectIds(t,e){return!(!t||!e)&&(t.cityId&&e.cityId?t.cityId===e.cityId:"string"==typeof e?t._id===e:t._id===e._id)}}return t.\u0275fac=function(e){return new(e||t)(c.bc(r.a),c.bc(s.b),c.bc(l.a))},t.\u0275cmp=c.Vb({type:t,selectors:[["app-select-jobarea"]],viewQuery:function(t,e){var n;1&t&&c.Wc(f,!0),2&t&&c.Mc(n=c.pc())&&(e.selectElem=n.first)},inputs:{controls:"controls",type:"type",preSelected:"preSelected",searchUrl:"searchUrl",validateKey:"validateKey",placeholder:"placeholder",selectPlaceholder:"selectPlaceholder"},outputs:{selectedItem:"selectedItem"},decls:11,vars:12,consts:[["appearance","outline"],[3,"compareWith","formControl","disabled","placeholder"],["selectElem",""],["class","loader-btn loadersmall",4,"ngIf"],[3,"placeholder","search"],["class","notFound",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"loader-btn","loadersmall"],[1,"notFound"],[3,"value"]],template:function(t,e){1&t&&(c.hc(0,"mat-form-field",0),c.hc(1,"mat-select",1,2),c.ad(3,b,1,0,"div",3),c.hc(4,"app-select-search",4),c.oc("search",(function(t){return e.searchAreas(t)})),c.gc(),c.ad(5,_,2,0,"mat-option",5),c.fc(6),c.ad(7,O,2,2,"mat-option",6),c.ec(),c.gc(),c.hc(8,"mat-error"),c.cd(9),c.tc(10,"validate"),c.gc(),c.gc()),2&t&&(c.Pb(1),c.zc("compareWith",e.compareObjectIds)("formControl",e.controls)("disabled",e.isLoader)("placeholder",e.isLoader?"Loading":e.selectPlaceholder),c.Pb(2),c.zc("ngIf",e.isLoader),c.Pb(1),c.zc("placeholder",e.placeholder),c.Pb(1),c.zc("ngIf",!(null!=e.jobArea&&e.jobArea.length||e.isLoader)),c.Pb(2),c.zc("ngForOf",e.jobArea),c.Pb(2),c.ed("",c.vc(10,9,e.controls,e.validateKey)," "))},directives:[p.c,d.a,i.r,i.g,h.p,g.a,h.o,p.b,u.k],pipes:[m.a],styles:[".loader-btn[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:5px;right:-25px;z-index:999;background:#fff;padding:5px}.notFound[_ngcontent-%COMP%]{padding:30px 0!important;text-align:center}.add-address[_ngcontent-%COMP%]{color:#347cf7}"]}),t})()}}]);