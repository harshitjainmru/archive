(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"1yaQ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return d}));var o=n("fXoL"),a=n("FKr1"),i=n("wd/R");const r=n.n(i).a||i,s=new o.y("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function(){return{useUtc:!1}}});function c(t,e){const n=Array(t);for(let o=0;o<t;o++)n[o]=e(o);return n}let l=(()=>{class t extends a.a{constructor(t,e){super(),this._options=e,this.setLocale(t||r.locale())}setLocale(t){super.setLocale(t);let e=r.localeData(t);this._localeData={firstDayOfWeek:e.firstDayOfWeek(),longMonths:e.months(),shortMonths:e.monthsShort(),dates:c(31,t=>this.createDate(2017,0,t+1).format("D")),longDaysOfWeek:e.weekdays(),shortDaysOfWeek:e.weekdaysShort(),narrowDaysOfWeek:e.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,e,n){const o=this._createMoment({year:t,month:e,date:n}).locale(this.locale);return o.isValid(),o}today(){return this._createMoment().locale(this.locale)}parse(t,e){return t&&"string"==typeof t?this._createMoment(t,e,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,e){return t=this.clone(t),this.isValid(t),t.format(e)}addCalendarYears(t,e){return this.clone(t).add({years:e})}addCalendarMonths(t,e){return this.clone(t).add({months:e})}addCalendarDays(t,e){return this.clone(t).add({days:e})}toIso8601(t){return this.clone(t).format()}deserialize(t){let e;if(t instanceof Date)e=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;e=this._createMoment(t,r.ISO_8601).locale(this.locale)}return e&&this.isValid(e)?this._createMoment(e).locale(this.locale):super.deserialize(t)}isDateInstance(t){return r.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return r.invalid()}_createMoment(t,e,n){const{strict:o,useUtc:a}=this._options||{};return a?r.utc(t,e,n,o):r(t,e,n,o)}}return t.\u0275fac=function(e){return new(e||t)(o.lc(a.d,8),o.lc(s,8))},t.\u0275prov=o.Xb({token:t,factory:t.\u0275fac}),t})(),d=(()=>{class t{}return t.\u0275mod=o.Zb({type:t}),t.\u0275inj=o.Yb({factory:function(e){return new(e||t)},providers:[{provide:a.a,useClass:l,deps:[a.d,s]}]}),t})()},AgBJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("fXoL");let a=(()=>{class t{transform(t,e){return e.reduce((t,e)=>t.get(""+e),t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.ac({name:"getControl",type:t,pure:!0}),t})()},GsMG:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n("ofXK"),a=n("kmnG"),i=n("qFsG"),r=n("3Pt+"),s=n("bTqV"),c=n("NFeN"),l=n("fXoL");let d=(()=>{class t{}return t.\u0275mod=l.Zb({type:t}),t.\u0275inj=l.Yb({factory:function(e){return new(e||t)},imports:[[o.c,a.e,r.w,i.c,r.l,c.b,s.b]]}),t})()},Pw4Z:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("fXoL");let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Vb({type:t,selectors:[["app-no-record"]],inputs:{message:"message"},decls:5,vars:1,consts:[[1,"no_search_wrapper"],[1,"icon"],["src","assets/images/ic_no data.svg","alt",""]],template:function(t,e){1&t&&(o.hc(0,"div",0),o.hc(1,"figure",1),o.cc(2,"img",2),o.gc(),o.hc(3,"p"),o.cd(4),o.gc(),o.gc()),2&t&&(o.Pb(4),o.dd(e.message?e.message:" There is no data available"))},styles:[".no_search_wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;padding:50px 0;margin:0 -15px;background:#fff;border:1px solid #dbe2ea}@media (max-width:1024px){.no_search_wrapper[_ngcontent-%COMP%]{padding:40px 0}}@media (max-width:767px){.no_search_wrapper[_ngcontent-%COMP%]{padding:18px 0}}.no_search_wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-bottom:20px}@media (max-width:1024px){.no_search_wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-bottom:15px}}@media (max-width:767px){.no_search_wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-bottom:15px}}.no_search_wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;margin-bottom:0;font-size:16px;font-weight:600}@media (max-width:767px){.no_search_wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}}"]}),t})()},Qxun:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const o={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,password:/^[^\s]+$/,name:/(.|\s)*\S(.|\s)*/,phone:"^[0-9]+$",price:/(^[0][1-9]+)|([1-9]\d*)+$/,positiveNumber:/^[1-9][0-9]*$/,passRegex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,16}$/,alphaNumeric:/^[a-zA-Z0-9]*$/,url:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,removeHTML:/<[^>]*>/g}},dZWe:function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));var o=n("fXoL"),a=n("3Pt+"),i=n("Kj3r"),r=n("/uUt"),s=n("lJxs"),c=n("pLZG"),l=n("eIep"),d=n("FtGj"),h=n("quSY"),g=n("7O6Y"),p=n("/9RH"),u=n("A1CT"),f=n("N+K7"),m=n("kmnG"),b=n("qFsG"),_=n("/1cH"),O=n("ofXK"),C=n("A5z7"),w=n("Xa2L"),x=n("FKr1"),M=n("NFeN");const P=["chipInput"],v=["auto"];function y(t,e){1&t&&o.cc(0,"mat-spinner",13)}function S(t,e){1&t&&o.cc(0,"img",14)}function D(t,e){if(1&t&&(o.hc(0,"mat-option",15),o.cd(1),o.gc()),2&t){const t=e.$implicit,n=o.sc();o.zc("value",t),o.Pb(1),o.ed(" ",""===(null==n.searchObject?null:n.searchObject.viewKey)?t:t[null==n.searchObject?null:n.searchObject.viewKey]," ")}}function j(t,e){1&t&&(o.fc(0),o.cc(1,"mat-spinner",16),o.ec())}function k(t,e){if(1&t){const t=o.ic();o.fc(0),o.hc(1,"mat-chip",17),o.oc("removed",(function(){o.Qc(t);const n=e.$implicit;return o.sc().remove(n)})),o.cd(2),o.hc(3,"mat-icon",18),o.cd(4,"cancel"),o.gc(),o.gc(),o.ec()}if(2&t){const t=e.$implicit,n=o.sc();o.Pb(2),o.ed("",t[null==n.searchObject?null:n.searchObject.viewKey]," ")}}const I=function(){return[]};let L=(()=>{class t{constructor(t,e){this.utilityService=t,this.http=e,this.listienSelection=new o.r,this.showAll=!1,this.hideMore=!0,this.separatorKeysCodes=[d.g,d.c],this.searchCtrl=new a.f([""]),this.dataLists=[],this.searchText="",this.results=[],this.page=1,this.loading=!1,this.searching=!1,this.nextPageStatus=!0,this.subscription=new h.a,this.parant="worker",this.selectedChip=[]}ngOnInit(){this.loadResults(),this.initiateListener()}initiateListener(){var t,e;null===(e=null===(t=this.searchObject)||void 0===t?void 0:t.control)||void 0===e||e.valueChanges.pipe(Object(i.a)(500),Object(r.a)(),Object(s.a)(t=>t?t.trim():""),Object(c.a)(t=>!!t&&"string"==typeof t),Object(l.a)(t=>this.searchObject.control.valid?(this.searching=!0,this.loading=!1,this.nextPageStatus=!0,this.search()):Promise.resolve(0))).subscribe(t=>{t?this.updateResults(t):(this.searching=!1,this.loading=!1)},t=>{})}search(){let t=Object.assign({},Object(g.v)(10));if(this.searchObject.isPagination)switch(this.parant){case"job":case"job-role":t=Object.assign(Object.assign(Object.assign({},t),this.searchObject.searchQuery),{search:this.searchObject.control.value.trim()});break;case"worker":t=Object.assign(Object.assign({},t),{isClient:!0,search:this.searchObject.control.value.trim()});break;case"skills":t=Object.assign(Object.assign({},t),{search:this.searchObject.control.value.trim()});break;case"searchApplicantskills":case"jobSite":t=Object.assign(Object.assign(Object.assign({},t),this.searchObject.queryParams),{search:this.searchObject.control.value.trim()});break;default:t=Object.assign({},t)}else t.search=this.searchObject.control.value.trim();return this.http.get(this.searchObject.url,Object.assign({},t))}loadResults(){this.loading=!0,this.search().subscribe(t=>{this.updateResults(t)},t=>{})}updateResults(t){"jobSite"===this.parant&&(t.data.result=this.flattenJobSiteObj(t.data.result)),this.results=t.data&&Array.isArray(t.data.result)?[...t.data.result]:[],this.nextPageStatus=t.data.nextPageStatus,++this.page,this.searching=!1,this.loading=!1}flattenJobSiteObj(t){const e=[];return t&&t.forEach(t=>{e.push(t.job_Site)}),e}optionSelected(t){if(this.searchObject.selectedValue.findIndex(e=>e[this.searchObject.valueKey]===t.option.value[this.searchObject.valueKey])<0)try{if(this.searchObject.selectedValue.length>=this.searchObject.limit)throw{type:p.k.DROPDOWN_LIMIT};this.searchObject.selectedValue.push(Object.assign({},t.option.value)),this.searchObject.selectedViewValue.push(t.option.value[this.searchObject.viewKey]),this.searchObject.selectedControl.setValue(this.searchObject.selectedValue.map(t=>t[this.searchObject.valueKey]))}catch(e){e&&e.type===p.k.DROPDOWN_LIMIT&&this.utilityService.showAlert(`Sorry! only ${this.searchObject.limit} selection are allowed !`)}this.searchObject.control.setValue(""),this.searchObject.localSave&&this.utilityService.setSessionStorage(g.z[this.searchObject.localSaveKey],JSON.stringify({selectedValue:this.searchObject.selectedValue,selectedViewValue:this.searchObject.selectedViewValue}))}blur(){this.searchObject.control.markAllAsTouched(),this.searchObject.control.markAsDirty()}add(t){const e=t.input;(t.value||"").trim(),e&&(e.value=""),this.searchCtrl.setValue(null)}remove(t){const e=this.searchObject.selectedValue.findIndex(e=>e[this.searchObject.valueKey]===t[this.searchObject.valueKey]);e>=0&&(this.searchObject.selectedValue.splice(e,1),this.searchObject.selectedControl.setValue(this.searchObject.selectedValue.map(t=>t[this.searchObject.valueKey])))}}return t.\u0275fac=function(e){return new(e||t)(o.bc(u.a),o.bc(f.a))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-chip-search-form"]],viewQuery:function(t,e){var n;1&t&&(o.hd(P,!0),o.hd(v,!0)),2&t&&(o.Mc(n=o.pc())&&(e.chipInput=n.first),o.Mc(n=o.pc())&&(e.matAutocomplete=n.first))},inputs:{dataLists:"dataLists",searchObject:"searchObject",parant:"parant"},outputs:{listienSelection:"listienSelection"},decls:15,vars:9,consts:[[1,"add_skill_wrapper"],["appearance","none"],["matInput","",3,"placeholder","formControl","matAutocomplete"],["chipInput",""],["matSuffix",""],["matSuffix","","diameter","20",4,"ngIf"],["src","assets/images/Search.svg","alt","",4,"ngIf"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["chipRef",""],[4,"ngFor","ngForOf"],["matSuffix","","diameter","20"],["src","assets/images/Search.svg","alt",""],[3,"value"],["diameter","30"],[3,"removed"],["matChipRemove",""]],template:function(t,e){if(1&t&&(o.hc(0,"div",0),o.hc(1,"mat-form-field",1),o.cc(2,"input",2,3),o.hc(4,"span",4),o.ad(5,y,1,0,"mat-spinner",5),o.ad(6,S,1,0,"img",6),o.gc(),o.hc(7,"mat-autocomplete",7,8),o.oc("optionSelected",(function(t){return e.optionSelected(t)})),o.ad(9,D,2,2,"mat-option",9),o.ad(10,j,2,0,"ng-container",10),o.gc(),o.gc(),o.hc(11,"div"),o.hc(12,"mat-chip-list",null,11),o.ad(14,k,5,1,"ng-container",12),o.gc(),o.gc(),o.gc()),2&t){const t=o.Nc(8);o.Pb(2),o.zc("placeholder",null==e.searchObject?null:e.searchObject.placeholder)("formControl",null==e.searchObject?null:e.searchObject.control)("matAutocomplete",t),o.Pb(3),o.zc("ngIf",e.searching),o.Pb(1),o.zc("ngIf",!e.searching),o.Pb(3),o.zc("ngForOf",e.results),o.Pb(1),o.zc("ngIf",e.loading),o.Pb(4),o.zc("ngForOf",(null==e.searchObject?null:e.searchObject.selectedValue)||o.Dc(8,I))}},directives:[m.c,b.b,a.c,_.c,a.r,a.g,m.i,O.p,_.a,O.o,C.b,w.c,x.k,C.a,M.a,C.c],styles:["[_nghost-%COMP%]     .cstm_chip_wrapper .mat-form-field-flex{padding:15px!important}[_nghost-%COMP%]     .cstm_chip_wrapper .mat-input-element{margin-top:15px!important}[_nghost-%COMP%]     .cstm_chip_wrapper .selected-item{border:2px solid #14b1bd}[_nghost-%COMP%]     .mat-form-field .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix .mat-input-element{position:relative;top:-2px}[_nghost-%COMP%]     .add_skill_wrapper{width:40%}@media (max-width:767px){[_nghost-%COMP%]     .add_skill_wrapper{width:100%}}[_nghost-%COMP%]     .add_skill_wrapper .mat-form-field-suffix{white-space:nowrap;flex:none;position:relative;top:5px;right:6px;padding:5px;border-radius:100%;color:#14b1bd;font-size:15px}[_nghost-%COMP%]     .add_skill_wrapper .mat-form-field-flex{border-radius:5px;border:1px solid rgba(150,165,184,.1)}[_nghost-%COMP%]     .mat-chip.mat-standard-chip{background-color:#f4f8ff;color:#14b1bd;font-family:Lato,sans-serif;font-size:13px;font-weight:700;border-radius:4px;margin-right:10px;opacity:1!important}[_nghost-%COMP%]     .mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px;color:#14b1bd;position:relative;top:-2px;opacity:1!important}[_nghost-%COMP%]     .more{background:#f4f8ff;font-size:12px;height:32px;display:flex;align-items:center;justify-content:center;padding:0 10px;font-family:Lato,sans-serif;color:#14b1bd;font-weight:800;cursor:pointer}"]}),t})()},ktbk:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("ofXK"),a=n("fXoL");let i=(()=>{class t{}return t.\u0275mod=a.Zb({type:t}),t.\u0275inj=a.Yb({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})()},"md+p":function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n("3Pt+"),a=n("Qxun"),i=n("pFNx"),r=(n("RVMx"),n("PqYM")),s=n("eIep"),c=n("lJxs"),l=n("fXoL");let d=(()=>{class t{constructor(){this.customValidators={match(t,e,n){return this.compare(t,"MATCH",e||t,n)((t,e)=>t===e)},lowerThan(t,e,n){return this.compare(t,"LOWER",e||t,n)((t,e)=>t<=e)},higherThan(t,e,n){return this.compare(t,"HIGHER",e||t,n)((t,e)=>t>=e)},compare:(t,e,n,o)=>a=>i=>{if(i.value||0===i.value){const r=o||i.parent;if(r){const o=r.controls[t];if(o&&o.errors&&o.errors.compare&&o.updateValueAndValidity(),!o)throw new Error(`Match Control [${n}] not found on parent control.`);if(o.dirty&&!a(i.value,o.value))return{compare:{field:n,type:e}}}}}},this.VALIDATION={name:[o.x.minLength(i.a.nameMinLength),o.x.maxLength(i.a.nameMaxLength)],middleName:[o.x.minLength(i.a.nameMinLength),o.x.maxLength(i.a.nameMaxLength)],companyName:[o.x.minLength(i.a.nameMinLength),o.x.maxLength(i.a.nameMaxLength)],price:[o.x.pattern(a.a.price),o.x.minLength(i.a.priceMinLength),o.x.maxLength(i.a.priceMaxLength),o.x.min(0)],rangeMin:[o.x.pattern(a.a.price),o.x.min(1)],rangeMax:[o.x.pattern(a.a.price),o.x.min(1)],rangeFixed:[o.x.pattern(a.a.price),o.x.min(1)],email:[o.x.pattern(a.a.email),o.x.maxLength(i.a.emailMaxLength)],description:[o.x.minLength(i.a.descriptionMinLength),o.x.maxLength(i.a.descriptionMaxLength)],descriptionMax400:[o.x.minLength(i.a.descriptionMinLength),o.x.maxLength(i.a.descriptionMaxLength400)],descriptionMaxLength1200:[o.x.minLength(i.a.descriptionMinLength),o.x.maxLength(i.a.descriptionMaxLength1200)],ratingDescription:[o.x.minLength(i.a.descriptionMinLength),o.x.maxLength(i.a.descriptionMaxLength)],rating:[],propertyId:[],bookingId:[],hostId:[],password:[o.x.pattern(a.a.password),o.x.minLength(i.a.passwordMinLength),o.x.maxLength(i.a.passwordMaxLength)],passwordRule:[o.x.pattern(a.a.passRegex),o.x.minLength(i.a.passwordMinLength),o.x.maxLength(i.a.passwordMaxLength)],phone:[o.x.pattern(a.a.phone),o.x.minLength(i.a.phoneMinLength),o.x.maxLength(i.a.phoneMaxLength)],dropdown:[],checkbox:[],houseNo:[o.x.minLength(i.a.houseNumberMinLength),o.x.maxLength(i.a.houseNumberMaxLength)],street:[o.x.minLength(i.a.streetMinLength),o.x.maxLength(i.a.streetMaxLength)],address:[o.x.minLength(i.a.addressMinLength),o.x.maxLength(i.a.addressMaxLength)],landmark:[o.x.minLength(i.a.landmarkMinLength),o.x.maxLength(i.a.landmarkMaxLength)],requiredOnly:[],zipCode:[o.x.pattern(a.a.phone),o.x.minLength(i.a.zipcodeMinLength),o.x.maxLength(i.a.zipcodeMaxLength)],zipCodeUser:[o.x.minLength(i.a.zipcodeMinLength),o.x.maxLength(i.a.zipcodeMaxLength)],taxNo:[o.x.minLength(i.a.taxNumberMinLength),o.x.maxLength(i.a.taxNumberMaxLength)],regNo:[o.x.minLength(i.a.regNumberMinLength),o.x.maxLength(i.a.regNumberMaxLength)],dob:[],subject:[o.x.minLength(i.a.bioMinLength),o.x.maxLength(i.a.subjectMaxLength)],subjectRequest:[o.x.minLength(3),o.x.maxLength(200)],subjectDescription:[o.x.minLength(3),o.x.maxLength(800)],uen:[o.x.pattern(a.a.alphaNumeric),o.x.minLength(i.a.uenMinLength),o.x.maxLength(i.a.uenMaxLength)],webSite:[o.x.pattern(a.a.url)],optional:[],title:[o.x.minLength(i.a.mininviteTitleLength),o.x.maxLength(i.a.maxinviteTitleLength)],message:[o.x.minLength(i.a.mininviteMsgLength),o.x.maxLength(i.a.maxinviteMsgLength)]},this.loginAsyncValidator=(t,e,n=500)=>(console.log({bookingId:e}),o=>{const a={email:o.value,bookingId:e};return Object(r.a)(n).pipe(Object(s.a)(()=>t.validateEmail(Object.assign({},a)),t=>(console.log({err:t}),{loginExist:!0})),Object(c.a)(t=>(console.log({res:t}),null),t=>(console.log({err:t}),{loginExist:!0})))})}noWhitespaceValidator(t){return 0!==(t.value||"").trim().length?null:{whitespace:!0}}removeSpaces(t){return t&&t.value&&!t.value.replace(/\s/g,"").length&&t.setValue(""),null}matchPassword(t){let e=t.get("password").value,n=t.get("confirmPassword").value;e!==n?t.get("confirmPassword").setErrors({matchPassword:!0}):e===n&&t.get("confirmPassword").errors&&(delete t.get("confirmPassword").errors.matchPassword,0===Object.keys(t.get("confirmPassword").errors).length&&t.get("confirmPassword").setErrors(null))}MustMatch(t,e){return n=>{const o=n.controls[t],a=n.controls[e];return o&&a?a.errors&&!a.errors.mustMatch?null:void a.setErrors(o.value!==a.value?{mustMatch:!0}:null):null}}getControl(t,e=!0,n){void 0===n&&(n="");let a=[...this.VALIDATION[t]];return e&&a.splice(0,0,"checkbox"===t?o.x.requiredTrue:o.x.required),["checkbox"!==t&&n,o.x.compose(a)]}getFilterFormControls(t){let e={};for(let n of t)e[n]=[null];return e}genrateControlsObj(t){return t.reduce((t,e)=>(t[e]=[""],t),{})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Xb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},o64d:function(t,e,n){"use strict";n.r(e),n.d(e,"ScheduleShiftModule",(function(){return oe}));var o=n("ofXK"),a=n("mrSG"),i=n("7O6Y"),r=n("AzuR"),s=n("3Pt+"),c=n("0IaG"),l=n("fvtg"),d=n("/9RH"),h=n("fXoL"),g=n("md+p"),p=n("A1CT"),u=n("N+K7");let f=(()=>{class t{constructor(t,e,n){this.httpService=t,this.formBuilder=e,this.formService=n}scheduleShiftListing(t,e=!1){return e&&(t=Object.assign(Object.assign({},t),{isImport:!0})),this.httpService.get(r.N,t,{showLoader:!0})}createSingleScheduleGroup(){}createScheduleGroup(){return this.formBuilder.group({applicant:this.createSingleApplicantInfo(),timeSlots:this.formBuilder.array([]),shiftData:this.formBuilder.array([]),workingHours:new s.f(""),totalShiftHours:this.formService.getControl("dropdown",!0,0),isEdit:this.formService.getControl("dropdown",!0,!1),isSave:this.formService.getControl("dropdown",!0,!1),isImport:this.formService.getControl("dropdown",!0,!1),shiftId:this.formService.getControl("dropdown",!1),timeline:this.formService.getControl("dropdown"),jobRole:this.formService.getControl("dropdown"),isActionedByUser:this.formService.getControl("dropdown",!1,!1)})}createSingleApplicantInfo(){return this.formBuilder.group({userId:this.formService.getControl("dropdown"),applyJobId:this.formService.getControl("dropdown"),employerId:this.formService.getControl("dropdown"),startOfWeek:this.formService.getControl("dropdown"),endOfWeek:this.formService.getControl("dropdown"),fullName:this.formService.getControl("dropdown"),jobId:this.formService.getControl("dropdown"),profileImage:this.formService.getControl("dropdown",!1,""),employee_id:this.formService.getControl("dropdown"),placement_id:this.formService.getControl("dropdown"),email:this.formService.getControl("dropdown")})}createSingleTimeslotGroup(){return this.formBuilder.group({_id:this.formService.getControl("dropdown",!1),startTime:this.formService.getControl("dropdown",!1),endTime:this.formService.getControl("dropdown",!1),title:this.formService.getControl("dropdown",!1)})}createShiftDataForm(){return this.formBuilder.group({control:this.formService.getControl("dropdown"),list:this.formService.getControl("dropdown"),isDisabled:this.formService.getControl("dropdown",!0,!0)})}addScheule(t){return this.httpService.post(r.b,t,{skipErrorPopup:!0}).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(h.lc(u.a),h.lc(s.e),h.lc(g.a))},t.\u0275prov=h.Xb({token:t,factory:t.\u0275fac}),t})();var m=n("Q+Hy"),b=n("kmnG"),_=n("dZWe");let O=(()=>{class t{constructor(t,e,n,o,a,i,s){this.formService=t,this.fb=e,this.dialogRef=n,this.data=o,this.utilityService=a,this.scheduleService=i,this.userProfileService=s,this.jobAreaSearchConfig={url:r.E,isPagination:!0,viewKey:"name",valueKey:"_id",selectedValue:[],selectedViewValue:[],placeholder:"Search & select job site",localSave:!0,limit:5,localSaveKey:"JOB_FILTER_JOB_AREA"},this.jobRoleSearchConfig={url:r.F,isPagination:!0,viewKey:"name",valueKey:"_id",selectedValue:[],selectedViewValue:[],placeholder:"Search & select job role",localSave:!0,limit:5,localSaveKey:"JOB_ROLE_FILTER"},this.scheduleFilterForm=this.getFilterForm()}ngOnInit(){var t,e,n,o,a,r,c,l;if(this.data){console.log("waoaoaoa",this.data);const a={jobRole:this.data&&(null===(t=this.data)||void 0===t?void 0:t.jobRole)?null===(e=this.data)||void 0===e?void 0:e.jobRole.split(","):[],jobSite:this.data&&(null===(n=this.data)||void 0===n?void 0:n.jobSite)?null===(o=this.data)||void 0===o?void 0:o.jobSite.split(","):[]};this.scheduleFilterForm.patchValue(Object.assign({},a))}let d,h,g,p;this.data&&this.data.jobSite&&(d=null===(a=this.utilityService.getSessionStorage(i.z.JOB_FILTER_JOB_AREA))||void 0===a?void 0:a.selectedValue,h=null===(r=this.utilityService.getSessionStorage(i.z.JOB_FILTER_JOB_AREA))||void 0===r?void 0:r.selectedViewValue),this.data&&this.data.jobRole&&(g=null===(c=this.utilityService.getSessionStorage(i.z.JOB_ROLE_FILTER))||void 0===c?void 0:c.selectedValue,p=null===(l=this.utilityService.getSessionStorage(i.z.JOB_ROLE_FILTER))||void 0===l?void 0:l.selectedViewValue),this.userDetails=this.userProfileService.profileData,this.jobAreaSearchConfig=Object.assign(Object.assign({},this.jobAreaSearchConfig),{selectedControl:this.scheduleFilterForm.get("jobSite"),searchQuery:{countryId:this.userDetails.countryId},control:new s.f(""),selectedValue:d&&d.length?d:[],selectedViewValue:h&&h.length?h:[]}),this.jobRoleSearchConfig=Object.assign(Object.assign({},this.jobRoleSearchConfig),{selectedControl:this.scheduleFilterForm.get("jobRole"),control:new s.f(""),selectedValue:g&&g.length?g:[],selectedViewValue:p&&p.length?p:[]})}getFilterForm(){return this.fb.group({jobSite:this.formService.getControl("dropdown"),jobRole:this.formService.getControl("dropdown")})}applyFilter(){try{const t=this.utilityService.formatData(this.scheduleFilterForm.value);this.dialogRef.close({data:l.a.parse(t),type:d.n.APPLY})}catch(t){}console.log("finalala",this.scheduleFilterForm,this.jobAreaSearchConfig)}closeDialog(){try{this.dialogRef.close({type:d.n.DISMISS})}catch(t){}}reset(){try{this.scheduleFilterForm.reset(),this.utilityService.clearSessionStorage(i.z.JOB_FILTER_JOB_AREA),this.utilityService.clearSessionStorage(i.z.JOB_ROLE_FILTER);const t=this.utilityService.formatData(this.scheduleFilterForm.value);console.log("datata",l.a.parse(t)),this.dialogRef.close({data:l.a.parse(t),type:d.n.CANCEL})}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)(h.bc(g.a),h.bc(s.e),h.bc(c.g),h.bc(c.a),h.bc(p.a),h.bc(f),h.bc(m.a))},t.\u0275cmp=h.Vb({type:t,selectors:[["app-schedule-shift-filter"]],decls:22,vars:4,consts:[[1,"filter_main_wrapper"],[1,"heading"],[1,"close_btn",3,"click"],["src","assets/images/filter_close.svg","alt",""],[1,"filter_body"],[1,"row"],[1,"filter_col"],[1,"app-chip-search-form",3,"searchObject","parant"],[1,"btn_wrap"],[1,"primary-btn",3,"click"],[1,"btn_secondry",3,"click"]],template:function(t,e){1&t&&(h.hc(0,"div",0),h.hc(1,"div",1),h.hc(2,"h3"),h.cd(3,"FILTER BY"),h.gc(),h.hc(4,"span",2),h.oc("click",(function(){return e.closeDialog()})),h.cc(5,"img",3),h.gc(),h.gc(),h.hc(6,"div",4),h.hc(7,"div",5),h.hc(8,"div",6),h.hc(9,"mat-label"),h.cd(10,"Job site"),h.gc(),h.cc(11,"app-chip-search-form",7),h.gc(),h.gc(),h.hc(12,"div",5),h.hc(13,"div",6),h.hc(14,"mat-label"),h.cd(15,"Job role"),h.gc(),h.cc(16,"app-chip-search-form",7),h.gc(),h.gc(),h.gc(),h.hc(17,"div",8),h.hc(18,"button",9),h.oc("click",(function(){return e.applyFilter()})),h.cd(19,"Apply filter"),h.gc(),h.hc(20,"button",10),h.oc("click",(function(){return e.reset()})),h.cd(21,"Reset"),h.gc(),h.gc(),h.gc()),2&t&&(h.Pb(11),h.zc("searchObject",e.jobAreaSearchConfig)("parant","job"),h.Pb(5),h.zc("searchObject",e.jobRoleSearchConfig)("parant","job"))},directives:[b.g,_.a],styles:[".filter_main_wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{background:hsla(0,0%,93.3%,.9333333333333333);padding:15px;display:flex;align-items:center;justify-content:space-between}.filter_main_wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin-bottom:0;font-weight:600}.filter_main_wrapper[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .close_btn[_ngcontent-%COMP%]{cursor:pointer}.filter_main_wrapper[_ngcontent-%COMP%]   .filter_body[_ngcontent-%COMP%]{height:calc(100vh - 145px);overflow-y:auto;padding:15px}.filter_main_wrapper[_ngcontent-%COMP%]   .btn_wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:15px 17px;border-top:1px solid hsla(0,0%,83.9%,.5)}.filter_main_wrapper[_ngcontent-%COMP%]   .btn_wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:calc(50% - 5px);height:48px;font-size:14px;font-weight:500}.filter_main_wrapper[_ngcontent-%COMP%]   .btn_wrap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{margin-left:0}.filter_main_wrapper[_ngcontent-%COMP%]   .btn_wrap[_ngcontent-%COMP%]   .btn_secondry[_ngcontent-%COMP%]{border:1.5px solid rgba(150,165,184,.5);color:#14b1bd}[_nghost-%COMP%]     .filter_body .app-chip-search-form, [_nghost-%COMP%]     .filter_body .app-chip-search-form .add_skill_wrapper{width:100%}[_nghost-%COMP%]     .filter_body .mat-checkbox{margin-bottom:20px;display:block}[_nghost-%COMP%]     .filter_body mat-label{width:100%;font-size:16px;font-weight:400;line-height:1.5;color:#6e6b6b;display:block;margin-bottom:10px}[_nghost-%COMP%]     .filter_body .mat-checkbox-layout .mat-checkbox-label{line-height:24px;display:flex;align-items:center}[_nghost-%COMP%]     .filter_body .mat-checkbox-layout .mat-checkbox-label img{margin:0 4px}[_nghost-%COMP%]     .filter_body .app-date-filter mat-label{padding:0;margin-bottom:5px}[_nghost-%COMP%]     .filter_body .ngx-slider .ngx-slider-pointer{background-color:#14b1bd}[_nghost-%COMP%]     .filter_body .ngx-slider .ngx-slider-selection{background:#14b1bd}[_nghost-%COMP%]     .filter_body .ngx-slider .ngx-slider-bubble{color:#fff;background:#6e6b6b;font-size:12px;font-family:Lato,sans-serif;margin-bottom:6px;border-radius:4px}[_nghost-%COMP%]     .filter_body .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#fff}.row[_ngcontent-%COMP%]{margin-bottom:15px;padding-bottom:15px}.row[_ngcontent-%COMP%]:last-of-type{margin-bottom:0;border-bottom:0}.row[_ngcontent-%COMP%]   .filter_col[_ngcontent-%COMP%]{padding:0 15px;width:100%}"]}),t})();var C=n("quSY"),w=n("HDdC"),x=n("+0xr"),M=n("xHNR"),P=n("eIep"),v=n("YDUv"),y=n("SqtC"),S=n("wd/R"),D=n("tk/3");function j(t,e){1&t&&(h.hc(0,"p"),h.cc(1,"img",13),h.hc(2,"span"),h.cd(3,"Minimum criteria for working hours are not fulfilled "),h.gc(),h.gc())}function k(t,e){1&t&&(h.hc(0,"p"),h.cc(1,"img",13),h.hc(2,"span"),h.cd(3,"Minimum criteria for working days are not fulfilled "),h.gc(),h.gc())}function I(t,e){if(1&t&&(h.hc(0,"div",10),h.hc(1,"div",11),h.hc(2,"h3"),h.cd(3),h.hc(4,"span"),h.cd(5),h.gc(),h.gc(),h.gc(),h.ad(6,j,4,0,"p",12),h.ad(7,k,4,0,"p",12),h.gc()),2&t){const t=e.$implicit;h.Pb(3),h.ed("",null==t?null:t.fullName," "),h.Pb(2),h.dd(null==t?null:t.jobId),h.Pb(1),h.zc("ngIf",(null==t?null:t.totalShiftHours)<(null==t||null==t.workingHours?null:t.workingHours.hours)),h.Pb(1),h.zc("ngIf",(null==t?null:t.totalWorkingDays)<(null==t?null:t.workingHours.days))}}let L=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e,this.warningData=[],this.warningData=t}ngOnInit(){}close(){this.dialogRef.close()}continue(){this.dialogRef.close(d.k.CONTINUE)}}return t.\u0275fac=function(e){return new(e||t)(h.bc(c.a),h.bc(c.g))},t.\u0275cmp=h.Vb({type:t,selectors:[["app-warning-popup"]],decls:19,vars:1,consts:[[1,"popup-wrapper"],[1,"popup-inner"],[1,"header"],["src","assets/icons/warning_ic.svg","alt","Icon"],[1,"popup-main"],[1,"description"],[1,"warning-msg-list"],["class","warning-msg",4,"ngFor","ngForOf"],[1,"popup-footer"],["type","button",1,"btn-primary",3,"click"],[1,"warning-msg"],[1,"top-info"],[4,"ngIf"],["src","assets/icons/warning_small_ic.svg","alt","Icon"]],template:function(t,e){1&t&&(h.hc(0,"div",0),h.hc(1,"div",1),h.hc(2,"div",2),h.hc(3,"h3"),h.cc(4,"img",3),h.hc(5,"span"),h.cd(6,"Warning"),h.gc(),h.gc(),h.gc(),h.gc(),h.hc(7,"div",4),h.hc(8,"h3"),h.cd(9,"We found discrepancy on schedule you had entered for few workers"),h.gc(),h.hc(10,"p",5),h.cd(11,"Kindly check on following entries that have issues"),h.gc(),h.hc(12,"div",6),h.ad(13,I,8,4,"div",7),h.gc(),h.gc(),h.hc(14,"div",8),h.hc(15,"button",9),h.oc("click",(function(){return e.close()})),h.cd(16,"Cancel"),h.gc(),h.hc(17,"button",9),h.oc("click",(function(){return e.continue()})),h.cd(18,"Continue"),h.gc(),h.gc(),h.gc()),2&t&&(h.Pb(13),h.zc("ngForOf",e.warningData))},directives:[o.o,o.p],styles:['.popup-wrapper[_ngcontent-%COMP%]{margin:-24px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:64px;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:0 0 0 24px;background-color:hsla(0,0%,95.3%,.5)}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:0}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:1.8;color:#14b1bd}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]{padding:25px 16px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;line-height:1.5;color:#231e1e;margin-bottom:10px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:16px;line-height:1.5;color:#858585}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .warning-msg-list[_ngcontent-%COMP%]{height:40vh;overflow-y:auto}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .warning-msg-list[_ngcontent-%COMP%]   .warning-msg[_ngcontent-%COMP%]{min-height:66px;padding:8px;border:1px solid rgba(244,67,54,.3);background-color:#fff2f1;margin-bottom:8px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .warning-msg-list[_ngcontent-%COMP%]   .warning-msg[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:700;line-height:1.29;color:#231e1e;margin-bottom:6px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .warning-msg-list[_ngcontent-%COMP%]   .warning-msg[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:1.5;color:#6e6b6b;position:relative;padding-left:20px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .warning-msg-list[_ngcontent-%COMP%]   .warning-msg[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{width:4px;height:4px;border-radius:50%;background-color:#858585;position:absolute;content:"";left:8px;top:50%;transform:translateY(-50%)}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .warning-msg-list[_ngcontent-%COMP%]   .warning-msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.71;color:#231e1e;display:flex;align-items:center}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .warning-msg-list[_ngcontent-%COMP%]   .warning-msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:8px}.popup-wrapper[_ngcontent-%COMP%]   .popup-footer[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #f3f3f3;display:flex;align-items:center;justify-content:flex-end}.popup-wrapper[_ngcontent-%COMP%]   .popup-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{width:110px;height:42px;flex-grow:0;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0 15px;border-radius:6px;background-color:#14b1bd;font-size:14px;font-weight:500;text-align:center;color:#fff;margin-right:10px}']}),t})();var A=n("oVVD"),F=n("dsVT");let R=(()=>{class t{constructor(t,e){this.data=t,this._dialogRef=e,this.infoData=t,console.log(this.infoData)}ngOnInit(){}close(){this._dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(h.bc(c.a),h.bc(c.g))},t.\u0275cmp=h.Vb({type:t,selectors:[["app-schedule-info-popup"]],decls:39,vars:10,consts:[[1,"popup-wrapper"],[1,"popup-inner"],[1,"header"],["src","assets/images/Resume.svg","alt","Staff Icon"],[3,"click"],["src","assets/icons/Close_ic.svg","alt","Close Icon"],[1,"popup-main"],[1,"top-info"],["appImageFallback","","alt","",3,"src"],[1,"basic-info"],[1,"min-engagement-wrap"],["src","assets/images/add_shift_small.svg","alt","Icon"]],template:function(t,e){1&t&&(h.hc(0,"div",0),h.hc(1,"div",1),h.hc(2,"div",2),h.hc(3,"h1"),h.cc(4,"img",3),h.hc(5,"span"),h.cd(6,"Staff info"),h.gc(),h.gc(),h.hc(7,"a",4),h.oc("click",(function(){return e.close()})),h.cc(8,"img",5),h.gc(),h.gc(),h.gc(),h.hc(9,"div",6),h.hc(10,"div",7),h.hc(11,"figure"),h.cc(12,"img",8),h.gc(),h.hc(13,"h3"),h.cd(14),h.tc(15,"checkNull"),h.gc(),h.gc(),h.hc(16,"div",9),h.hc(17,"ul"),h.hc(18,"li"),h.hc(19,"strong"),h.cd(20,"Job name: "),h.gc(),h.hc(21,"span"),h.cd(22),h.gc(),h.gc(),h.hc(23,"li"),h.hc(24,"strong"),h.cd(25,"Role: "),h.gc(),h.hc(26,"span"),h.cd(27),h.gc(),h.gc(),h.hc(28,"li"),h.hc(29,"strong"),h.cd(30),h.gc(),h.gc(),h.gc(),h.gc(),h.hc(31,"div",10),h.hc(32,"ul"),h.hc(33,"li"),h.cc(34,"img",11),h.hc(35,"strong"),h.cd(36,"Minimum engagement"),h.gc(),h.gc(),h.hc(37,"li"),h.cd(38),h.gc(),h.gc(),h.gc(),h.gc(),h.gc()),2&t&&(h.Pb(12),h.zc("src","deleted"!=(null==e.infoData||null==e.infoData.applicant?null:e.infoData.applicant.status)?null==e.infoData||null==e.infoData.applicant?null:e.infoData.applicant.profileImage:"",h.Tc),h.Pb(2),h.dd("deleted"!=(null==e.infoData||null==e.infoData.applicant?null:e.infoData.applicant.status)?h.uc(15,8,null==e.infoData||null==e.infoData.applicant?null:e.infoData.applicant.fullName):"This User does not exist"),h.Pb(8),h.ed(" ",null==e.infoData||null==e.infoData.job?null:e.infoData.job.title,""),h.Pb(5),h.fd(" ",null==e.infoData||null==e.infoData.jobRole||null==e.infoData.jobRole.jobCategory?null:e.infoData.jobRole.jobCategory.name," - ",null==e.infoData||null==e.infoData.jobRole?null:e.infoData.jobRole.name,""),h.Pb(3),h.ed("Job id: ",null==e.infoData||null==e.infoData.applicant?null:e.infoData.applicant.jobId,""),h.Pb(8),h.fd("",null==e.infoData||null==e.infoData.workingHours?null:e.infoData.workingHours.hours," hrs & ",null==e.infoData||null==e.infoData.workingHours?null:e.infoData.workingHours.days," days /person in week"))},directives:[A.a],pipes:[F.a],styles:[".popup-wrapper[_ngcontent-%COMP%]{margin:-24px}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:64px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:0 24px;border-radius:10px 10px 0 0;background-color:hsla(0,0%,95.3%,.5)}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:20px;font-weight:700;line-height:1.8;color:#14b1bd;margin:0}.popup-wrapper[_ngcontent-%COMP%]   .popup-inner[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]{padding:40px 30px 30px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{width:42px;height:42px;margin-right:6px;border-radius:50%;overflow:hidden}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;object-position:center center}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:700;text-align:left;color:#231e1e;margin-bottom:0}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .basic-info[_ngcontent-%COMP%]{border-bottom:1px dotted #858585;padding-bottom:20px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .basic-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.71;color:#6e6b6b}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .basic-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#231e1e}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .min-engagement-wrap[_ngcontent-%COMP%]{padding-top:20px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .min-engagement-wrap[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.29;color:#231e1e;display:flex;align-items:center;margin-bottom:5px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .min-engagement-wrap[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}.popup-wrapper[_ngcontent-%COMP%]   .popup-main[_ngcontent-%COMP%]   .min-engagement-wrap[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:1.5;color:#858585}"]}),t})();var E=n("RliZ"),T=n("tyNb"),z=n("STbY"),N=n("iadO"),V=n("FKr1"),W=n("1yaQ");let Y=(()=>{class t{constructor(t){this._dateAdapter=t}selectionFinished(t){return this._createFiveDayRange(t)}createPreview(t){return this._createFiveDayRange(t)}_createFiveDayRange(t){if(t){const e=this._dateAdapter.getDayOfWeek(t)-1,n=this._dateAdapter.addCalendarDays(t,-e),o=this._dateAdapter.addCalendarDays(n,6);return new N.a(n,o)}return new N.a(null,null)}}return t.\u0275fac=function(e){return new(e||t)(h.lc(V.a))},t.\u0275prov=h.Xb({token:t,factory:t.\u0275fac}),t})(),G=(()=>{class t extends W.b{getFirstDayOfWeek(){return 1}}return t.\u0275fac=function(e){return K(e||t)},t.\u0275prov=h.Xb({token:t,factory:t.\u0275fac}),t})();const K=h.jc(G),B={parse:{dateInput:"LL"},display:{dateInput:"DD MMM",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let H=(()=>{class t{constructor(t){this.utilService=t,this._emitDateChanged=new h.r}ngOnInit(){if(this.dateRangeConfig)this.dateRangeConfig.startDate.setValue(S(this.dateRangeConfig.startDate.value).toDate()),this.dateRangeConfig.endDate.setValue(S(this.dateRangeConfig.endDate.value).toDate()),S(this.dateRangeConfig.endDate.value).toDate()<S(new Date).startOf("isoWeek").toDate()?this.dateRangeConfig.iSaveAllowed.setValue(!1):this.dateRangeConfig.iSaveAllowed.setValue(!0);else{this.dateRangeConfig={startDate:new s.f(""),endDate:new s.f(""),iSaveAllowed:new s.f("")};const t=S().startOf("isoWeek").toDate(),e=S().endOf("isoWeek").toDate();this.dateRangeConfig.startDate.setValue(t),this.dateRangeConfig.endDate.setValue(e),this.dateRangeConfig.iSaveAllowed.setValue(!0)}}dateChange(t){t.targetElement.classList.contains("mat-start-date")?(this.dateRangeConfig.startDate.setValue(t.value),S(t.value).toDate()<S(new Date).startOf("isoWeek").toDate()?this.dateRangeConfig.iSaveAllowed.setValue(!1):this.dateRangeConfig.iSaveAllowed.setValue(!0)):this.dateRangeConfig.endDate.setValue(t.value),this._emitDateChanged.emit(!0)}updateWeekIncDecreement(t){const e=S(this.dateRangeConfig.startDate.value).startOf("isoWeek").toDate(),n=S(this.dateRangeConfig.endDate.value).endOf("isoWeek").toDate();let o,a;t===d.L.INCREEMENT?(o=S(n).add("day",1).toDate(),a=S(n).add("day",1).endOf("isoWeek").toDate()):t===d.L.DECREEMENT&&(o=S(e).subtract("day",1).startOf("isoWeek").toDate(),a=S(e).subtract("day",1).toDate()),a<S(new Date).startOf("isoWeek").toDate()?this.dateRangeConfig.iSaveAllowed.setValue(!1):this.dateRangeConfig.iSaveAllowed.setValue(!0),this.dateRangeConfig.startDate.setValue(o),this.dateRangeConfig.endDate.setValue(a),this._emitDateChanged.emit(!0)}}return t.\u0275fac=function(e){return new(e||t)(h.bc(p.a))},t.\u0275cmp=h.Vb({type:t,selectors:[["app-weekly-calendar-selector"]],inputs:{dateRangeConfig:"dateRangeConfig"},outputs:{_emitDateChanged:"_emitDateChanged"},features:[h.Ob([{provide:N.b,useClass:Y},{provide:V.a,useClass:G,deps:[V.d,W.a]},{provide:V.c,useValue:B},{provide:V.a,useClass:G}])],decls:7,vars:4,consts:[["appearance","outline"],[3,"rangePicker"],["readonly","","matStartDate","","placeholder","Start date",3,"formControl","click","dateChange"],["readonly","","matEndDate","","placeholder","End date",3,"formControl","click","dateChange"],["matSuffix","",3,"for"],["picker",""]],template:function(t,e){if(1&t){const t=h.ic();h.hc(0,"mat-form-field",0),h.hc(1,"mat-date-range-input",1),h.hc(2,"input",2),h.oc("click",(function(){return h.Qc(t),h.Nc(6).open()}))("dateChange",(function(t){return e.dateChange(t)})),h.gc(),h.hc(3,"input",3),h.oc("click",(function(){return h.Qc(t),h.Nc(6).open()}))("dateChange",(function(t){return e.dateChange(t)})),h.gc(),h.gc(),h.cc(4,"mat-datepicker-toggle",4),h.cc(5,"mat-date-range-picker",null,5),h.gc()}if(2&t){const t=h.Nc(6);h.Pb(1),h.zc("rangePicker",t),h.Pb(1),h.zc("formControl",null==e.dateRangeConfig?null:e.dateRangeConfig.startDate),h.Pb(1),h.zc("formControl",null==e.dateRangeConfig?null:e.dateRangeConfig.endDate),h.Pb(1),h.zc("for",t)}},directives:[b.c,N.c,N.k,s.c,s.r,s.g,N.j,N.h,b.i,N.d],styles:["[_nghost-%COMP%]     .mat-form-field{top:4px}[_nghost-%COMP%]     .mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline:not(.mat-form-field-outline-thick){background-color:#eee}"]}),t})();var J=n("M9IT"),q=n("qy2Q"),Q=n("Qu3c"),U=n("d3UM"),X=n("AgBJ"),Z=n("+xuN");function $(t,e){if(1&t&&(h.hc(0,"span"),h.cd(1),h.tc(2,"customDate"),h.tc(3,"customDate"),h.gc()),2&t){const t=h.sc();h.Pb(1),h.fd(" ",h.vc(2,2,null==t.selectedControl?null:t.selectedControl.value.startTime,"h:mm a")," - ",h.vc(3,5,null==t.selectedControl?null:t.selectedControl.value.endTime,"h:mm a")," ")}}function tt(t,e){if(1&t&&(h.hc(0,"span"),h.cd(1),h.gc()),2&t){const t=h.sc();h.Pb(1),h.ed(" ",null==t.selectedControl?null:t.selectedControl.value.title," ")}}function et(t,e){1&t&&(h.hc(0,"span",9),h.cd(1,"Preferred"),h.gc())}function nt(t,e){if(1&t&&(h.fc(0),h.hc(1,"p",10),h.cd(2),h.tc(3,"customDate"),h.tc(4,"customDate"),h.gc(),h.ec()),2&t){const t=h.sc().$implicit;h.Pb(2),h.fd(" ",h.vc(3,2,null==t?null:t.startTime,"h:mm a")," - ",h.vc(4,5,null==t?null:t.endTime,"h:mm a")," ")}}const ot=function(t){return{"blue-text":t}};function at(t,e){if(1&t&&(h.hc(0,"mat-option",5),h.hc(1,"strong",6),h.hc(2,"p",7),h.cd(3),h.ad(4,et,2,0,"span",8),h.gc(),h.gc(),h.ad(5,nt,5,8,"ng-container",3),h.gc()),2&t){const t=e.$implicit,n=h.sc();h.zc("value",t),h.Pb(2),h.zc("ngClass",h.Ec(5,ot,t.status===n.SCHEDULE_JOB_STATUS.REST)),h.Pb(1),h.ed("",null==t?null:t.title," "),h.Pb(1),h.zc("ngIf",t.isPreferredTimeSlot),h.Pb(1),h.zc("ngIf",t.status!=n.SCHEDULE_JOB_STATUS.REST)}}const it=function(){return["isDisabled"]},rt=function(t){return{"disabled-drop":t}};let st=(()=>{class t{constructor(){this.selectedControl=new s.f(""),this.SCHEDULE_JOB_STATUS=d.E}ngOnInit(){this.selectedControl.setValue(""),this.dropdownConfig&&(this.selectedControl.setValue(this.dropdownConfig.get("control").value),console.log("******",this.dropdownConfig))}compareValues(t,e){return t&&e?t.timeSlotsId===e.timeSlotsId:t===e}optionChanged(t){let e=0;t.value.startTime&&t.value.endTime&&(e=S.duration(S(t.source.value.endTime).diff(S(t.value.startTime))).asHours()),this.dropdownConfig.get("control").setValue(Object.assign(Object.assign({},this.selectedControl.value),{totalHours:e})),console.log("helloooo",this.dropdownConfig)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Vb({type:t,selectors:[["app-select-schedule-dropdown"]],inputs:{dropdownConfig:"dropdownConfig"},decls:8,vars:17,consts:[["appearance","outline"],[3,"ngClass","disabled","compareWith","formControl","selectionChange"],[1,"blue-text"],[4,"ngIf"],["style","min-height: 48px; line-height: normal; height: auto; padding: 10px 20px;",3,"value",4,"ngFor","ngForOf"],[2,"min-height","48px","line-height","normal","height","auto","padding","10px 20px",3,"value"],["mat-line",""],[1,"first-line",3,"ngClass"],["class","status",4,"ngIf"],[1,"status"],["mat-line","",1,"second-line"]],template:function(t,e){1&t&&(h.hc(0,"mat-form-field",0),h.hc(1,"mat-select",1),h.oc("selectionChange",(function(t){return e.optionChanged(t)})),h.tc(2,"getControl"),h.tc(3,"getControl"),h.hc(4,"mat-select-trigger",2),h.ad(5,$,4,8,"span",3),h.ad(6,tt,2,1,"span",3),h.gc(),h.ad(7,at,6,7,"mat-option",4),h.gc(),h.gc()),2&t&&(h.Pb(1),h.zc("ngClass",h.Ec(14,rt,h.vc(2,7,e.dropdownConfig,h.Dc(13,it)).value))("disabled",h.vc(3,10,e.dropdownConfig,h.Dc(16,it)).value)("compareWith",e.compareValues)("formControl",e.selectedControl),h.Pb(4),h.zc("ngIf",e.selectedControl.value.status!=e.SCHEDULE_JOB_STATUS.REST),h.Pb(1),h.zc("ngIf",e.selectedControl.value.status===e.SCHEDULE_JOB_STATUS.REST),h.Pb(1),h.zc("ngForOf",null==e.dropdownConfig?null:e.dropdownConfig.get("list").value))},directives:[b.c,U.a,o.n,s.r,s.g,U.c,o.p,o.o,V.k],pipes:[X.a,Z.a],styles:["[_nghost-%COMP%]     .mat-select-value-text span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     .mat-select-value-text .blue-text{color:#14b1bd}[_nghost-%COMP%]     .mat-select-value-text .first-line{color:#6e6b6b!important}[_nghost-%COMP%]     .mat-select-value-text .second-line{color:#231e1e!important}[_nghost-%COMP%]     .mat-option-text p{margin-bottom:0;font-size:14px;font-weight:500;line-height:1.29;color:#6e6b6b}[_nghost-%COMP%]     .mat-option-text strong p{font-size:14px;font-weight:500;line-height:1.29;margin:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:#231e1e}[_nghost-%COMP%]     .disabled-drop{background-color:#eee;cursor:no-drop!important}.status[_ngcontent-%COMP%]{flex-grow:0;padding:0 10px;border-radius:4px;background-color:#fdf5f7;font-size:11px;font-weight:500;line-height:1.2;color:#ef5279;margin-left:10px}"]}),t})();var ct=n("Pw4Z"),lt=n("BAKl");const dt=["weeklyCalendarRef"],ht=["customTooltip"];function gt(t,e){if(1&t){const t=h.ic();h.hc(0,"button",30),h.oc("click",(function(){h.Qc(t);const n=e.$implicit;return h.sc().selectMenu(n)})),h.hc(1,"span"),h.cd(2),h.gc(),h.gc()}if(2&t){const t=e.$implicit;h.Pb(2),h.dd(null==t?null:t.name)}}function pt(t,e){if(1&t&&(h.hc(0,"span",44),h.cd(1),h.gc()),2&t){const t=h.sc(2);h.Pb(1),h.ed(" ",t.filterCount," ")}}function ut(t,e){if(1&t){const t=h.ic();h.hc(0,"div",31),h.hc(1,"div",32),h.hc(2,"app-common-search",33),h.oc("setSearch",(function(e){return h.Qc(t),h.sc().searchEvent(e)})),h.gc(),h.gc(),h.hc(3,"div",34),h.hc(4,"div",35),h.hc(5,"button",36),h.cc(6,"img",37),h.hc(7,"span",38),h.cd(8),h.gc(),h.cc(9,"img",39),h.gc(),h.gc(),h.hc(10,"button",40),h.oc("click",(function(){return h.Qc(t),h.sc().onFilterHandler()})),h.hc(11,"div",41),h.cc(12,"img",42),h.ad(13,pt,2,1,"span",43),h.gc(),h.cd(14," Filter "),h.gc(),h.gc(),h.gc()}if(2&t){const t=h.sc(),e=h.Nc(11);h.Pb(2),h.zc("placeholder","Search by employee name & job id"),h.Pb(3),h.zc("matMenuTriggerFor",e),h.Pb(3),h.ed(" ",t.sorting," "),h.Pb(5),h.zc("ngIf",t.filterCount)}}function ft(t,e){if(1&t&&(h.hc(0,"th",49),h.cd(1),h.tc(2,"customDate"),h.tc(3,"customDate"),h.gc()),2&t){const t=e.$implicit,n=h.sc(2);h.Pb(1),h.fd(" ",h.vc(2,2,t,"d MMM")," (",h.vc(3,5,t,n.customDateFormats.DAY_OF_MONTH),") ")}}function mt(t,e){1&t&&h.cc(0,"span",62),2&t&&h.zc("matTooltip","Action pending")}function bt(t,e){if(1&t){const t=h.ic();h.hc(0,"img",63),h.oc("click",(function(){h.Qc(t);const e=h.sc().index;return h.sc(2).editSchedule(e)})),h.gc()}}function _t(t,e){if(1&t){const t=h.ic();h.hc(0,"img",64),h.oc("click",(function(){h.Qc(t);const e=h.sc().index;return h.sc(2).editSchedule(e)})),h.gc()}}function Ot(t,e){if(1&t){const t=h.ic();h.hc(0,"img",65),h.oc("click",(function(){h.Qc(t);const e=h.sc().index;return h.sc(2).cancelAction(e)})),h.gc()}}function Ct(t,e){1&t&&(h.fc(0),h.hc(1,"div",69),h.hc(2,"p"),h.cd(3,"Shift declined"),h.gc(),h.gc(),h.ec())}const wt=function(t,e){return["scheduleInfoArray",t,"shiftData",e]};function xt(t,e){if(1&t&&(h.cc(0,"app-select-schedule-dropdown",70),h.tc(1,"getControl")),2&t){const t=h.sc(2).index,e=h.sc().index,n=h.sc(2);h.zc("dropdownConfig",h.vc(1,1,n.scheduleGroup,h.Fc(4,wt,e,t)))}}const Mt=function(t,e){return["scheduleInfoArray",t,"shiftData",e,"control"]},Pt=function(t){return["scheduleInfoArray",t,"isActionedByUser"]};function vt(t,e){if(1&t&&(h.fc(0),h.ad(1,Ct,4,0,"ng-container",66),h.tc(2,"getControl"),h.tc(3,"getControl"),h.ad(4,xt,2,7,"ng-template",null,68,h.bd),h.ec()),2&t){const t=h.Nc(5),e=h.sc().index,n=h.sc().index,o=h.sc(2);h.Pb(1),h.zc("ngIf",!1===h.vc(2,2,o.scheduleGroup,h.Fc(8,Mt,n,e)).value.isApprovedByWorker&&h.vc(3,5,o.scheduleGroup,h.Ec(11,Pt,n)).value)("ngIfElse",t)}}function yt(t,e){1&t&&(h.hc(0,"div",71),h.hc(1,"p"),h.cd(2,"No shift"),h.gc(),h.gc())}function St(t,e){if(1&t&&(h.fc(0),h.hc(1,"td"),h.ad(2,vt,6,13,"ng-container",66),h.tc(3,"getControl"),h.ad(4,yt,3,0,"ng-template",null,67,h.bd),h.gc(),h.ec()),2&t){const t=e.index,n=h.Nc(5),o=h.sc().index,a=h.sc(2);h.Pb(2),h.zc("ngIf",h.vc(3,2,a.scheduleGroup,h.Fc(5,Mt,o,t)).value.status!=a.scheduleJobStatus.NON_WORKING)("ngIfElse",n)}}const Dt=function(t){return["scheduleInfoArray",t,"applicant","fullName"]},jt=function(t){return["scheduleInfoArray",t,"isEdit"]},kt=function(t){return["scheduleInfoArray",t,"isSave"]};function It(t,e){if(1&t){const t=h.ic();h.hc(0,"tr"),h.hc(1,"td"),h.hc(2,"div",50),h.hc(3,"div",51),h.hc(4,"a",52),h.ad(5,mt,1,1,"span",53),h.tc(6,"getControl"),h.tc(7,"getControl"),h.cd(8),h.tc(9,"getControl"),h.tc(10,"getControl"),h.tc(11,"checkNull"),h.tc(12,"getControl"),h.gc(),h.hc(13,"img",54),h.oc("click",(function(){h.Qc(t);const n=e.index;return h.sc(2).openScheduleInfo(n)})),h.gc(),h.ad(14,bt,1,0,"img",55),h.tc(15,"getControl"),h.ad(16,_t,1,0,"img",56),h.tc(17,"getControl"),h.ad(18,Ot,1,0,"img",57),h.tc(19,"getControl"),h.gc(),h.gc(),h.hc(20,"div",58),h.hc(21,"div",59),h.cc(22,"img",60),h.hc(23,"span"),h.cd(24),h.gc(),h.gc(),h.hc(25,"div",59),h.cc(26,"img",61),h.hc(27,"span"),h.cd(28),h.gc(),h.gc(),h.gc(),h.gc(),h.ad(29,St,6,8,"ng-container",48),h.gc()}if(2&t){const t=e.index,o=h.sc(2);var n;h.Pb(5),h.zc("ngIf",!h.vc(6,9,o.scheduleGroup,h.Ec(35,Pt,t)).value&&""!==h.vc(7,12,o.scheduleGroup,h.Ec(37,Pt,t)).value),h.Pb(3),h.ed(" ",h.vc(9,15,o.scheduleGroup,h.Ec(39,Dt,t)).value&&"deleted"!=h.vc(10,18,o.scheduleGroup,h.Ec(41,Dt,t)).value?h.uc(11,21,h.vc(12,23,o.scheduleGroup,h.Ec(43,Dt,t)).value):"This user does not exist"," "),h.Pb(6),h.zc("ngIf",h.vc(15,26,o.scheduleGroup,h.Ec(45,jt,t)).value),h.Pb(2),h.zc("ngIf",h.vc(17,29,o.scheduleGroup,h.Ec(47,kt,t)).value),h.Pb(2),h.zc("ngIf",h.vc(19,32,o.scheduleGroup,h.Ec(49,kt,t)).value),h.Pb(6),h.fd("",null==o.scheduleList[t]||null==o.scheduleList[t].job||null==o.scheduleList[t].job.jobRole?null:o.scheduleList[t].job.jobRole.name,"- ",null==o.scheduleList[t]||null==o.scheduleList[t].job||null==o.scheduleList[t].job.jobRole||null==o.scheduleList[t].job.jobRole.jobCategory?null:o.scheduleList[t].job.jobRole.jobCategory.name,""),h.Pb(4),h.ed(" ",null==o.scheduleList[t]||null==o.scheduleList[t].job||null==o.scheduleList[t].job.jobSite[0]||null==o.scheduleList[t].job.jobSite[0].address?null:o.scheduleList[t].job.jobSite[0].address.title," "),h.Pb(1),h.zc("ngForOf",null==(n=o.scheduleGroup.get("scheduleInfoArray").at(t).get("shiftData"))?null:n.controls)}}function Lt(t,e){if(1&t&&(h.hc(0,"table",45),h.hc(1,"thead"),h.hc(2,"th",46),h.cd(3,"Worker name"),h.gc(),h.ad(4,ft,4,8,"th",47),h.gc(),h.hc(5,"tbody"),h.ad(6,It,30,51,"tr",48),h.gc(),h.gc()),2&t){const t=h.sc();h.Pb(4),h.zc("ngForOf",t.currentWeekDatArray),h.Pb(2),h.zc("ngForOf",t.scheduleFormArray.controls)}}function At(t,e){1&t&&(h.hc(0,"div",72),h.cc(1,"app-no-record",73),h.gc()),2&t&&(h.Pb(1),h.zc("message","No Schedules Or Shifts To Show For This Time Frame."))}function Ft(t,e){if(1&t&&(h.hc(0,"span"),h.cd(1),h.gc()),2&t){const t=h.sc();h.Pb(1),h.fd(" Showing ",t.scheduleList.length," from ",t.total," schedules ")}}const Rt=function(t){return{"disable-btn":t}};let Et=(()=>{class t extends v.a{constructor(t,e,n,o,a,r,c){super(),this.scheduleService=t,this.dialog=e,this.activatedRoute=n,this.utilService=o,this.router=a,this.formBuilder=r,this.location=c,this.displayedColumns=["name","day-first","day-second","day-third","day-fourth","day-fifth","day-sixth","day-sixth","day-seventh"],this.sorting="Sort by",this.shiftMatMenu=i.x,this.searchList=new s.f,this.filterObject={page:1,limit:10},this.sub=new C.a,this.dataSource=new x.k([]),this.scheduleList=[],this.firstTimeLoading=!0,this.filterCount=0,this.scheduleJobStatus=d.E,this.isImport=!1,this.editable=2,this.nullifyError=!1,this.customDateFormats=d.j,this.deleteImportId=!1,this.pageOptions=[10],this.currentQueryParams=this.removeEditable(this.activatedRoute.snapshot.queryParams)}ngOnInit(){this.createSchema(),this.createSearchSortFilter(),this.searchSortFilter.patchValue(this.currentQueryParams),this.isImport=!1,this.listenQueryParamChanges(),this.createScheduleGroup()}get scheduleFormArray(){return this.scheduleGroup.get("scheduleInfoArray")}createSearchSortFilter(){return this.searchSortFilter=this.formBuilder.group({search:[""],workerId:[""],editable:[""],status:[""],jobSite:[""],jobRole:[""],fromDate:[""],toDate:[""],[i.u]:[""],[i.q]:[""],sortKey:[""],sortOrder:[""]})}createSchema(){this.filterSchema=M.object({search:M.optional(),workerId:M.optional(),editable:M.optional(),status:M.optional(),jobSite:M.optional(),jobRole:M.optional(),fromDate:M.optional(),toDate:M.optional(),[i.u]:M.number().min(1).required(),[i.q]:M.number(),sortKey:M.optional(),sortOrder:M.optional()})}createScheduleGroup(){this.scheduleGroup=this.formBuilder.group({scheduleInfoArray:this.formBuilder.array([])})}listenQueryParamChanges(){this.sub.add(this.activatedRoute.queryParams.pipe(Object(P.a)(t=>this.validateFilters(Object.assign({},t)))).subscribe(t=>{t&&(this.isImport?this.importScheduleData([...t.data.result]):(this.pageConfig={total:t.data.total,currentPage:t.data.page,pageSize:10,isNext:t.data.next},this.utilService.clearFormArray(this.scheduleFormArray),this.scheduleList=[],this.scheduleList=[...t.data.result],console.log(this.scheduleList),this.total=t.data.total,this.assignScheduleData(),1==this.editable&&this.scheduleList.forEach((t,e)=>{this.editSchedule(e)})),this.sorting=""!=this.searchSortFilter.value.sortKey&&i.x.find(t=>t.sortKey==this.searchSortFilter.value.sortKey)?i.x.find(t=>t.sortKey==this.searchSortFilter.value.sortKey).name:"Sort By")}))}searchEvent(t){this.searchSortFilter.get("search").setValue(t),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utilService.formatMomentData(l.a.parse(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value)))})}listenFormValueChanges(t){const e=Object.assign(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value),{editable:this.editable});console.log(this.filterObject),this.isImport=!1,this.deleteImportId=!1,this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utilService.formatMomentData(l.a.parse(Object.assign({},e)))})}validateFilters(t){return this.removeEditable(this.activatedRoute.snapshot.queryParams).workerId?this.workerId=this.removeEditable(this.activatedRoute.snapshot.queryParams).workerId:(this.workerId="",this.searchSortFilter.controls.workerId.patchValue("")),this.filterObject=this.removeEditable(this.activatedRoute.snapshot.queryParams),this.firstTimeLoading||this.filterObject?new w.a(e=>{try{M.validate(this.removeEditable(t),this.filterSchema,(t,n)=>{if(t)throw t;this.filterObject=Object.assign(Object.assign({},this.filterObject),n),this.dateRangeConfig={startDate:this.searchSortFilter.get("fromDate"),endDate:this.searchSortFilter.get("toDate"),iSaveAllowed:new s.f(!0)},this.searchSortFilter.patchValue(this.filterObject),this.firstTimeLoading=!1,this.filterCount=Object.keys(this.filterObject).length-4,this.filterObject.sortKey&&(this.filterCount=this.filterCount-2),this.getScheuleShift().subscribe(t=>{this.firstTimeLoading=!1,e.next(t),e.complete()},t=>{console.error("eroror",t),this.firstTimeLoading=!1,e.error(t),e.complete()})})}catch(n){console.error("erorror",n),this.filterObject=Object.assign(Object.assign({},Object(i.v)(10)),this.utilService.getISOStartAndEndOfWeek()),this.router.navigate([y.SCHEDULE_SIFT.fullUrl],{queryParams:this.utilService.formatMomentData(l.a.parse(Object.assign({},this.filterObject)))})}}):this.getScheuleShift(!0)}allQueryParams(t={}){return this.utilService.formatMomentData(l.a.parse(Object.assign(Object.assign(Object.assign({},t),this.filterObject),this.pageParams)))}getScheuleShift(t=!1){return this.scheduleService.scheduleShiftListing(this.allQueryParams(t?this.searchSortFilter.value:{}),this.isImport)}changePage(t){if(this.pageOptionsOnChange=t,0===this.total)return;this.filterObject=Object.assign(Object.assign({},this.filterObject),{page:t.pageIndex+1,limit:t.pageSize});const{fromDate:e,toDate:n}=this.searchSortFilter.value;this.searchSortFilter.patchValue(Object.assign(Object.assign(Object.assign({},this.searchSortFilter.value),this.filterObject),{fromDate:e.toISOString(),toDate:n.toISOString()}));const o=Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value);this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utilService.formatMomentData(l.a.parse(Object.assign({},o))),queryParamsHandling:"merge"})}ngOnDestroy(){this.sub.unsubscribe(),this.utilService.clearSessionStorage(i.z.JOB_FILTER_JOB_AREA),this.utilService.clearSessionStorage(i.z.JOB_ROLE_FILTER)}selectMenu(t){const{sortKey:e,sortOrder:n}=t;this.sorting=t.name,this.searchSortFilter.patchValue(Object.assign(Object.assign({},this.searchSortFilter.value),{sortOrder:n,sortKey:e})),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utilService.formatMomentData(l.a.parse(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value)))})}onFilterHandler(){this.dialog.open(O,{width:"464px",panelClass:"custom_filter",height:"100vh",disableClose:!0,autoFocus:!1,data:this.filterObject&&Object.keys(this.filterObject).length>0?Object.assign({},this.filterObject):{}}).afterClosed().subscribe((t={})=>{const e=Object.assign({},this.searchSortFilter.value),{fromDate:n,toDate:o}=e;t.type!==d.n.DISMISS&&(t&&t.type===d.n.APPLY?(this.filterCount=Object.keys(t.data).length,this.filterObject=Object.assign(Object.assign(Object.assign({},Object(i.v)(10)),t.data),{fromDate:n,toDate:o}),this.searchSortFilter.patchValue(Object.assign({},t.data)),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utilService.formatMomentData(l.a.parse(Object.assign({},this.filterObject)))})):(this.filterCount=0,this.searchSortFilter.reset(),this.filterObject=Object.assign({},Object(i.v)(10)),this.searchSortFilter.patchValue(Object.assign(Object.assign({},this.filterObject),{fromDate:n,toDate:o})),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.utilService.formatMomentData(l.a.parse(Object.assign(Object.assign({},this.filterObject),{fromDate:n,toDate:o})))})))})}openScheduleInfo(t){var e;const n=this.scheduleFormArray.at(t).value;this.dialog.open(R,{width:"400px",disableClose:!0,autoFocus:!1,data:Object.assign(Object.assign({},n),{job:null===(e=this.scheduleList[t])||void 0===e?void 0:e.job})})}nextWeek(){this.weeklyCalendarRef.updateWeekIncDecreement(d.L.INCREEMENT)}backWeek(){this.weeklyCalendarRef.updateWeekIncDecreement(d.L.DECREEMENT)}assignScheduleData(){var t,e,n,o,a;for(let i=0;i<this.scheduleList.length;i++){const r=this.scheduleService.createScheduleGroup(),{fromDate:s,toDate:c}=this.searchSortFilter.value,l=this.utilService.formatMomentData({fromDate:s,toDate:c}),h=this.scheduleList[i],g=h.applyStatus[h.applyStatus.length-1],p={userId:h.applicant._id,employerId:h.job.user._id,applyJobId:h._id,startOfWeek:l.fromDate,endOfWeek:S(l.toDate).endOf("day").toISOString(),fullName:h.applicant.fullName,profileImage:h.applicant.profilePic,jobId:h.job.jobId,employee_id:h.employee_id,placement_id:h.placement_id,email:h.applicant.email},u=h.job.timeline;r.get("applicant").patchValue(Object.assign({},p)),console.log(r.value),r.get("timeline").patchValue(Object.assign({},u)),r.get("jobRole").patchValue(Object.assign({},h.job.jobRole)),r.get("isActionedByUser").setValue(!!(h.shiftData&&h.shiftData.shift&&h.shiftData.isActionedByUser)||(h.shiftData&&h.shiftData.shift?h.shiftData.isActionedByUser:"")),h.shiftData&&h.shiftData.shift.length?r.get("isImport").setValue(!1):r.get("isImport").setValue(!0),r.get("workingHours").patchValue(Object.assign({},h.job.workingHours));const f=h.preferredJobSite.timeSlots;for(let t=0;t<f.length;t++){const e=this.scheduleService.createSingleTimeslotGroup();e.patchValue(Object.assign({},f[t])),r.get("timeSlots").push(e)}if(this.currentWeekDatArray=this.utilService.getDates(this.searchSortFilter.value.fromDate,this.searchSortFilter.value.toDate),h.shiftData&&h.shiftData.shift.length){const a=h.shiftData.shift;for(let i=0;i<this.currentWeekDatArray.length;i++){const s=this.scheduleService.createShiftDataForm(),c=a.find(t=>S(t.shiftDate).toString()===S(this.currentWeekDatArray[i]).startOf("day").toString());c?(console.log("isShiftItemPresent",c),r.get("isEdit").setValue(null===(t=this.dateRangeConfig)||void 0===t?void 0:t.iSaveAllowed.value),this.checkDate(h.job.timeline.endDate)&&(r.get("isEdit").setValue(!1),console.log(r)),r.get("shiftId").setValue(h.shiftData.shiftId),s.patchValue({control:Object.assign(Object.assign({},c),c.status===d.E.REST?{_id:"NA",timeSlotsId:"NA",additionalAllowance:null===(e=h.preferredTimeSlot.additionalAllowance)||void 0===e?void 0:e.salary}:{isPreferredTimeSlot:h.preferredTimeSlot._id===c.timeSlotsId,additionalAllowance:null===(n=h.preferredTimeSlot.additionalAllowance)||void 0===n?void 0:n.salary}),list:[...h.preferredJobSite.timeSlots.map(t=>{var e;return Object.assign(Object.assign({},t),{timeSlotsId:t._id,_id:c._id,isPreferredTimeSlot:h.preferredTimeSlot._id===t._id,status:S(this.currentWeekDatArray[i])<S(u.startDate)||S(this.currentWeekDatArray[i])>S(u.endDate)?d.E.NON_WORKING:d.E.WORKING,shiftDate:S(this.currentWeekDatArray[i]).startOf("day").toISOString(),additionalAllowance:null===(e=t.additionalAllowance)||void 0===e?void 0:e.salary})}),{_id:"NA",status:d.E.REST,title:"Off day",shiftDate:S(this.currentWeekDatArray[i]).startOf("day").toISOString(),timeSlotsId:"NA",additionalAllowance:0}],isDisabled:!0})):s.patchValue({control:Object.assign(Object.assign({},{startTime:h.preferredTimeSlot.startTime,endTime:h.preferredTimeSlot.endTime,title:h.preferredTimeSlot.title}),{timeSlotsId:h.preferredTimeSlot._id,isPreferredTimeSlot:!0,totalHours:S(this.currentWeekDatArray[i])<=S(new Date)?0:this.utilService.getTotalHours(h.preferredTimeSlot),status:S(this.currentWeekDatArray[i])<S(u.startDate)||S(this.currentWeekDatArray[i])>S(u.endDate)?d.E.NON_WORKING:d.E.WORKING,shiftDate:S(this.currentWeekDatArray[i]).startOf("day").toISOString(),additionalAllowance:null===(o=h.preferredTimeSlot.additionalAllowance)||void 0===o?void 0:o.salary}),list:[...h.preferredJobSite.timeSlots.map(t=>{var e;return Object.assign(Object.assign({},t),{timeSlotsId:t._id,isPreferredTimeSlot:h.preferredTimeSlot._id===t._id,status:S(this.currentWeekDatArray[i])<S(u.startDate)||S(this.currentWeekDatArray[i])>S(u.endDate)?d.E.NON_WORKING:d.E.WORKING,shiftDate:S(this.currentWeekDatArray[i]).startOf("day").toISOString(),additionalAllowance:null===(e=t.additionalAllowance)||void 0===e?void 0:e.salary})}),{_id:"NA",status:d.E.REST,title:"Off day",shiftDate:S(this.currentWeekDatArray[i]).startOf("day").toISOString(),timeSlotsId:"NA",additionalAllowance:0}],isDisabled:S(this.currentWeekDatArray[i]).format("MM/DD/YYYY")<=S(new Date).format("MM/DD/YYYY")}),r.get("shiftData").push(s)}}else for(let t=0;t<this.currentWeekDatArray.length;t++){const e=this.scheduleService.createShiftDataForm();e.patchValue({control:Object.assign(Object.assign({},{startTime:h.preferredTimeSlot.startTime,endTime:h.preferredTimeSlot.endTime,title:h.preferredTimeSlot.title}),{timeSlotsId:h.preferredTimeSlot._id,isPreferredTimeSlot:!0,totalHours:S(this.currentWeekDatArray[t])<=S(new Date)?0:this.utilService.getTotalHours(h.preferredTimeSlot),status:g.action===d.d.CONTRACT_SIGNED?S(this.currentWeekDatArray[t])<S(h.contractStartAt).startOf("day")||S(this.currentWeekDatArray[t])<S(u.startDate).startOf("day")||S(this.currentWeekDatArray[t])>S(u.endDate).startOf("day")?d.E.NON_WORKING:d.E.WORKING:d.E.NON_WORKING,shiftDate:S(this.currentWeekDatArray[t]).startOf("day").toISOString(),additionalAllowance:null===(a=h.preferredTimeSlot.additionalAllowance)||void 0===a?void 0:a.salary}),list:[...h.preferredJobSite.timeSlots.map(e=>{var n;return Object.assign(Object.assign({},e),{timeSlotsId:e._id,isPreferredTimeSlot:h.preferredTimeSlot._id===e._id,status:S(this.currentWeekDatArray[t])<S(u.startDate)||S(this.currentWeekDatArray[t])>S(u.endDate)?d.E.NON_WORKING:d.E.WORKING,shiftDate:S(this.currentWeekDatArray[t]).startOf("day").toISOString(),additionalAllowance:null===(n=e.additionalAllowance)||void 0===n?void 0:n.salary})}),{_id:"NA",status:d.E.REST,title:"Off day",shiftDate:S(this.currentWeekDatArray[t]).startOf("day").toISOString(),timeSlotsId:"NA",additionalAllowance:0}],isDisabled:S(this.currentWeekDatArray[t]).format("MM/DD/YYYY")<=S(new Date).format("MM/DD/YYYY")}),r.get("shiftData").push(e)}this.scheduleFormArray.push(r)}}importScheduleData(t){const e=[...this.scheduleFormArray.value],n=[...t];for(let o=0;o<n.length;o++){const t=n[o],a=e.findIndex(e=>e.applicant.userId===t.applicant._id&&e.isImport);if(a>=0){const n=t.shiftData.shift;for(let t=0;t<n.length;t++){const o=this.scheduleService.createShiftDataForm();o.patchValue(Object.assign(Object.assign({},e[a].shiftData[t]),{control:Object.assign(Object.assign({},n[t]),{shiftDate:e[a].shiftData[t].control.shiftDate,_id:n[t].status===d.E.REST?"NA":n[t]._id,timeSlotsId:n[t].status===d.E.REST?"NA":n[t].timeSlotsId,status:S(e[a].shiftData[t].control.shiftDate)>S(e[a].timeline.endDate)?d.E.NON_WORKING:n[t].status===d.E.NON_WORKING?d.E.WORKING:n[t].status})})),this.scheduleFormArray.at(a).get("shiftData").removeAt(t),this.scheduleFormArray.at(a).get("shiftData").insert(t,o)}}}}importLastWeek(){return Object(a.a)(this,void 0,void 0,(function*(){try{if(![...this.scheduleFormArray.value].length)return void this.utilService.showAlert("There are no user to import data!");this.filterObject=Object.assign({},Object(i.v)(10));const t=this.utilService.formatMomentData(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value));this.isImport=!0;const e=yield this.scheduleService.scheduleShiftListing(t,this.isImport).toPromise();e.data.result&&e.data.result.length?(this.utilService.showAlert("Data imported successfully"),this.importScheduleData([...e.data.result]),this.deleteImportId=!0):this.utilService.showAlert("No data available to import!"),this.isImport=!1}catch(t){this.isImport=!1}}))}cancelAction(t){const e=Object.assign({},this.scheduleFormArray.at(t).value);this.utilService.clearFormArray(this.scheduleFormArray.at(t).get("shiftData"));const n=e.shiftData;for(let o=0;o<n.length;o++){const e=n[o],a=this.scheduleService.createShiftDataForm();a.patchValue(Object.assign(Object.assign({},e),{isDisabled:!0})),this.scheduleFormArray.at(t).get("shiftData").push(a)}this.scheduleFormArray.at(t).get("isImport").setValue(!0),this.scheduleFormArray.at(t).get("isSave").setValue(!e.isSave),this.scheduleFormArray.at(t).get("isEdit").setValue(!e.isEdit)}editSchedule(t){try{const e=Object.assign({},this.scheduleFormArray.at(t).value);if(console.log(e),e.isEdit){this.utilService.clearFormArray(this.scheduleFormArray.at(t).get("shiftData"));const n=e.shiftData;for(let e=0;e<n.length;e++){const o=n[e],a=this.scheduleService.createShiftDataForm();a.patchValue(Object.assign(Object.assign({},o),{isDisabled:S(o.control.shiftDate)<=S(new Date)})),this.scheduleFormArray.at(t).get("shiftData").push(a)}this.scheduleFormArray.at(t).get("isImport").setValue(!0),this.scheduleFormArray.at(t).get("isSave").setValue(!e.isSave),this.scheduleFormArray.at(t).get("isEdit").setValue(!e.isEdit)}e.isSave&&(this.saveSchedule(!0,e,t),this.scheduleFormArray.at(t).get("isImport").setValue(!1))}catch(e){console.error("erororororr",e)}}singleScheduleSave(t){let e;return""===(t=Object.assign(Object.assign({},t.applicant),{workingHours:t.workingHours,shift:t.shiftData.map(t=>(delete t.control.isPreferredTimeSlot,this.deleteImportId&&delete t.control._id,t.control.status===d.E.REST&&"NA"===t.control._id&&(delete t.control._id,delete t.control.timeSlotsId),t.control.shift_date=S(t.control.shiftDate).format("MM/DD/YYYY"),t.control.isApprovedByWorker=!(S(t.control.shiftDate).format("MM/DD/YYYY")>S().format("MM/DD/YYYY"))&&!!t.control.isApprovedByWorker&&t.control.isApprovedByWorker,Object.assign({},t.control))),totalShiftHours:t.shiftData.reduce((t,e)=>t+e.control.totalHours,0),totalWorkingDays:t.shiftData.reduce((t,e)=>e.control.status===d.E.WORKING?t+1:t,0),timeline:t.timeline,shiftId:t.shiftId})).shiftId&&delete t.shiftId,delete t.profileImage,e=[Object.assign({},t)],e}saveSchedule(t=!1,e,n=0,o=!1){return Object(a.a)(this,void 0,void 0,(function*(){let a;try{let n={title:E.d.confrim,message:E.d.scheduleConfirm,cancelButtonText:E.d.cancel,hideConfirmButton:!0};if(o)a=this.savedFormData.map(t=>Object.assign(Object.assign({},t),{nullifyError:o})),yield this.scheduleService.addScheule([...a]),this.utilService.showAlert("Schedule sent successfully !"),this.deleteImportId=!1,this.nullifyError=!1,this.deleteImportId=!1,yield this.resettIngSchedule();else{if(!(yield this.utilService.openDialog(n).toPromise()))throw{type:d.k.RETURN_STATE};if(console.log("where is bug",e,...this.scheduleFormArray.value),t)a=this.singleScheduleSave(e);else{let t=[...this.scheduleFormArray.value];const e=t=>t.isEdit;if(t.every(t=>e(t)))return void this.utilService.showAlert("All schedule data is already in saved mode !");t=t.filter(t=>!t.isEdit),a=t.map(t=>{let e=Object.assign(Object.assign({},t.applicant),{workingHours:t.workingHours,shift:t.shiftData.map(t=>(delete t.control.isPreferredTimeSlot,this.deleteImportId&&delete t.control._id,t.control.status===d.E.REST&&"NA"===t.control._id&&(delete t.control._id,delete t.control.timeSlotsId),t.control.shift_date=S(t.control.shiftDate).format("MM/DD/YYYY"),t.control.isApprovedByWorker=!(S(t.control.shiftDate).format("MM/DD/YYYY")>S().format("MM/DD/YYYY"))&&!!t.control.isApprovedByWorker&&t.control.isApprovedByWorker,Object.assign({},t.control))),totalShiftHours:t.shiftData.reduce((t,e)=>t+e.control.totalHours,0),totalWorkingDays:t.shiftData.reduce((t,e)=>e.control.status===d.E.WORKING?t+1:t,0),timeline:t.timeline});return delete e.profileImage,""!=t.shiftId&&(e=Object.assign(Object.assign({},e),{shiftId:t.shiftId})),e})}if(!a||!a.length)return;a=a.map(t=>Object.assign(Object.assign({},t),{nullifyError:o})),console.log("waoaoaoa",a),console.log("waooaoaaoa",a),yield this.scheduleService.addScheule([...a]),this.utilService.showAlert("Schedule sent successfully !"),this.deleteImportId=!1,this.nullifyError=!1,this.deleteImportId=!1,yield this.resettIngSchedule()}}catch(i){console.error(i),i&&i.type===d.k.RETURN_STATE&&(this.reverseSaveAction(n),this.deleteImportId=!1),i&&i instanceof D.d&&i.error.statusCode===d.k.CUSTOM_MESSAGE_ERROR&&this.openWarningBeforeSave(i,{singleEdit:t,singleFormIndex:n,singleFormEdit:e,formData:a})}}))}reverseSaveAction(t){const e=Object.assign({},this.scheduleFormArray.at(t).value);this.utilService.clearFormArray(this.scheduleFormArray.at(t).get("shiftData"));const n=e.shiftData;for(let o=0;o<n.length;o++){const e=n[o],a=this.scheduleService.createShiftDataForm();a.patchValue(Object.assign(Object.assign({},e),{isDisabled:e.isDisabled})),this.scheduleFormArray.at(t).get("shiftData").push(a)}this.scheduleFormArray.at(t).get("isImport").setValue(e.isImport),this.scheduleFormArray.at(t).get("isEdit").setValue(e.isEdit),this.scheduleFormArray.at(t).get("isSave").setValue(e.isSave)}openWarningBeforeSave(t,{singleFormEdit:e,singleEdit:n,singleFormIndex:o,formData:a}){this.dialog.open(L,{width:"600px",data:t.error.data,disableClose:!0,autoFocus:!1}).afterClosed().subscribe(t=>{t&&t===d.k.CONTINUE?(this.nullifyError=!0,this.savedFormData=a,this.saveSchedule(n,e,o,!0)):this.reverseSaveAction(o)})}resettIngSchedule(){return Object(a.a)(this,void 0,void 0,(function*(){try{const t=this.utilService.formatMomentData(l.a.parse(Object.assign(Object.assign({},this.filterObject),this.searchSortFilter.value))),e=yield this.scheduleService.scheduleShiftListing(t).toPromise();e.data&&(this.pageConfig={total:e.data.total,currentPage:e.data.page,pageSize:10,isNext:e.data.next},this.utilService.clearFormArray(this.scheduleFormArray),this.scheduleList=[],this.scheduleList=[...e.data.result],this.total=e.data.total,this.assignScheduleData())}catch(t){this.utilService.showAlert("Error in fetching data ! Try reloading!")}}))}removeEditable(t){let e={};this.editable=t.editable?t.editable:2;for(let n in t)"editable"!=n&&(e[n]=t[n]);return e}checkDate(t){return console.log(S(t).isAfter(S(),"day")),!S(t).isAfter(S(),"day")}}return t.\u0275fac=function(e){return new(e||t)(h.bc(f),h.bc(c.b),h.bc(T.a),h.bc(p.a),h.bc(T.f),h.bc(s.e),h.bc(o.l))},t.\u0275cmp=h.Vb({type:t,selectors:[["app-schedule-shift"]],viewQuery:function(t,e){var n;1&t&&(h.hd(dt,!0),h.hd(ht,!0)),2&t&&(h.Mc(n=h.pc())&&(e.weeklyCalendarRef=n.first),h.Mc(n=h.pc())&&(e.customTooltip=n.first))},features:[h.Mb],decls:46,vars:19,consts:[[1,"page_main_wrapper"],[1,"breadcrumbs"],[1,"page-title"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"filter_row"],[1,"date-selector"],["type","button",3,"click"],["src","assets/images/arrow-left.svg","alt","Back Icon"],[1,"calendar-wrap"],[1,"left-calendar"],[1,"right-calendar"],[3,"dateRangeConfig","_emitDateChanged"],["weeklyCalendarRef",""],["src","assets/images/arrow-left.svg","alt","Next Icon",1,"next-icon"],["class","right-col-wrap",4,"ngIf"],[1,"schedule-shift-wrapper"],[1,"cstm_table_wrapper",3,"formGroup"],[1,"top-header"],["type","button",1,"download-btn",3,"disabled","ngClass","click"],[1,"download-icon"],["type","button",1,"primary-btn","save-btn",3,"disabled","click"],[1,"table-scroll"],["formArrayName","scheduleInfoArray","summary","shift schedule table",4,"ngIf"],["class","col-sm-12",4,"ngIf"],[1,"job_list_paginator_wrapper"],[1,"data_count_wrapper"],[4,"ngIf"],[1,"list_paginator_wrapper"],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["mat-menu-item","",3,"click"],[1,"right-col-wrap"],[1,"left_col"],[1,"app-common-search",3,"placeholder","setSearch"],[1,"right_col"],[1,"sort_by_wrapper"],["mat-button","",1,"sortby_btn",3,"matMenuTriggerFor"],["src","assets/images/Sort.svg","alt",""],[1,"selected_value"],["src","assets/images/Arrow_Bottom.svg","alt",""],[1,"filter_btn",3,"click"],[2,"position","relative"],["src","assets/images/Filter.svg","alt",""],["class","applied_icon",4,"ngIf"],[1,"applied_icon"],["formArrayName","scheduleInfoArray","summary","shift schedule table"],["scope","worker name"],["scope","current week date",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","current week date"],[1,"worker-info"],[1,"ic-wrap"],[1,"name"],["class","bubble",3,"matTooltip",4,"ngIf"],["src","assets/icons/ic-info-blue.svg","alt","Info Icon",1,"info_icon",3,"click"],["src","assets/images/edit.svg","alt","edit",3,"click",4,"ngIf"],["src","assets/images/Save_Blue color.svg","alt","edit",3,"click",4,"ngIf"],["src","assets/images/close.svg","alt","edit",3,"click",4,"ngIf"],[1,"job-type-location-wrap"],[1,"info-wrap"],["src","assets/images/AddJob_black.svg","alt","Icon"],["src","assets/icons/Location.svg","alt","Icon"],[1,"bubble",3,"matTooltip"],["src","assets/images/edit.svg","alt","edit",3,"click"],["src","assets/images/Save_Blue color.svg","alt","edit",3,"click"],["src","assets/images/close.svg","alt","edit",3,"click"],[4,"ngIf","ngIfElse"],["noShiftTemplate",""],["dropTemplate",""],[1,"grey-dropdown","leave"],[1,"app-select-schedule-dropdown",3,"dropdownConfig"],[1,"grey-dropdown","shift"],[1,"col-sm-12"],[3,"message"]],template:function(t,e){1&t&&(h.hc(0,"div",0),h.hc(1,"div",1),h.hc(2,"ul"),h.hc(3,"li"),h.hc(4,"a"),h.cd(5,"Staffing "),h.gc(),h.gc(),h.hc(6,"li"),h.cd(7,"Schedule shift"),h.gc(),h.gc(),h.hc(8,"h3",2),h.cd(9,"Schedule Shift"),h.gc(),h.gc(),h.hc(10,"mat-menu",null,3),h.ad(12,gt,3,1,"button",4),h.gc(),h.fc(13),h.hc(14,"div",5),h.hc(15,"div",6),h.hc(16,"a",7),h.oc("click",(function(){return e.backWeek()})),h.cc(17,"img",8),h.gc(),h.hc(18,"div",9),h.hc(19,"div",10),h.hc(20,"p"),h.cd(21),h.tc(22,"displayMonth"),h.gc(),h.gc(),h.hc(23,"div",11),h.hc(24,"app-weekly-calendar-selector",12,13),h.oc("_emitDateChanged",(function(t){return e.listenFormValueChanges(t)})),h.gc(),h.gc(),h.gc(),h.hc(26,"a",7),h.oc("click",(function(){return e.nextWeek()})),h.cc(27,"img",14),h.gc(),h.gc(),h.ad(28,ut,15,4,"div",15),h.gc(),h.ec(),h.hc(29,"div",16),h.hc(30,"div",17),h.hc(31,"div",18),h.hc(32,"button",19),h.oc("click",(function(){return e.importLastWeek()})),h.cc(33,"em",20),h.hc(34,"span"),h.cd(35,"Import shift details from previous week"),h.gc(),h.gc(),h.hc(36,"button",21),h.oc("click",(function(){return e.saveSchedule()})),h.cd(37," Send schedule "),h.gc(),h.gc(),h.hc(38,"div",22),h.ad(39,Lt,7,2,"table",23),h.ad(40,At,2,1,"div",24),h.gc(),h.hc(41,"div",25),h.hc(42,"div",26),h.ad(43,Ft,2,2,"span",27),h.gc(),h.hc(44,"div",28),h.hc(45,"mat-paginator",29),h.oc("page",(function(t){return e.changePage(t)})),h.gc(),h.gc(),h.gc(),h.gc(),h.gc(),h.gc()),2&t&&(h.Pb(12),h.zc("ngForOf",e.shiftMatMenu),h.Pb(9),h.ed(" ",h.uc(22,15,null==e.searchSortFilter?null:e.searchSortFilter.value)," "),h.Pb(3),h.zc("dateRangeConfig",e.dateRangeConfig),h.Pb(4),h.zc("ngIf",!e.workerId),h.Pb(2),h.zc("formGroup",e.scheduleGroup),h.Pb(2),h.zc("disabled",!(null!=e.dateRangeConfig&&e.dateRangeConfig.iSaveAllowed.value&&e.scheduleList.length))("ngClass",h.Ec(17,Rt,!(null!=e.dateRangeConfig&&e.dateRangeConfig.iSaveAllowed.value&&e.scheduleList.length))),h.Pb(4),h.zc("disabled",!(null!=e.dateRangeConfig&&e.dateRangeConfig.iSaveAllowed.value&&e.scheduleList.length)),h.Pb(3),h.zc("ngIf",e.scheduleFormArray.length),h.Pb(1),h.zc("ngIf",!e.firstTimeLoading&&0===e.total),h.Pb(3),h.zc("ngIf",e.scheduleList&&e.scheduleList.length),h.Pb(2),h.zc("length",e.total)("pageIndex",e.page-1)("pageSize",e.limit)("pageSizeOptions",e.pageOptions))},directives:[z.d,o.o,H,o.p,s.s,s.j,o.n,J.a,z.a,q.a,z.c,s.d,Q.a,st,ct.a],pipes:[lt.a,Z.a,X.a,F.a],styles:['.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#14b1bd;display:inline-block;vertical-align:middle;margin-right:15px}.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:22px}.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#969ba0;position:relative}.breadcrumbs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{position:absolute;content:"/";font-size:18px;color:#969ba0;right:-12px;top:-2px}.page-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:28px;color:#000;margin-bottom:15px;text-transform:capitalize}.calendar-wrap[_ngcontent-%COMP%]{width:440px;display:flex;align-items:center;margin:-2px}.calendar-wrap[_ngcontent-%COMP%]   .left-calendar[_ngcontent-%COMP%]{width:140px;padding:0 20px 0 10px;top:-4px}.calendar-wrap[_ngcontent-%COMP%]   .right-calendar[_ngcontent-%COMP%]{width:calc(100% - 140px);padding:0 5px}.calendar-wrap[_ngcontent-%COMP%]   .left-calendar[_ngcontent-%COMP%]{position:relative}.calendar-wrap[_ngcontent-%COMP%]   .left-calendar[_ngcontent-%COMP%]:before{width:8px;height:8px;border-radius:50%;opacity:.5;background-color:#6e6b6b;position:absolute;content:"";right:0;top:50%;transform:translateY(-50%)}.calendar-wrap[_ngcontent-%COMP%]   .left-calendar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:16px;font-weight:600;line-height:1.5;color:#14b1bd}.date-selector[_ngcontent-%COMP%]{width:480px;display:flex;align-items:center;justify-content:space-between}.date-selector[_ngcontent-%COMP%]   .next-icon[_ngcontent-%COMP%]{transform:rotate(-180deg)}@media (max-width:767px){.date-selector[_ngcontent-%COMP%]{width:100%}}.right-col-wrap[_ngcontent-%COMP%]{width:calc(100% - 340px);display:flex;align-items:flex-start;padding-left:15px}@media (max-width:1260px){.right-col-wrap[_ngcontent-%COMP%]{width:100%;padding-left:0}}@media (max-width:767px){.right-col-wrap[_ngcontent-%COMP%]{flex-direction:column}}.right-col-wrap[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]{padding-right:20px}@media (max-width:767px){.right-col-wrap[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]{padding-right:0}}[_nghost-%COMP%]     .mat-menu-panel{width:100%!important;min-width:100%!important}[_nghost-%COMP%]     .mat-paginator-page-size-select{width:80px}[_nghost-%COMP%]     .mat-date-range-input-container{justify-content:space-around}[_nghost-%COMP%]     .mat-date-range-input-start-wrapper{min-width:55px}[_nghost-%COMP%]     .right-calendar .mat-date-range-input{display:block;width:100%;position:relative;top:-3px}[_nghost-%COMP%]     .mat-date-range-input-inner{font-family:Lato,sans-serif;font-size:16px;color:#231e1e}[_nghost-%COMP%]     .right-calendar .mat-form-field-appearance-outline .mat-form-field-outline{display:none}[_nghost-%COMP%]     .right-calendar .mat-form-field .mat-form-field-wrapper .mat-form-field-flex{box-shadow:none}[_nghost-%COMP%]     .right-calendar .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button, [_nghost-%COMP%]     .right-calendar .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:32px;height:32px!important}[_nghost-%COMP%]     .job_list_paginator_wrapper{display:flex;align-items:center;justify-content:space-between;padding-left:20px}@media (max-width:576px){[_nghost-%COMP%]     .job_list_paginator_wrapper{flex-direction:column}}[_nghost-%COMP%]     .job_list_paginator_wrapper .mat-paginator-container{min-height:auto}@media (max-width:576px){[_nghost-%COMP%]     .job_list_paginator_wrapper{width:100%}}[_nghost-%COMP%]     .job_list_paginator_wrapper .mat-paginator-navigation-previous{width:50px!important;display:block;margin-right:35px!important}[_nghost-%COMP%]     .job_list_paginator_wrapper .mat-paginator-navigation-next{width:50px!important;display:block;margin-right:0!important}[_nghost-%COMP%]     .job_list_paginator_wrapper .mat-button-disabled{opacity:.2!important;cursor:default!important}[_nghost-%COMP%]     .cstm_table_wrapper{border-radius:10px;background:#fff;padding-bottom:20px}[_nghost-%COMP%]     .cstm_table_wrapper .table-scroll{height:calc(100vh - 350px);padding:0 10px;overflow-x:auto;overflow-y:auto}[_nghost-%COMP%]     .cstm_table_wrapper .table-scroll table{overflow-x:auto}[_nghost-%COMP%]     .cstm_table_wrapper .table-scroll table td, [_nghost-%COMP%]     .cstm_table_wrapper .table-scroll table th{padding:10px 5px 13px;min-width:200px;text-align:left}[_nghost-%COMP%]     .cstm_table_wrapper .table-scroll table td{position:relative}[_nghost-%COMP%]     .cstm_table_wrapper .table-scroll table td:before{width:100%;height:1px;background:#edf2f6;position:absolute;content:"";left:0;bottom:0}[_nghost-%COMP%]     .cstm_table_wrapper .table-scroll table th{white-space:nowrap;font-size:14px;font-weight:500;line-height:1.57;color:#96a5b8;border-bottom:1px solid #edf2f6}[_nghost-%COMP%]     .cstm_table_wrapper .table_action_btn_wrapper{display:flex}[_nghost-%COMP%]     .cstm_table_wrapper .toggle_btn{background:rgba(150,165,184,.4);color:#96a5b8;padding:7px 10px;border-radius:4px 0 0 4px;min-width:70px;text-align:center;font-family:Lato,sans-serif}[_nghost-%COMP%]     .cstm_table_wrapper .toggle_btn.active{background:#4caf50;color:#fff;cursor:default}[_nghost-%COMP%]     .cstm_table_wrapper .toggle_btn.block{background:#f44336;color:#fff;cursor:default}[_nghost-%COMP%]     .cstm_table_wrapper .toggle_btn.border_radius{border-radius:0 4px 4px 0!important}[_nghost-%COMP%]     .cstm_table_wrapper .mat-table{width:100%;border-radius:10px 10px 0 0;padding:0 20px 20px}[_nghost-%COMP%]     .cstm_table_wrapper .mat-elevation-z8{box-shadow:none}[_nghost-%COMP%]     .cstm_table_wrapper .mat-cell, [_nghost-%COMP%]     .cstm_table_wrapper .mat-footer-cell, [_nghost-%COMP%]     .cstm_table_wrapper .mat-header-cell{border-bottom:1px solid #edf2f6;text-align:left;white-space:nowrap;padding:15px}[_nghost-%COMP%]     .cstm_table_wrapper .mat-header-cell:first-of-type, [_nghost-%COMP%]     .cstm_table_wrapper td.mat-cell:first-of-type, [_nghost-%COMP%]     .cstm_table_wrapper td.mat-footer-cell:first-of-type{padding-left:0}[_nghost-%COMP%]     .cstm_table_wrapper .mat-header-cell{font-size:14px;font-weight:500;font-family:Lato,sans-serif;color:#96a5b8;text-align:left;white-space:nowrap;padding:15px}[_nghost-%COMP%]     .cstm_table_wrapper .mat-header-cell:last-of-type{text-align:center}[_nghost-%COMP%]     .mat-form-field .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .mat-form-field .mat-form-field .mat-form-field-wrapper .mat-form-field-flex{background:#eee}.no_search_wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;padding:50px 0;background:#fff;border:1px solid #dbe2ea}.no_search_wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-bottom:20px}.no_search_wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;margin-bottom:0;font-size:16px;font-weight:600}.filter_row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-top:20px}@media (max-width:1260px){.filter_row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;margin-bottom:20px}}.filter_row[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]{width:50%;display:flex}@media (max-width:767px){.filter_row[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]{width:100%}}@media (max-width:480px){.filter_row[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]{flex-direction:column}}.filter_row[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]   .app-common-search[_ngcontent-%COMP%], .filter_row[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]   .app-common-search[_ngcontent-%COMP%]   .common_search_wrapper[_ngcontent-%COMP%]{width:100%}.filter_row[_ngcontent-%COMP%]   .left_col[_ngcontent-%COMP%]   .show_entry_wrapper[_ngcontent-%COMP%]{max-width:103px;margin-right:20px}.filter_row[_ngcontent-%COMP%]   .right_col[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:flex-end}@media (max-width:767px){.filter_row[_ngcontent-%COMP%]   .right_col[_ngcontent-%COMP%]{width:100%}}.filter_row[_ngcontent-%COMP%]   .right_col[_ngcontent-%COMP%]   .sortby_btn[_ngcontent-%COMP%]{padding:7px 10px;border-radius:6px;border:1.5px solid rgba(150,165,184,.30196078431372547);display:flex;align-items:center;background:transparent;font-family:Lato,sans-serif;font-size:14px;font-weight:500;color:#231e1e}.filter_row[_ngcontent-%COMP%]   .right_col[_ngcontent-%COMP%]   .sortby_btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}.filter_row[_ngcontent-%COMP%]   .filter_btn[_ngcontent-%COMP%]{border-radius:6px;border:1.5px solid rgba(150,165,184,.30196078431372547);display:flex;align-items:center;background:transparent;font-family:Lato,sans-serif;font-size:14px;font-weight:500;color:#231e1e;margin-left:20px}.filter_row[_ngcontent-%COMP%]   .filter_btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}.worker-info[_ngcontent-%COMP%]{width:160px;display:flex;align-items:center;position:relative;top:-5px}.worker-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:100px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:14px;font-weight:500;line-height:1.29;color:#14b1bd}.worker-info[_ngcontent-%COMP%]   .ic-wrap[_ngcontent-%COMP%]{display:flex;align-items:center}.worker-info[_ngcontent-%COMP%]   .ic-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.worker-info[_ngcontent-%COMP%]   .ic-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:5px}.top-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px}.top-header[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]{width:290px;height:42px;flex-grow:0;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:4px 8px;border-radius:4px;border:.5px solid rgba(36,116,255,.2);background-color:#f4f8ff}.top-header[_ngcontent-%COMP%]   .download-btn.disable-btn[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%]{width:24px;height:24px;background:url(download-ic-dark.1941a33c9cb368c2f065.svg) 50% no-repeat}.top-header[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%]{width:24px;height:24px;background:url(download-ic.b1ee1dd9f9c3cbc039f8.svg) 50% no-repeat}.top-header[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;font-size:14px;font-weight:500;line-height:1.57;color:#14b1bd}.bubble[_ngcontent-%COMP%]{position:absolute;left:-10px;top:0;width:12px;height:12px;border-radius:50%;background:#ffc107;box-shadow:0 6px 8px rgba(135,67,223,.37)}.grey-dropdown[_ngcontent-%COMP%]{min-width:200px;min-height:40px;background-color:#f5f6f6;display:flex;justify-content:center;align-items:center;border:1px solid #dbe2ea;border-radius:6px}.grey-dropdown[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin:0}.grey-dropdown.shift[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6e6b6b}.grey-dropdown.leave[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e5e5e5}.disable-btn[_ngcontent-%COMP%]{cursor:no-drop;color:#eee!important}.disable-btn[_ngcontent-%COMP%], .disable-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#eee!important}.disable-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#aba9a9!important}.custom_tooltip[_ngcontent-%COMP%]{background:#fff;position:relative;width:240px;padding:12px;border:1px solid #dbe2ea;border-radius:0 5px 5px 5px}.custom_tooltip[_ngcontent-%COMP%]:before{width:22px;height:23px;position:absolute;content:"";background:url(tooltip-arrow.e10ca07325f3ec829111.svg) no-repeat;left:-22px;top:-1px}.custom_tooltip[_ngcontent-%COMP%]   .close_box[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;cursor:pointer}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]   .usr-pic[_ngcontent-%COMP%]{width:28px;height:28px}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]   .usr-pic[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;overflow:hidden}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]   .usr-pic[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center center}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{width:calc(100% - 28px);padding-left:5px}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   .top-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.29;color:#14b1bd;margin-bottom:0}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;font-weight:700;line-height:1.5;color:#6e6b6b}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#231e1e}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   .seprator[_ngcontent-%COMP%]{border-bottom:1px solid #dbe2ea;margin:13px 0 15px}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   .bottom-info[_ngcontent-%COMP%]   .min-engagement[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   .bottom-info[_ngcontent-%COMP%]   .min-engagement[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:1.83;color:#96a5b8}.custom_tooltip[_ngcontent-%COMP%]   .inner_sec[_ngcontent-%COMP%]   .bottom-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;line-height:1.29;color:#231e1e}.custom_tooltip.show[_ngcontent-%COMP%]{display:block}.info_icon[_ngcontent-%COMP%]:hover{cursor:pointer}.info_icon[_ngcontent-%COMP%]:hover   .custom_tooltip[_ngcontent-%COMP%], .showtool[_ngcontent-%COMP%]{display:block!important}.hidetool[_ngcontent-%COMP%]{display:none}.app-select-schedule-dropdown[_ngcontent-%COMP%]{position:relative;top:6px}[_nghost-%COMP%]     .list_paginator_wrapper .mat-paginator-page-size{display:none}[_nghost-%COMP%]     .table-scroll .disabled-drop{background-color:#f5f6f6}[_nghost-%COMP%]     .table-scroll .disabled-drop .mat-select-value-text .blue-text{color:#6e6b6b}[_nghost-%COMP%]     .table-scroll .mat-form-field.mat-form-field-disabled .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{background:#f5f6f6;opacity:.5;border:1px solid #dbe2ea;overflow:hidden;border-radius:6px}.job-type-location-wrap[_ngcontent-%COMP%]   .info-wrap[_ngcontent-%COMP%]{display:flex;align-items:center}.job-type-location-wrap[_ngcontent-%COMP%]   .info-wrap[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;font-weight:500;line-height:15px;color:#6e6b6b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.job-type-location-wrap[_ngcontent-%COMP%]   .info-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:5px}.applied_icon[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50%;background-color:#f44336;position:absolute;right:5px;top:-5px;color:#fff;font-size:10px}']}),t})();var Tt=n("GsMG"),zt=n("qFsG");const Nt=[n("tR4V").a];let Vt=(()=>{class t{}return t.\u0275mod=h.Zb({type:t}),t.\u0275inj=h.Yb({factory:function(e){return new(e||t)},providers:[f],imports:[[o.c,s.w,b.e,U.b,...Nt]]}),t})();const Wt=[N.g,b.e,V.j,s.w];let Yt=(()=>{class t{}return t.\u0275mod=h.Zb({type:t}),t.\u0275inj=h.Yb({factory:function(e){return new(e||t)},imports:[[o.c,...Wt]]}),t})();var Gt=n("PVzN"),Kt=n("gdGC"),Bt=n("zFkK"),Ht=n("9sDP"),Jt=n("ktbk");const qt=[U.b,s.w],Qt=[Kt.a,Bt.a];let Ut=(()=>{class t{}return t.\u0275mod=h.Zb({type:t}),t.\u0275inj=h.Yb({factory:function(e){return new(e||t)},imports:[[o.c,...qt,...Qt]]}),t})();var Xt=n("+RAp");const Zt=[{path:"",component:Et}],$t=[b.e,x.l,z.b,c.f,Yt,s.w,J.b,Q.b],te=[Ut,Vt,Jt.a],ee=[Gt.a,Kt.a,Bt.a,Ht.a],ne=[Xt.a];let oe=(()=>{class t{}return t.\u0275mod=h.Zb({type:t}),t.\u0275inj=h.Yb({factory:function(e){return new(e||t)},providers:[f],imports:[[o.c,U.b,Tt.a,N.g,zt.c,T.j.forChild(Zt),...$t,...te,...ee,...ne]]}),t})()},pFNx:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const o={emailMaxLength:100,passwordMinLength:8,passwordMaxLength:15,nameMinLength:2,nameMaxLength:100,phoneMinLength:8,phoneMaxLength:14,descriptionMinLength:3,descriptionMaxLength:500,descriptionMaxLength400:400,descriptionMaxLength1200:1200,priceMinLength:1,priceMaxLength:10,minFloor:0,maxFloor:20,minArea:100,maxArea:1e4,houseNumberMinLength:1,houseNumberMaxLength:100,streetMinLength:3,streetMaxLength:100,zipcodeMinLength:2,zipcodeMaxLength:16,taxNumberMinLength:3,taxNumberMaxLength:40,regNumberMinLength:3,regNumberMaxLength:40,landmarkMinLength:3,landmarkMaxLength:140,bioMinLength:3,bioMaxLength:140,addressMinLength:3,addressMaxLength:200,phoneNumber:10,subjectMaxLength:250,maxvacancies:2,uenMinLength:9,uenMaxLength:10,maxinviteTitleLength:100,mininviteTitleLength:2,mininviteMsgLength:3,maxinviteMsgLength:500}},qy2Q:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var o=n("fXoL"),a=n("3Pt+"),i=n("Kj3r"),r=n("kmnG"),s=n("qFsG"),c=n("ofXK"),l=n("NFeN"),d=n("bTqV");function h(t,e){if(1&t){const t=o.ic();o.hc(0,"button",5),o.oc("click",(function(){return o.Qc(t),o.sc().resetSearch()})),o.hc(1,"mat-icon"),o.cd(2,"close"),o.gc(),o.gc()}}let g=(()=>{class t{constructor(){this.setSearch=new o.r,this.search="",this.searchControl=new a.f("")}subscribeToSearch(){this.searchControl.valueChanges.pipe(Object(i.a)(800)).subscribe(t=>{this.setSearch.emit(t.trim())})}ngOnInit(){this.searchControl.setValue(this.search),this.subscribeToSearch()}searchResult(){this.setSearch.emit(this.searchControl.value.trim())}resetSearch(){this.search="",this.searchControl.setValue(""),this.setSearch.emit("")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Vb({type:t,selectors:[["app-common-search"]],inputs:{placeholder:"placeholder",search:"search"},outputs:{setSearch:"setSearch"},decls:7,vars:3,consts:[[1,"common_search_wrapper"],["appearance","none",1,"search_filter"],["type","text","matInput","",3,"formControl","placeholder","keyup.enter"],["type","button","mat-button","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","",2,"cursor","pointer",3,"click"],["type","button","mat-button","","matPrefix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){1&t&&(o.hc(0,"div",0),o.hc(1,"mat-form-field",1),o.hc(2,"input",2),o.oc("keyup.enter",(function(){return e.searchResult()})),o.gc(),o.ad(3,h,3,0,"button",3),o.hc(4,"span",4),o.oc("click",(function(){return e.searchResult()})),o.hc(5,"mat-icon"),o.cd(6,"search"),o.gc(),o.gc(),o.gc(),o.gc()),2&t&&(o.Pb(2),o.Ac("placeholder",e.placeholder||"Search by name"),o.zc("formControl",e.searchControl),o.Pb(1),o.zc("ngIf",e.searchControl.value.trim()))},directives:[r.c,s.b,a.c,a.r,a.g,c.p,r.i,l.a,d.a,r.h],styles:["[_nghost-%COMP%]     .common_search_wrapper{width:100%}@media (max-width:1280px){[_nghost-%COMP%]     .common_search_wrapper{width:100%}}[_nghost-%COMP%]     .common_search_wrapper .mat-input-element{font-size:14px;font-family:lato,sans-serif}[_nghost-%COMP%]     .common_search_wrapper .mat-form-field-prefix, [_nghost-%COMP%]     .common_search_wrapper .mat-form-field-suffix{top:4px;right:-7px;color:red}[_nghost-%COMP%]     .common_search_wrapper .mat-form-field{margin-bottom:0}[_nghost-%COMP%]     .common_search_wrapper .mat-form-field-appearance-outline .mat-form-field-wrapper{margin-bottom:0;padding-bottom:0}[_nghost-%COMP%]     .common_search_wrapper .mat-form-field .mat-form-field-wrapper .mat-form-field-flex{margin-top:0;padding:0;box-shadow:0 4px 8px 0 rgba(44,39,56,.04);background:rgba(219,226,234,.4);border-radius:4px}[_nghost-%COMP%]     .common_search_wrapper .mat-form-field-suffix{white-space:nowrap;flex:none;position:relative;top:5px;right:6px;padding:5px;border-radius:100%;color:#14b1bd;font-size:15px}"]}),t})()},tR4V:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var o=n("ofXK"),a=n("3Pt+"),i=n("bTqV"),r=n("A5z7"),s=n("kmnG"),c=n("NFeN"),l=n("qFsG"),d=n("/1cH"),h=n("3gFM"),g=n("Qu3c"),p=n("Xa2L"),u=n("fXoL");const f=[p.b,g.b];let m=(()=>{class t{}return t.\u0275mod=u.Zb({type:t}),t.\u0275inj=u.Yb({factory:function(e){return new(e||t)},imports:[[o.c,a.w,l.c,s.e,i.b,d.b,r.d,c.b,h.a,...f]]}),t})()},zFkK:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("AgBJ"),a=n("fXoL");let i=(()=>{class t{}return t.\u0275mod=a.Zb({type:t}),t.\u0275inj=a.Yb({factory:function(e){return new(e||t)},providers:[o.a]}),t})()}}]);