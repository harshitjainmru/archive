(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"0kEm":function(t,e,n){"use strict";n.r(e),n.d(e,"LoginModule",(function(){return $}));var o=n("ofXK"),r=n("fXoL"),i=n("A1CT"),c=n("mrSG"),a=n("3Pt+"),s=n("tk/3"),p=n("/9RH"),l=n("md+p"),g=n("oX63");let h=(()=>{class t{constructor(){}getErrorType(t){switch(t){case"NO_INTERNET":return 0;case"PHONE_NOT_VERIFIED":return 1;case"ACCOUNT_BLOCKED":return 2;case"NOT_FOUND_USER":case"INCORRECT_PASSWORD":return 4;case"USER_TYPE_NOT_ALLOWED":return 5;default:return 9}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Xb({token:t,factory:t.\u0275fac}),t})();var d=n("tyNb"),u=n("YRvN"),m=n("kmnG"),f=n("fZ8D"),b=n("qFsG"),_=n("FTLv"),w=n("NFeN"),O=n("bSwM"),C=n("bTqV"),P=n("B/In"),y=n("s+Rm"),M=n("wylM"),v=n("fWtw"),k=n("IEde"),x=n("AgBJ"),S=n("YtCS");function L(t,e){1&t&&r.cc(0,"app-data-loader")}function E(t,e){1&t&&(r.hc(0,"mat-error"),r.cd(1),r.tc(2,"translate"),r.gc()),2&t&&(r.Pb(1),r.dd(r.uc(2,1,"NOT_REGISTERED")))}function I(t,e){if(1&t&&(r.hc(0,"span",26),r.cd(1),r.gc()),2&t){const t=r.sc(2);r.Pb(1),r.dd(t.errormsg)}}function N(t,e){if(1&t&&(r.hc(0,"span",27),r.cd(1),r.gc()),2&t){const t=r.sc(2);r.Pb(1),r.dd(t.errormsg)}}const R=function(){return["password"]},F=function(t){return[t]};function T(t,e){if(1&t){const t=r.ic();r.hc(0,"div",2),r.hc(1,"div",3),r.hc(2,"h3",4),r.cd(3),r.tc(4,"translate"),r.gc(),r.hc(5,"p",5),r.cd(6),r.tc(7,"translate"),r.gc(),r.gc(),r.hc(8,"form",6),r.oc("ngSubmit",(function(){return r.Qc(t),r.sc().sendOtp()})),r.hc(9,"div",7),r.hc(10,"app-phone-field",8),r.oc("hideBackendError",(function(){return r.Qc(t),r.sc().errorType=0})),r.gc(),r.ad(11,L,1,0,"app-data-loader",9),r.ad(12,E,3,3,"mat-error",9),r.ad(13,I,2,1,"span",10),r.gc(),r.hc(14,"div",11),r.hc(15,"mat-label"),r.cd(16),r.tc(17,"translate"),r.hc(18,"span",12),r.cd(19,"*"),r.gc(),r.gc(),r.hc(20,"mat-form-field",13),r.hc(21,"input",14),r.oc("keydown",(function(){return r.Qc(t),r.sc().errorType=0})),r.tc(22,"translate"),r.gc(),r.hc(23,"mat-icon",15),r.oc("click",(function(){r.Qc(t);const e=r.sc();return e.hidePassword=!e.hidePassword})),r.cd(24),r.gc(),r.hc(25,"mat-error"),r.cd(26),r.tc(27,"validate"),r.tc(28,"getControl"),r.gc(),r.ad(29,N,2,1,"span",16),r.gc(),r.gc(),r.hc(30,"div",17),r.hc(31,"div",18),r.hc(32,"mat-checkbox",19),r.cd(33,"Remember me"),r.gc(),r.gc(),r.hc(34,"a",20),r.tc(35,"absolutePath"),r.cd(36,"Forgot Password?"),r.gc(),r.gc(),r.hc(37,"div",21),r.hc(38,"button",22),r.hc(39,"app-button-loader",23),r.cd(40),r.tc(41,"translate"),r.gc(),r.gc(),r.gc(),r.hc(42,"div",24),r.hc(43,"p"),r.cd(44," Don\u2019t have an account yet? "),r.hc(45,"a",25),r.tc(46,"absolutePath"),r.cd(47),r.tc(48,"translate"),r.gc(),r.gc(),r.gc(),r.gc(),r.gc()}if(2&t){const t=r.sc();r.Pb(3),r.dd(r.uc(4,19,"LOGIN_WELCOME")),r.Pb(3),r.dd(r.uc(7,21,"PROVIDE_PHONE")),r.Pb(2),r.zc("formGroup",t.phoneLoginForm),r.Pb(2),r.zc("phoneForm",t.phoneLoginForm),r.Pb(1),r.zc("ngIf",t.showLoader),r.Pb(1),r.zc("ngIf",t.showError),r.Pb(1),r.zc("ngIf",1==t.errorType||2==t.errorType||3==t.errorType||5==t.errorType),r.Pb(3),r.ed("",r.vc(17,23,"PASSWORD","TITLE")," \xa0"),r.Pb(5),r.zc("type",t.hidePassword?"password":"text")("placeholder",r.uc(22,26,"ENTER_PASSWORD")),r.Pb(3),r.ed(" ",t.hidePassword?"visibility_off":"visibility"," "),r.Pb(2),r.ed(" ",r.vc(27,28,r.vc(28,31,t.phoneLoginForm,r.Dc(42,R)),"PASSWORD")," "),r.Pb(3),r.zc("ngIf",4==t.errorType||9==t.errorType),r.Pb(3),r.zc("formControl",t.rememberMeCtrl),r.Pb(2),r.zc("routerLink",r.Ec(43,F,r.uc(35,34,"FORGOT_PASSWORD"))),r.Pb(5),r.zc("showLoader",t.phoneLoginForm.disabled),r.Pb(1),r.dd(r.uc(41,36,"LOGIN")),r.Pb(5),r.zc("routerLink",r.Ec(45,F,r.uc(46,38,"SIGNUP"))),r.Pb(2),r.dd(r.uc(48,40,"SIGNUP"))}}function D(t,e){if(1&t){const t=r.ic();r.hc(0,"app-otp-verification",28),r.oc("onBack",(function(){return r.Qc(t),r.sc().showOtpScreen=!1}))("verifyOtp",(function(e){return r.Qc(t),r.sc().verifyOtp(e)})),r.gc()}if(2&t){const t=r.sc();r.zc("otpAttemptLeft",t.attemptLeft)("phoneData",t.phoneLoginForm.value)}}let z=(()=>{class t{constructor(t,e,n,o,i,c){this._formBuilder=t,this._formService=e,this._accountService=n,this._utility=o,this._loginService=i,this.router=c,this.loginWithEmail=new r.r,this.rememberMeCtrl=new a.f,this.showOtpScreen=!1,this.hidePassword=!0,this.showError=!1,this.showLoader=!1,this.errormsg=null,this.signUpdata=null,this.otpData=null}ngOnInit(){this.createForm(),this.rememberMeCtrl.setValue(this._utility.RememberMe),this.rememberMeCtrl.value&&this.phoneLoginForm.patchValue(this._utility.RememberMeData)}createForm(){this.phoneLoginForm=this._formBuilder.group({phoneNo:this._formService.getControl("phone"),password:this._formService.getControl("password"),countryCode:this._formService.getControl("dropdown")})}getUnReferenced(t){return JSON.parse(JSON.stringify(t))}sendOtp(){return Object(c.a)(this,void 0,void 0,(function*(){try{if(this.phoneLoginForm.disabled||this.phoneLoginForm.invalid)return;this.phoneLoginForm.disable();let t=Object.assign({},this.phoneLoginForm.value),{phoneNo:e}=t;t=Object.assign(Object.assign({},t),{phoneNo:e.replace(/^0+/,"")}),yield this._accountService.loginWithphone(t),this._utility.setRememberMe(this.rememberMeCtrl.value);const n=this.getUnReferenced(this.phoneLoginForm.value);this._utility.setRememberMeData(n)}catch(t){t&&t instanceof s.d&&(this.phoneLoginForm.enable(),this.signUpdata=t.error.data,t.error.statusCode===p.k.PHONE_NOT_VERIFIED?(this.showOtpScreen=!0,this.otpData={countryCode:this.phoneLoginForm.value.countryCode,phoneNo:this.phoneLoginForm.value.phoneNo}):(this.errorType=this._loginService.getErrorType(t.error.type),this.errormsg=t.error.message))}}))}verifyOtp(t){return Object(c.a)(this,void 0,void 0,(function*(){try{const e=yield this._accountService.verifyOtp({accessToken:this.signUpdata.authToken,otp:t,type:"SIGNUP"});this._accountService.loginSuccess(e)}catch(e){console.log("hahahaahha",e),e.error.data.attemptCountLeft<=0&&(this.showOtpScreen=!1),this.attemptLeft=e.error.data.attemptCountLeft<=0?0:e.error.data.attemptCountLeft}}))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(a.e),r.bc(l.a),r.bc(g.a),r.bc(i.a),r.bc(h),r.bc(d.f))},t.\u0275cmp=r.Vb({type:t,selectors:[["app-phone-login"]],outputs:{loginWithEmail:"loginWithEmail"},decls:3,vars:2,consts:[["class","login_wrapper animated fadeInRight",4,"ngIf","ngIfElse"],["otp",""],[1,"login_wrapper","animated","fadeInRight"],[1,"wrap"],[1,"page_title"],[1,"sub_heading"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"form_wrapper","clearfix"],[3,"phoneForm","hideBackendError"],[4,"ngIf"],["class","mat-error custom-validation backend-err",4,"ngIf"],[1,"form_group","clearfix"],[1,"mandatory_field"],["checkMaxLength","passwordMaxLength","appearance","outline",1,"example-full-width"],["matInput","","formControlName","password",3,"type","placeholder","keydown"],["matSuffix","",1,"pointer",3,"click"],["class","mat-error custom-validation",4,"ngIf"],[1,"remember-me"],[1,"checkbox-wrap"],[1,"example-margin",3,"formControl"],["tabindex","-1",3,"routerLink"],[1,"btn-wrap","clearfix"],["mat-button","","type","submit",1,"login-btn"],[3,"showLoader"],[1,"info"],[3,"routerLink"],[1,"mat-error","custom-validation","backend-err"],[1,"mat-error","custom-validation"],[3,"otpAttemptLeft","phoneData","onBack","verifyOtp"]],template:function(t,e){if(1&t&&(r.ad(0,T,49,47,"div",0),r.ad(1,D,1,2,"ng-template",null,1,r.bd)),2&t){const t=r.Nc(2);r.zc("ngIf",!e.showOtpScreen)("ngIfElse",t)}},directives:[o.p,a.y,a.s,a.j,u.a,m.g,m.c,f.a,b.b,a.c,_.a,a.r,a.h,w.a,m.i,m.b,O.a,a.g,d.i,C.a,P.a,y.a,M.a],pipes:[v.a,k.a,x.a,S.a],styles:['.login_wrapper[_ngcontent-%COMP%]{max-width:504px;margin:auto}.login_wrapper[_ngcontent-%COMP%]   .pointer[_ngcontent-%COMP%]{cursor:pointer}.login_wrapper[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{margin-bottom:30px}.login_wrapper[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .page_title[_ngcontent-%COMP%]{font-size:34px;font-weight:700;line-height:1.23;text-align:left;color:#14b1bd;display:flex;align-items:center;white-space:nowrap;margin-bottom:0}@media (max-width:1024px){.login_wrapper[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .page_title[_ngcontent-%COMP%]{font-size:28px}}.login_wrapper[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .page_title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.login_wrapper[_ngcontent-%COMP%]   .sub_heading[_ngcontent-%COMP%]{opacity:.85;font-size:13px;font-weight:300;line-height:1.5;color:#232323;padding-right:160px;word-break:break-word}@media (max-width:480px){.login_wrapper[_ngcontent-%COMP%]   .sub_heading[_ngcontent-%COMP%]{padding-right:0}}.login_wrapper[_ngcontent-%COMP%]   .btn_wrapper[_ngcontent-%COMP%]{margin:20px 0}.login_wrapper[_ngcontent-%COMP%]   .btn_wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.login_wrapper[_ngcontent-%COMP%]   .other_login[_ngcontent-%COMP%]{font-size:12px;color:#727272;position:relative;width:100%;display:block;text-align:center;margin:20px 0}.login_wrapper[_ngcontent-%COMP%]   .other_login[_ngcontent-%COMP%]:after{position:absolute;content:"";width:35%;height:1px;background:#727272;opacity:.3;right:0;top:9px}@media (max-width:480px){.login_wrapper[_ngcontent-%COMP%]   .other_login[_ngcontent-%COMP%]:after{width:30%}}@media (max-width:375px){.login_wrapper[_ngcontent-%COMP%]   .other_login[_ngcontent-%COMP%]:after{width:25%}}.login_wrapper[_ngcontent-%COMP%]   .other_login[_ngcontent-%COMP%]:before{position:absolute;content:"";width:35%;height:1px;background:#727272;opacity:.3;left:0;top:9px}@media (max-width:480px){.login_wrapper[_ngcontent-%COMP%]   .other_login[_ngcontent-%COMP%]:before{width:30%}}@media (max-width:375px){.login_wrapper[_ngcontent-%COMP%]   .other_login[_ngcontent-%COMP%]:before{width:25%}}.animated[_ngcontent-%COMP%]{animation-duration:1s;animation-fill-mode:both}.fadeInRight[_ngcontent-%COMP%]{animation-name:fadeInRight}@keyframes fadeInRight{0%{opacity:0;transform:translate3d(100%,0,0)}to{opacity:1;transform:translateZ(0)}}.single_click[_ngcontent-%COMP%]{font-size:12px;color:#727272;position:relative;width:100%;display:block;text-align:center}.btn-wrap[_ngcontent-%COMP%], .single_click[_ngcontent-%COMP%]{margin-bottom:15px}.btn-wrap[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:6px;background:#14b1bd;color:#fff;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:600}.btn-wrap[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:disabled{background:#e7edf3;color:#231e1e}.remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:25px}.remember-me[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#14b1bd}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .remember-me[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;line-height:18px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;color:#231e1e}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#14b1bd}[_nghost-%COMP%]{width:100%}']}),t})(),K=(()=>{class t{constructor(t){this._utilityService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.a))},t.\u0275cmp=r.Vb({type:t,selectors:[["app-login"]],decls:1,vars:0,template:function(t,e){1&t&&r.cc(0,"app-phone-login")},directives:[z],styles:["[_nghost-%COMP%]{width:100%}"]}),t})();var U=n("d3UM"),j=n("+s5d"),A=n("faKS"),G=n("zFkK"),W=n("6MPv"),V=n("3V+5"),X=n("zyXa"),B=n("eTYa"),Q=n("SkSG"),Y=n("+Sne"),J=n("/FLV"),H=n("mZJV"),Z=n("Xb6R");const q=[{path:"",component:K}];let $=(()=>{class t{}return t.\u0275mod=r.Zb({type:t}),t.\u0275inj=r.Yb({factory:function(e){return new(e||t)},providers:[h],imports:[[o.c,d.j.forChild(q),m.e,b.c,O.b,U.b,Q.a,a.w,G.a,V.a,W.a,Y.a,A.a,X.a,w.b,H.a,J.a,C.b,j.a,B.a,Z.a]]}),t})()},E0so:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("/9RH"),r=n("ofXK"),i=n("fXoL"),c=n("A1CT");let a=(()=>{class t{constructor(t,e){this.utilService=t,this.currencyPipe=e}transform(t,e,n="symbol",i="1.2-2",c="zh"){let a=o.h[null!=e?e:this.utilService.currentCountry.name.toUpperCase()];t%1==0&&(i="1.0-0");let s=Object(r.A)(t,c,Object(r.C)(a,"narrow"),a,i);return a===o.h.SINGAPORE&&(s="S"+s),s=s.split(""),s.splice(2,0," "),s=s.join(""),s}}return t.\u0275fac=function(e){return new(e||t)(i.bc(c.a),i.bc(r.d))},t.\u0275pipe=i.ac({name:"customCurrency",type:t,pure:!0}),t})()},IKo7:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("ofXK"),r=n("fXoL");let i=(()=>{class t{}return t.\u0275mod=r.Zb({type:t}),t.\u0275inj=r.Yb({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})()},nEYI:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n("fXoL");let r=(()=>{class t{constructor(t){this.el=t,this.autocomplete="off",this.allowDecimal=!1}onKeyDown(t){-1!==[46,8,9,27,13,...this.allowDecimal?[190]:[]].indexOf(t.keyCode)||65===t.keyCode&&!0===t.ctrlKey||67===t.keyCode&&!0===t.ctrlKey||86===t.keyCode&&!0===t.ctrlKey||88===t.keyCode&&!0===t.ctrlKey||65===t.keyCode&&!0===t.metaKey||67===t.keyCode&&!0===t.metaKey||86===t.keyCode&&!0===t.metaKey||88===t.keyCode&&!0===t.metaKey||t.keyCode>=35&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()}onKeyUp(t){let e=Number(this.el.nativeElement.value);this.isFloat(e)&&(this.el.nativeElement.value=+parseFloat(this.el.nativeElement.value).toFixed(2))}isFloat(t){return Number(t)===t&&t%1!=0}}return t.\u0275fac=function(e){return new(e||t)(o.bc(o.o))},t.\u0275dir=o.Wb({type:t,selectors:[["","numberOnly",""]],hostVars:1,hostBindings:function(t,e){1&t&&o.oc("keydown",(function(t){return e.onKeyDown(t)}))("keyup",(function(t){return e.onKeyUp(t)})),2&t&&o.Qb("autocomplete",e.autocomplete)},inputs:{allowDecimal:"allowDecimal"}}),t})()}}]);